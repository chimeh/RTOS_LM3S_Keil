<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>UCOS_TI_LM3S_Keil: UCOS_TI_LM3S_Keil/uCOS-II/Source/os_core.c 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UCOS_TI_LM3S_Keil
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="pages.html"><span>相关页面</span></a></li>
      <li><a href="annotated.html"><span>结构体</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>全局定义</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('os__core_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全部</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>结构体</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>文件</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>函数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>变量</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>类型定义</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>宏定义</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>页</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a> &#124;
<a href="#func-members">函数</a> &#124;
<a href="#var-members">变量</a>  </div>
  <div class="headertitle">
<div class="title">os_core.c 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="ucos__ii_8h_source.html">ucos_ii.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
os_core.c 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c__incl.png" border="0" usemap="#_u_c_o_s___t_i___l_m3_s___keil_2u_c_o_s-_i_i_2_source_2os__core_8c" alt=""/></div>
<map name="_u_c_o_s___t_i___l_m3_s___keil_2u_c_o_s-_i_i_2_source_2os__core_8c" id="_u_c_o_s___t_i___l_m3_s___keil_2u_c_o_s-_i_i_2_source_2os__core_8c">
<area shape="rect" id="node2" href="ucos__ii_8h.html" title="ucos_ii.h" alt="" coords="60,96,135,123"/><area shape="rect" id="node3" href="_a_p_p_2os__cfg_8h.html" title="os_cfg.h" alt="" coords="14,171,84,197"/><area shape="rect" id="node4" href="os__cpu_8h.html" title="os_cpu.h" alt="" coords="109,171,184,197"/></map>
</div>
</div>
<p><a href="os__core_8c_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:a79a96e95e1a019816dcf482002023a0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a79a96e95e1a019816dcf482002023a0c">OS_GLOBALS</a></td></tr>
<tr class="separator:a79a96e95e1a019816dcf482002023a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:aeebfa0c8217412c2f0fec844f3b68e47"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#aeebfa0c8217412c2f0fec844f3b68e47">OS_InitEventList</a> (void)</td></tr>
<tr class="separator:aeebfa0c8217412c2f0fec844f3b68e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f1c4514c9a299939ece49e5944f18f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#aa7f1c4514c9a299939ece49e5944f18f">OS_InitMisc</a> (void)</td></tr>
<tr class="separator:aa7f1c4514c9a299939ece49e5944f18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261e0ee34f7f9ed1fce0ac87db3c5ad7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a261e0ee34f7f9ed1fce0ac87db3c5ad7">OS_InitRdyList</a> (void)</td></tr>
<tr class="separator:a261e0ee34f7f9ed1fce0ac87db3c5ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af870ae7949072c168fd4f8c17d1ae9c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6">OS_InitTaskIdle</a> (void)</td></tr>
<tr class="separator:af870ae7949072c168fd4f8c17d1ae9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a49b390887c036182d8c0b49553fca"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca">OS_InitTaskStat</a> (void)</td></tr>
<tr class="separator:a15a49b390887c036182d8c0b49553fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b08bf9818c51413233a54c4580165ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a2b08bf9818c51413233a54c4580165ea">OS_InitTCBList</a> (void)</td></tr>
<tr class="separator:a2b08bf9818c51413233a54c4580165ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c012d2e7a886885bd6f80ca15b295b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8">OS_SchedNew</a> (void)</td></tr>
<tr class="separator:a4c012d2e7a886885bd6f80ca15b295b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ca66834bb18cd2120c0c468fde0383"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a51ca66834bb18cd2120c0c468fde0383">OSEventNameGet</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *pevent, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> **pname, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *perr)</td></tr>
<tr class="separator:a51ca66834bb18cd2120c0c468fde0383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4436b744a481644cf77c6addfae09ffa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a4436b744a481644cf77c6addfae09ffa">OSEventNameSet</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *pevent, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *pname, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *perr)</td></tr>
<tr class="separator:a4436b744a481644cf77c6addfae09ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c3b9f8f0aa851a4d1342dceb75ef4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a26c3b9f8f0aa851a4d1342dceb75ef4a">OSEventPendMulti</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **pevents_pend, <a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **pevents_rdy, void **pmsgs_rdy, <a class="el" href="os__cpu_8h.html#a3954a3ec775325f557f0b4942a964f91">INT32U</a> timeout, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *perr)</td></tr>
<tr class="separator:a26c3b9f8f0aa851a4d1342dceb75ef4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefd47bb79544cf1414a3c6954d71258"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#afefd47bb79544cf1414a3c6954d71258">OSInit</a> (void)</td></tr>
<tr class="separator:afefd47bb79544cf1414a3c6954d71258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca750f944f1f608b7f7bf3c32244553"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a2ca750f944f1f608b7f7bf3c32244553">OSIntEnter</a> (void)</td></tr>
<tr class="separator:a2ca750f944f1f608b7f7bf3c32244553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1fd264b45d9f9fa70c14c4693c353e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#abf1fd264b45d9f9fa70c14c4693c353e">OSIntExit</a> (void)</td></tr>
<tr class="separator:abf1fd264b45d9f9fa70c14c4693c353e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57079213997465346e3836c7fe037c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#ae57079213997465346e3836c7fe037c2">OSSchedLock</a> (void)</td></tr>
<tr class="separator:ae57079213997465346e3836c7fe037c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb8ef08bd5b8ee1376b200e9f4ee9f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#accb8ef08bd5b8ee1376b200e9f4ee9f7">OSSchedUnlock</a> (void)</td></tr>
<tr class="separator:accb8ef08bd5b8ee1376b200e9f4ee9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af83ea21f3e3deb1d3848e02043e6d638"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#af83ea21f3e3deb1d3848e02043e6d638">OSStart</a> (void)</td></tr>
<tr class="separator:af83ea21f3e3deb1d3848e02043e6d638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba8aba02bcf614eef38c0133f968c49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a5ba8aba02bcf614eef38c0133f968c49">OSStatInit</a> (void)</td></tr>
<tr class="separator:a5ba8aba02bcf614eef38c0133f968c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf35bebb7ed88c38c212ee675f3713db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#abf35bebb7ed88c38c212ee675f3713db">OSTimeTick</a> (void)</td></tr>
<tr class="separator:abf35bebb7ed88c38c212ee675f3713db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d0fb7cc3d1f09d855cc248fabeac56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#af4d0fb7cc3d1f09d855cc248fabeac56">OSVersion</a> (void)</td></tr>
<tr class="separator:af4d0fb7cc3d1f09d855cc248fabeac56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0dd3f8afd8d36a8cead860a53fffc92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#ad0dd3f8afd8d36a8cead860a53fffc92">OS_Dummy</a> (void)</td></tr>
<tr class="separator:ad0dd3f8afd8d36a8cead860a53fffc92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66443267dcaea36601c0d05b297a9b85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a66443267dcaea36601c0d05b297a9b85">OS_EventTaskRdy</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *pevent, void *pmsg, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> msk, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> pend_stat)</td></tr>
<tr class="separator:a66443267dcaea36601c0d05b297a9b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ffa04010427c899c109336e1de0046"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a72ffa04010427c899c109336e1de0046">OS_EventTaskWait</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *pevent)</td></tr>
<tr class="separator:a72ffa04010427c899c109336e1de0046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6986b3da9041b662337dd8f7fc5b0e09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a6986b3da9041b662337dd8f7fc5b0e09">OS_EventTaskWaitMulti</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **pevents_wait)</td></tr>
<tr class="separator:a6986b3da9041b662337dd8f7fc5b0e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc333171c0a5c0e970d0e52bb56028f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0">OS_EventTaskRemove</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *ptcb, <a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *pevent)</td></tr>
<tr class="separator:adc333171c0a5c0e970d0e52bb56028f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fd3f13f0d6b856f5bf627c3ccb0259"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259">OS_EventTaskRemoveMulti</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *ptcb, <a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **pevents_multi)</td></tr>
<tr class="separator:a47fd3f13f0d6b856f5bf627c3ccb0259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905a0e05a1feccd489e2096ceb9aa086"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a905a0e05a1feccd489e2096ceb9aa086">OS_EventWaitListInit</a> (<a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *pevent)</td></tr>
<tr class="separator:a905a0e05a1feccd489e2096ceb9aa086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba333bc9b08985d9519c29a430188f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0">OS_MemClr</a> (<a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *pdest, <a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> size)</td></tr>
<tr class="separator:a0ba333bc9b08985d9519c29a430188f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf05e647845c323c2440b7062ad6ca6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a3cf05e647845c323c2440b7062ad6ca6">OS_MemCopy</a> (<a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *pdest, <a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *psrc, <a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> size)</td></tr>
<tr class="separator:a3cf05e647845c323c2440b7062ad6ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d641c1c441f4be4896745deafd66292"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292">OS_Sched</a> (void)</td></tr>
<tr class="separator:a5d641c1c441f4be4896745deafd66292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97dc1f3c7f7c04d67c65bc58d015faaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a97dc1f3c7f7c04d67c65bc58d015faaf">OS_StrLen</a> (<a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *psrc)</td></tr>
<tr class="separator:a97dc1f3c7f7c04d67c65bc58d015faaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a3a478f8472462ac3b70b789f29409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409">OS_TaskIdle</a> (void *p_arg)</td></tr>
<tr class="separator:a73a3a478f8472462ac3b70b789f29409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827236210af1492f347cebe245caeda1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a827236210af1492f347cebe245caeda1">OS_TaskStat</a> (void *p_arg)</td></tr>
<tr class="separator:a827236210af1492f347cebe245caeda1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504e6d3c536501abee75502199349c8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a504e6d3c536501abee75502199349c8b">OS_TaskStatStkChk</a> (void)</td></tr>
<tr class="separator:a504e6d3c536501abee75502199349c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e9bc6f0d0dfe29f860cd5a5480fea4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a95e9bc6f0d0dfe29f860cd5a5480fea4">OS_TCBInit</a> (<a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> prio, <a class="el" href="os__cpu_8h.html#a1f60e2713aaa63efc8c5fafdcdeaa8a2">OS_STK</a> *ptos, <a class="el" href="os__cpu_8h.html#a1f60e2713aaa63efc8c5fafdcdeaa8a2">OS_STK</a> *pbos, <a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> id, <a class="el" href="os__cpu_8h.html#a3954a3ec775325f557f0b4942a964f91">INT32U</a> stk_size, void *pext, <a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> opt)</td></tr>
<tr class="separator:a95e9bc6f0d0dfe29f860cd5a5480fea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
变量</h2></td></tr>
<tr class="memitem:a0d700eca9c505adfea39e094d353b5c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a> [256]</td></tr>
<tr class="separator:a0d700eca9c505adfea39e094d353b5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">宏定义说明</h2>
<a class="anchor" id="a79a96e95e1a019816dcf482002023a0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_GLOBALS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00025">25</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a class="anchor" id="aeebfa0c8217412c2f0fec844f3b68e47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_InitEventList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01254">1254</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00130">OS_EVENT_TYPE_UNUSED</a>, <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00042">OS_MAX_EVENTS</a>, <a class="el" href="os__core_8c_source.html#l01549">OS_MemClr()</a>, <a class="el" href="ucos__ii_8h_source.html#l00717">OSEventFreeList</a>, <a class="el" href="ucos__ii_8h_source.html#l00405">OS_EVENT::OSEventName</a>, <a class="el" href="ucos__ii_8h_source.html#l00394">OS_EVENT::OSEventPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00718">OSEventTbl</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00393">OS_EVENT::OSEventType</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00563">OSInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="preprocessor">#if (OS_EVENT_EN) &amp;&amp; (OS_MAX_EVENTS &gt; 0u)</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if (OS_MAX_EVENTS &gt; 1u)</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>     i;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *pevent1;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *pevent2;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <a class="code" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0">OS_MemClr</a>((<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)&amp;<a class="code" href="ucos__ii_8h.html#a5d37e876c05f49fd6eaa4c3a1731bbee">OSEventTbl</a>[0], <span class="keyword">sizeof</span>(<a class="code" href="ucos__ii_8h.html#a5d37e876c05f49fd6eaa4c3a1731bbee">OSEventTbl</a>)); <span class="comment">/* Clear the event table                   */</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    pevent1 = &amp;<a class="code" href="ucos__ii_8h.html#a5d37e876c05f49fd6eaa4c3a1731bbee">OSEventTbl</a>[0];</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    pevent2 = &amp;<a class="code" href="ucos__ii_8h.html#a5d37e876c05f49fd6eaa4c3a1731bbee">OSEventTbl</a>[1];</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">for</span> (i = 0u; i &lt; (<a class="code" href="_a_p_p_2os__cfg_8h.html#ac74bda24ae05c2663c5e20330a4b5d05">OS_MAX_EVENTS</a> - 1u); i++) {           <span class="comment">/* Init. list of free EVENT control blocks */</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        pevent1-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>    = <a class="code" href="ucos__ii_8h.html#a69e500f97c245c942a7d6c45a453c7d3">OS_EVENT_TYPE_UNUSED</a>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        pevent1-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a>     = pevent2;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="preprocessor">#if OS_EVENT_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="preprocessor"></span>        pevent1-&gt;<a class="code" href="ucos__ii_8h.html#a795707e963e1d19c05cd1ba7775e6ef2">OSEventName</a>    = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;?&quot;</span>;             <span class="comment">/* Unknown name                            */</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="preprocessor"></span>        pevent1++;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        pevent2++;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    pevent1-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>            = <a class="code" href="ucos__ii_8h.html#a69e500f97c245c942a7d6c45a453c7d3">OS_EVENT_TYPE_UNUSED</a>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    pevent1-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a>             = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="preprocessor">#if OS_EVENT_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="preprocessor"></span>    pevent1-&gt;<a class="code" href="ucos__ii_8h.html#a795707e963e1d19c05cd1ba7775e6ef2">OSEventName</a>            = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;?&quot;</span>;         <span class="comment">/* Unknown name                            */</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#a0c2762a3640d8f8792f012da073ce538">OSEventFreeList</a>                 = &amp;<a class="code" href="ucos__ii_8h.html#a5d37e876c05f49fd6eaa4c3a1731bbee">OSEventTbl</a>[0];</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#a0c2762a3640d8f8792f012da073ce538">OSEventFreeList</a>                 = &amp;<a class="code" href="ucos__ii_8h.html#a5d37e876c05f49fd6eaa4c3a1731bbee">OSEventTbl</a>[0];       <span class="comment">/* Only have ONE event control block       */</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="ucos__ii_8h.html#a0c2762a3640d8f8792f012da073ce538">OSEventFreeList</a>-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>    = <a class="code" href="ucos__ii_8h.html#a69e500f97c245c942a7d6c45a453c7d3">OS_EVENT_TYPE_UNUSED</a>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="ucos__ii_8h.html#a0c2762a3640d8f8792f012da073ce538">OSEventFreeList</a>-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a>     = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="preprocessor">#if OS_EVENT_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#a0c2762a3640d8f8792f012da073ce538">OSEventFreeList</a>-&gt;<a class="code" href="ucos__ii_8h.html#a795707e963e1d19c05cd1ba7775e6ef2">OSEventName</a>    = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;?&quot;</span>;         <span class="comment">/* Unknown name                            */</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_cgraph.png" border="0" usemap="#os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_cgraph" alt=""/></div>
<map name="os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_cgraph" id="os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0" title="OS_MemClr" alt="" coords="173,5,267,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_icgraph.png" border="0" usemap="#os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_icgraph" alt=""/></div>
<map name="os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_icgraph" id="os__core_8c_aeebfa0c8217412c2f0fec844f3b68e47_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="173,5,232,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="280,5,331,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7f1c4514c9a299939ece49e5944f18f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_InitMisc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01305">1305</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00063">OS_FALSE</a>, <a class="el" href="ucos__ii_8h_source.html#l00714">OSCtxSwCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00753">OSIdleCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00728">OSIdleCtrMax</a>, <a class="el" href="ucos__ii_8h_source.html#l00729">OSIdleCtrRun</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00736">OSLockNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>, <a class="el" href="ucos__ii_8h_source.html#l00730">OSStatRdy</a>, <a class="el" href="ucos__ii_8h_source.html#l00751">OSTaskCtr</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00780">OSTime</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00563">OSInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;{</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="preprocessor">#if OS_TIME_GET_SET_EN &gt; 0u</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#a8edf459d0cc62ee7c523ce3bb88dd0ce">OSTime</a>        = 0L;                                    <span class="comment">/* Clear the 32-bit system clock            */</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a>  = 0u;                                    <span class="comment">/* Clear the interrupt nesting counter      */</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> = 0u;                                    <span class="comment">/* Clear the scheduling lock counter        */</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="ucos__ii_8h.html#a42d918dd2944ac659534f05d146d2e9a">OSTaskCtr</a>     = 0u;                                    <span class="comment">/* Clear the number of tasks                */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a>     = <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>;                              <span class="comment">/* Indicate that multitasking not started   */</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="ucos__ii_8h.html#ae5227cb8745794a07b0acfec52e051bc">OSCtxSwCtr</a>    = 0u;                                    <span class="comment">/* Clear the context switch counter         */</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="ucos__ii_8h.html#aea768d9ba3c7b41f9495c0e9bc33033e">OSIdleCtr</a>     = 0L;                                    <span class="comment">/* Clear the 32-bit idle counter            */</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="preprocessor">#if OS_TASK_STAT_EN &gt; 0u</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#adb6da987e1db9fc28189585d0aa785fe">OSIdleCtrRun</a>  = 0L;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="ucos__ii_8h.html#a846a2a0ffe3c7e4271b14104ab283d7c">OSIdleCtrMax</a>  = 0L;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="ucos__ii_8h.html#abe8dd86730be5673b531e5470c59b992">OSStatRdy</a>     = <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>;                              <span class="comment">/* Statistic task is not ready              */</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_aa7f1c4514c9a299939ece49e5944f18f_icgraph.png" border="0" usemap="#os__core_8c_aa7f1c4514c9a299939ece49e5944f18f_icgraph" alt=""/></div>
<map name="os__core_8c_aa7f1c4514c9a299939ece49e5944f18f_icgraph" id="os__core_8c_aa7f1c4514c9a299939ece49e5944f18f_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="147,5,205,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="253,5,304,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a261e0ee34f7f9ed1fce0ac87db3c5ad7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_InitRdyList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01341">1341</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00085">OS_RDY_TBL_SIZE</a>, <a class="el" href="ucos__ii_8h_source.html#l00738">OSPrioCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00739">OSPrioHighRdy</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00758">OSTCBCur</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00760">OSTCBHighRdy</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00563">OSInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;{</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>    i;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="preprocessor">#if OS_LOWEST_PRIO &lt;= 63u</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>   *prdytbl;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>  *prdytbl;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a>      = 0u;                                    <span class="comment">/* Clear the ready list                     */</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    prdytbl       = &amp;<a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[0];</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">for</span> (i = 0u; i &lt; <a class="code" href="ucos__ii_8h.html#a5e3a24f0bb41e1a040adaa47f8852f8b">OS_RDY_TBL_SIZE</a>; i++) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        *prdytbl++ = 0u;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <a class="code" href="ucos__ii_8h.html#a3d01354b14fe8a2d45e7641d6d3a1661">OSPrioCur</a>     = 0u;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a> = 0u;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a>  = (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>      = (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a261e0ee34f7f9ed1fce0ac87db3c5ad7_icgraph.png" border="0" usemap="#os__core_8c_a261e0ee34f7f9ed1fce0ac87db3c5ad7_icgraph" alt=""/></div>
<map name="os__core_8c_a261e0ee34f7f9ed1fce0ac87db3c5ad7_icgraph" id="os__core_8c_a261e0ee34f7f9ed1fce0ac87db3c5ad7_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="163,5,221,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="269,5,320,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af870ae7949072c168fd4f8c17d1ae9c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_InitTaskIdle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01378">1378</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00091">OS_TASK_IDLE_ID</a>, <a class="el" href="ucos__ii_8h_source.html#l00081">OS_TASK_IDLE_PRIO</a>, <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00057">OS_TASK_IDLE_STK_SIZE</a>, <a class="el" href="ucos__ii_8h_source.html#l00214">OS_TASK_OPT_STK_CHK</a>, <a class="el" href="ucos__ii_8h_source.html#l00215">OS_TASK_OPT_STK_CLR</a>, <a class="el" href="os__core_8c_source.html#l01731">OS_TaskIdle()</a>, <a class="el" href="os__task_8c_source.html#l00216">OSTaskCreate()</a>, <a class="el" href="os__task_8c_source.html#l00332">OSTaskCreateExt()</a>, <a class="el" href="ucos__ii_8h_source.html#l00755">OSTaskIdleStk</a> , 以及 <a class="el" href="os__task_8c_source.html#l00715">OSTaskNameSet()</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00563">OSInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>  err;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="preprocessor">#if OS_TASK_CREATE_EXT_EN &gt; 0u</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #if OS_STK_GROWTH == 1u</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd">OSTaskCreateExt</a>(<a class="code" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409">OS_TaskIdle</a>,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                 <span class="comment">/* No arguments passed to OS_TaskIdle() */</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                          &amp;<a class="code" href="ucos__ii_8h.html#a935964c53f65e2d94cf6975a95163213">OSTaskIdleStk</a>[<a class="code" href="_a_p_p_2os__cfg_8h.html#a9cd755dba45826fa862868f1591d82a3">OS_TASK_IDLE_STK_SIZE</a> - 1u],<span class="comment">/* Set Top-Of-Stack                     */</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                          <a class="code" href="ucos__ii_8h.html#ae9c4083f27bd9e4cab14f19e6d56b972">OS_TASK_IDLE_PRIO</a>,                         <span class="comment">/* Lowest priority level                */</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                          <a class="code" href="ucos__ii_8h.html#add83df1ce029f70d49472676ba3c0856">OS_TASK_IDLE_ID</a>,</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                          &amp;<a class="code" href="ucos__ii_8h.html#a935964c53f65e2d94cf6975a95163213">OSTaskIdleStk</a>[0],                         <span class="comment">/* Set Bottom-Of-Stack                  */</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                          <a class="code" href="_a_p_p_2os__cfg_8h.html#a9cd755dba45826fa862868f1591d82a3">OS_TASK_IDLE_STK_SIZE</a>,</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                 <span class="comment">/* No TCB extension                     */</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                          <a class="code" href="ucos__ii_8h.html#aef781ade5077ea4fac1a88f5872d16e3">OS_TASK_OPT_STK_CHK</a> | <a class="code" href="ucos__ii_8h.html#a9492901538680271b54c0984fabc8c9c">OS_TASK_OPT_STK_CLR</a>);<span class="comment">/* Enable stack checking + clear stack  */</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd">OSTaskCreateExt</a>(<a class="code" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409">OS_TaskIdle</a>,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                 <span class="comment">/* No arguments passed to OS_TaskIdle() */</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                          &amp;OSTaskIdleStk[0],                         <span class="comment">/* Set Top-Of-Stack                     */</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                          <a class="code" href="ucos__ii_8h.html#ae9c4083f27bd9e4cab14f19e6d56b972">OS_TASK_IDLE_PRIO</a>,                         <span class="comment">/* Lowest priority level                */</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                          <a class="code" href="ucos__ii_8h.html#add83df1ce029f70d49472676ba3c0856">OS_TASK_IDLE_ID</a>,</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                          &amp;OSTaskIdleStk[OS_TASK_IDLE_STK_SIZE - 1u],<span class="comment">/* Set Bottom-Of-Stack                  */</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                          <a class="code" href="_a_p_p_2os__cfg_8h.html#a9cd755dba45826fa862868f1591d82a3">OS_TASK_IDLE_STK_SIZE</a>,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                 <span class="comment">/* No TCB extension                     */</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                          <a class="code" href="ucos__ii_8h.html#aef781ade5077ea4fac1a88f5872d16e3">OS_TASK_OPT_STK_CHK</a> | <a class="code" href="ucos__ii_8h.html#a9492901538680271b54c0984fabc8c9c">OS_TASK_OPT_STK_CLR</a>);<span class="comment">/* Enable stack checking + clear stack  */</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #if OS_STK_GROWTH == 1u</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e">OSTaskCreate</a>(<a class="code" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409">OS_TaskIdle</a>,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                       (<span class="keywordtype">void</span> *)0,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                       &amp;OSTaskIdleStk[OS_TASK_IDLE_STK_SIZE - 1u],</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                       <a class="code" href="ucos__ii_8h.html#ae9c4083f27bd9e4cab14f19e6d56b972">OS_TASK_IDLE_PRIO</a>);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e">OSTaskCreate</a>(<a class="code" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409">OS_TaskIdle</a>,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                       (<span class="keywordtype">void</span> *)0,</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                       &amp;OSTaskIdleStk[0],</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                       <a class="code" href="ucos__ii_8h.html#ae9c4083f27bd9e4cab14f19e6d56b972">OS_TASK_IDLE_PRIO</a>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__task_8c.html#a70752473d77dcfb95fb390a3ff65dcba">OSTaskNameSet</a>(OS_TASK_IDLE_PRIO, (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;uC/OS-II Idle&quot;</span>, &amp;err);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_cgraph.png" border="0" usemap="#os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_cgraph" alt=""/></div>
<map name="os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_cgraph" id="os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409" title="OS_TaskIdle" alt="" coords="184,208,280,235"/><area shape="rect" id="node5" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="179,309,285,336"/><area shape="rect" id="node25" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="169,360,295,387"/><area shape="rect" id="node27" href="os__task_8c.html#a70752473d77dcfb95fb390a3ff65dcba" title="OSTaskNameSet" alt="" coords="171,411,293,437"/><area shape="rect" id="node3" href="os__cpu__c_8c.html#a7819c02d33415b093052de6416d9889f" title="OSTaskIdleHook" alt="" coords="345,157,463,184"/><area shape="rect" id="node4" href="os__app__hooks_8c.html#a7a1d89e16105fcdb5e555b4ae6cc7468" title="App_TaskIdleHook" alt="" coords="516,157,647,184"/><area shape="rect" id="node6" href="os__cpu__c_8c.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="351,309,457,336"/><area shape="rect" id="node20" href="os__core_8c.html#a95e9bc6f0d0dfe29f860cd5a5480fea4" title="OS_TCBInit" alt="" coords="359,360,449,387"/><area shape="rect" id="node17" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="945,259,1031,285"/><area shape="rect" id="node7" href="os__task_8c.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="524,284,639,311"/><area shape="rect" id="node8" href="os__cpu__c_8c.html#a991988ad073d5ed20e3574bde354a733" title="OSTaskReturnHook" alt="" coords="705,309,842,336"/><area shape="rect" id="node10" href="os__task_8c.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="729,157,817,184"/><area shape="rect" id="node19" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="729,259,817,285"/><area shape="rect" id="node9" href="os__app__hooks_8c.html#ae3aa4909a651d49a3b93780007c660d5" title="App_TaskReturnHook" alt="" coords="914,309,1062,336"/><area shape="rect" id="node11" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0" title="OS_EventTaskRemove" alt="" coords="911,5,1065,32"/><area shape="rect" id="node12" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259" title="OS_EventTaskRemoveMulti" alt="" coords="897,56,1079,83"/><area shape="rect" id="node13" href="os__flag_8c.html#a7ad520bab57668b9a7f797d85bd2a5c7" title="OS_FlagUnlink" alt="" coords="933,107,1043,133"/><area shape="rect" id="node14" href="os__core_8c.html#ad0dd3f8afd8d36a8cead860a53fffc92" title="OS_Dummy" alt="" coords="941,157,1035,184"/><area shape="rect" id="node15" href="os__cpu__c_8c.html#a4d335ed0146fb4692f6a9ba561968391" title="OSTaskDelHook" alt="" coords="929,208,1047,235"/><area shape="rect" id="node16" href="os__app__hooks_8c.html#a23eb4142fb74b9314bec7495de78ea38" title="App_TaskDelHook" alt="" coords="1129,208,1258,235"/><area shape="rect" id="node18" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="1138,259,1249,285"/><area shape="rect" id="node21" href="os__cpu__c_8c.html#ad175126f54000a30bf15a47ba68cffc4" title="OSTCBInitHook" alt="" coords="525,360,638,387"/><area shape="rect" id="node23" href="os__cpu__c_8c.html#ae1fb9d8cc4bd490553efd061f0a3f68e" title="OSTaskCreateHook" alt="" coords="513,411,650,437"/><area shape="rect" id="node22" href="os__app__hooks_8c.html#a3d5498f1cb00285147781e84ddc75a3d" title="App_TCBInitHook" alt="" coords="711,360,835,387"/><area shape="rect" id="node24" href="os__app__hooks_8c.html#a3fe26c8f7986e71fe528b5e682c3897d" title="App_TaskCreateHook" alt="" coords="699,411,847,437"/><area shape="rect" id="node26" href="os__task_8c.html#a5efe93e7c4e315c1150423594b188717" title="OS_TaskStkClr" alt="" coords="348,512,460,539"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_icgraph.png" border="0" usemap="#os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_icgraph" alt=""/></div>
<map name="os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_icgraph" id="os__core_8c_af870ae7949072c168fd4f8c17d1ae9c6_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="168,5,227,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="275,5,325,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15a49b390887c036182d8c0b49553fca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_InitTaskStat </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01440">1440</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00214">OS_TASK_OPT_STK_CHK</a>, <a class="el" href="ucos__ii_8h_source.html#l00215">OS_TASK_OPT_STK_CLR</a>, <a class="el" href="ucos__ii_8h_source.html#l00092">OS_TASK_STAT_ID</a>, <a class="el" href="ucos__ii_8h_source.html#l00080">OS_TASK_STAT_PRIO</a>, <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00056">OS_TASK_STAT_STK_SIZE</a>, <a class="el" href="os__core_8c_source.html#l01773">OS_TaskStat()</a>, <a class="el" href="os__task_8c_source.html#l00216">OSTaskCreate()</a>, <a class="el" href="os__task_8c_source.html#l00332">OSTaskCreateExt()</a>, <a class="el" href="os__task_8c_source.html#l00715">OSTaskNameSet()</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00731">OSTaskStatStk</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00563">OSInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;{</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>  err;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="preprocessor">#if OS_TASK_CREATE_EXT_EN &gt; 0u</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #if OS_STK_GROWTH == 1u</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd">OSTaskCreateExt</a>(<a class="code" href="os__core_8c.html#a827236210af1492f347cebe245caeda1">OS_TaskStat</a>,</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                   <span class="comment">/* No args passed to OS_TaskStat()*/</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                          &amp;<a class="code" href="ucos__ii_8h.html#af0ce20ffb24dbfd5693a4741f46fa218">OSTaskStatStk</a>[<a class="code" href="_a_p_p_2os__cfg_8h.html#abf6a2ddac6b19944430310e7b26d2eab">OS_TASK_STAT_STK_SIZE</a> - 1u],  <span class="comment">/* Set Top-Of-Stack               */</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                          <a class="code" href="ucos__ii_8h.html#a5cd15c1bcaf4f10e7160438c63cc6d82">OS_TASK_STAT_PRIO</a>,                           <span class="comment">/* One higher than the idle task  */</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                          <a class="code" href="ucos__ii_8h.html#a250bbf186d7a5272af7580bc482a7d9c">OS_TASK_STAT_ID</a>,</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                          &amp;<a class="code" href="ucos__ii_8h.html#af0ce20ffb24dbfd5693a4741f46fa218">OSTaskStatStk</a>[0],                           <span class="comment">/* Set Bottom-Of-Stack            */</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                          <a class="code" href="_a_p_p_2os__cfg_8h.html#abf6a2ddac6b19944430310e7b26d2eab">OS_TASK_STAT_STK_SIZE</a>,</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                   <span class="comment">/* No TCB extension               */</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                          <a class="code" href="ucos__ii_8h.html#aef781ade5077ea4fac1a88f5872d16e3">OS_TASK_OPT_STK_CHK</a> | <a class="code" href="ucos__ii_8h.html#a9492901538680271b54c0984fabc8c9c">OS_TASK_OPT_STK_CLR</a>);  <span class="comment">/* Enable stack checking + clear  */</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd">OSTaskCreateExt</a>(<a class="code" href="os__core_8c.html#a827236210af1492f347cebe245caeda1">OS_TaskStat</a>,</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                   <span class="comment">/* No args passed to OS_TaskStat()*/</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                          &amp;OSTaskStatStk[0],                           <span class="comment">/* Set Top-Of-Stack               */</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                          <a class="code" href="ucos__ii_8h.html#a5cd15c1bcaf4f10e7160438c63cc6d82">OS_TASK_STAT_PRIO</a>,                           <span class="comment">/* One higher than the idle task  */</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                          <a class="code" href="ucos__ii_8h.html#a250bbf186d7a5272af7580bc482a7d9c">OS_TASK_STAT_ID</a>,</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                          &amp;OSTaskStatStk[OS_TASK_STAT_STK_SIZE - 1u],  <span class="comment">/* Set Bottom-Of-Stack            */</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                          <a class="code" href="_a_p_p_2os__cfg_8h.html#abf6a2ddac6b19944430310e7b26d2eab">OS_TASK_STAT_STK_SIZE</a>,</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                          (<span class="keywordtype">void</span> *)0,                                   <span class="comment">/* No TCB extension               */</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                          <a class="code" href="ucos__ii_8h.html#aef781ade5077ea4fac1a88f5872d16e3">OS_TASK_OPT_STK_CHK</a> | <a class="code" href="ucos__ii_8h.html#a9492901538680271b54c0984fabc8c9c">OS_TASK_OPT_STK_CLR</a>);  <span class="comment">/* Enable stack checking + clear  */</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #if OS_STK_GROWTH == 1u</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e">OSTaskCreate</a>(<a class="code" href="os__core_8c.html#a827236210af1492f347cebe245caeda1">OS_TaskStat</a>,</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                       (<span class="keywordtype">void</span> *)0,                                      <span class="comment">/* No args passed to OS_TaskStat()*/</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                       &amp;OSTaskStatStk[OS_TASK_STAT_STK_SIZE - 1u],     <span class="comment">/* Set Top-Of-Stack               */</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                       <a class="code" href="ucos__ii_8h.html#a5cd15c1bcaf4f10e7160438c63cc6d82">OS_TASK_STAT_PRIO</a>);                             <span class="comment">/* One higher than the idle task  */</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="preprocessor"></span>    (void)<a class="code" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e">OSTaskCreate</a>(<a class="code" href="os__core_8c.html#a827236210af1492f347cebe245caeda1">OS_TaskStat</a>,</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                       (<span class="keywordtype">void</span> *)0,                                      <span class="comment">/* No args passed to OS_TaskStat()*/</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                       &amp;OSTaskStatStk[0],                              <span class="comment">/* Set Top-Of-Stack               */</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                       <a class="code" href="ucos__ii_8h.html#a5cd15c1bcaf4f10e7160438c63cc6d82">OS_TASK_STAT_PRIO</a>);                             <span class="comment">/* One higher than the idle task  */</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__task_8c.html#a70752473d77dcfb95fb390a3ff65dcba">OSTaskNameSet</a>(OS_TASK_STAT_PRIO, (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;uC/OS-II Stat&quot;</span>, &amp;err);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a15a49b390887c036182d8c0b49553fca_cgraph.png" border="0" usemap="#os__core_8c_a15a49b390887c036182d8c0b49553fca_cgraph" alt=""/></div>
<map name="os__core_8c_a15a49b390887c036182d8c0b49553fca_cgraph" id="os__core_8c_a15a49b390887c036182d8c0b49553fca_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a827236210af1492f347cebe245caeda1" title="OS_TaskStat" alt="" coords="526,107,626,133"/><area shape="rect" id="node11" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="181,309,288,336"/><area shape="rect" id="node28" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="171,360,298,387"/><area shape="rect" id="node30" href="os__task_8c.html#a70752473d77dcfb95fb390a3ff65dcba" title="OSTaskNameSet" alt="" coords="173,411,296,437"/><area shape="rect" id="node3" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="724,157,812,184"/><area shape="rect" id="node6" href="os__task_8c.html#aaed544c4c5e2e3d2677175284a703b5c" title="OSTaskSuspend" alt="" coords="708,107,828,133"/><area shape="rect" id="node7" href="os__cpu__c_8c.html#a18eed81d1c43665ae8cf9242a188db7f" title="OSTaskStatHook" alt="" coords="707,5,829,32"/><area shape="rect" id="node9" href="os__core_8c.html#a504e6d3c536501abee75502199349c8b" title="OS_TaskStatStkChk" alt="" coords="697,56,839,83"/><area shape="rect" id="node4" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="940,208,1025,235"/><area shape="rect" id="node5" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="1133,208,1243,235"/><area shape="rect" id="node8" href="os__app__hooks_8c.html#a095fa8f0fdcb792dc4522a781b63c08a" title="App_TaskStatHook" alt="" coords="915,5,1050,32"/><area shape="rect" id="node10" href="os__task_8c.html#ad2f10ed07769ebbd7d96e149af5a989c" title="OSTaskStkChk" alt="" coords="927,56,1039,83"/><area shape="rect" id="node12" href="os__cpu__c_8c.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="349,360,456,387"/><area shape="rect" id="node23" href="os__core_8c.html#a95e9bc6f0d0dfe29f860cd5a5480fea4" title="OS_TCBInit" alt="" coords="357,309,448,336"/><area shape="rect" id="node13" href="os__task_8c.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="519,360,633,387"/><area shape="rect" id="node14" href="os__cpu__c_8c.html#a991988ad073d5ed20e3574bde354a733" title="OSTaskReturnHook" alt="" coords="699,500,837,527"/><area shape="rect" id="node16" href="os__task_8c.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="724,424,812,451"/><area shape="rect" id="node15" href="os__app__hooks_8c.html#ae3aa4909a651d49a3b93780007c660d5" title="App_TaskReturnHook" alt="" coords="909,537,1057,564"/><area shape="rect" id="node17" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0" title="OS_EventTaskRemove" alt="" coords="905,385,1060,412"/><area shape="rect" id="node18" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259" title="OS_EventTaskRemoveMulti" alt="" coords="891,436,1074,463"/><area shape="rect" id="node19" href="os__flag_8c.html#a7ad520bab57668b9a7f797d85bd2a5c7" title="OS_FlagUnlink" alt="" coords="928,487,1037,513"/><area shape="rect" id="node20" href="os__core_8c.html#ad0dd3f8afd8d36a8cead860a53fffc92" title="OS_Dummy" alt="" coords="936,284,1029,311"/><area shape="rect" id="node21" href="os__cpu__c_8c.html#a4d335ed0146fb4692f6a9ba561968391" title="OSTaskDelHook" alt="" coords="923,335,1042,361"/><area shape="rect" id="node22" href="os__app__hooks_8c.html#a23eb4142fb74b9314bec7495de78ea38" title="App_TaskDelHook" alt="" coords="1123,335,1253,361"/><area shape="rect" id="node24" href="os__cpu__c_8c.html#ad175126f54000a30bf15a47ba68cffc4" title="OSTCBInitHook" alt="" coords="519,309,633,336"/><area shape="rect" id="node26" href="os__cpu__c_8c.html#ae1fb9d8cc4bd490553efd061f0a3f68e" title="OSTaskCreateHook" alt="" coords="507,259,645,285"/><area shape="rect" id="node25" href="os__app__hooks_8c.html#a3d5498f1cb00285147781e84ddc75a3d" title="App_TCBInitHook" alt="" coords="706,309,830,336"/><area shape="rect" id="node27" href="os__app__hooks_8c.html#a3fe26c8f7986e71fe528b5e682c3897d" title="App_TaskCreateHook" alt="" coords="694,259,842,285"/><area shape="rect" id="node29" href="os__task_8c.html#a5efe93e7c4e315c1150423594b188717" title="OS_TaskStkClr" alt="" coords="347,461,459,488"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a15a49b390887c036182d8c0b49553fca_icgraph.png" border="0" usemap="#os__core_8c_a15a49b390887c036182d8c0b49553fca_icgraph" alt=""/></div>
<map name="os__core_8c_a15a49b390887c036182d8c0b49553fca_icgraph" id="os__core_8c_a15a49b390887c036182d8c0b49553fca_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="171,5,229,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="277,5,328,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2b08bf9818c51413233a54c4580165ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_InitTCBList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01502">1502</a> 行定义.</p>

<p>参考 <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00046">OS_MAX_TASKS</a>, <a class="el" href="os__core_8c_source.html#l01549">OS_MemClr()</a>, <a class="el" href="ucos__ii_8h_source.html#l00075">OS_N_SYS_TASKS</a>, <a class="el" href="ucos__ii_8h_source.html#l00759">OSTCBFreeList</a>, <a class="el" href="ucos__ii_8h_source.html#l00761">OSTCBList</a>, <a class="el" href="ucos__ii_8h_source.html#l00610">OS_TCB::OSTCBNext</a>, <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00660">OS_TCB::OSTCBTaskName</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00763">OSTCBTbl</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00563">OSInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;{</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>    i;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a>  *ptcb1;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a>  *ptcb2;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0">OS_MemClr</a>((<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)&amp;<a class="code" href="ucos__ii_8h.html#a19db30162d602979f162164a4b863edf">OSTCBTbl</a>[0],     <span class="keyword">sizeof</span>(<a class="code" href="ucos__ii_8h.html#a19db30162d602979f162164a4b863edf">OSTCBTbl</a>));      <span class="comment">/* Clear all the TCBs                 */</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <a class="code" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0">OS_MemClr</a>((<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)&amp;<a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[0], <span class="keyword">sizeof</span>(<a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>));  <span class="comment">/* Clear the priority table           */</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    ptcb1 = &amp;<a class="code" href="ucos__ii_8h.html#a19db30162d602979f162164a4b863edf">OSTCBTbl</a>[0];</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    ptcb2 = &amp;<a class="code" href="ucos__ii_8h.html#a19db30162d602979f162164a4b863edf">OSTCBTbl</a>[1];</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">for</span> (i = 0u; i &lt; (<a class="code" href="_a_p_p_2os__cfg_8h.html#a16f4a5504fe99e05cc20203b7f6b87dc">OS_MAX_TASKS</a> + <a class="code" href="ucos__ii_8h.html#a683cab213f2ef4d245caed94b42b07ce">OS_N_SYS_TASKS</a> - 1u); i++) {<span class="comment">/* Init. list of free TCBs            */</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        ptcb1-&gt;<a class="code" href="ucos__ii_8h.html#ae57dda41d71bf31549db963f082c1c51">OSTCBNext</a> = ptcb2;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="preprocessor"></span>        ptcb1-&gt;<a class="code" href="ucos__ii_8h.html#a29f5f3f4825911aecef217532a499998">OSTCBTaskName</a> = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;?&quot;</span>;                     <span class="comment">/* Unknown name                       */</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="preprocessor"></span>        ptcb1++;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        ptcb2++;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    }</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    ptcb1-&gt;<a class="code" href="ucos__ii_8h.html#ae57dda41d71bf31549db963f082c1c51">OSTCBNext</a> = (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0;                              <span class="comment">/* Last OS_TCB                        */</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="preprocessor"></span>    ptcb1-&gt;<a class="code" href="ucos__ii_8h.html#a29f5f3f4825911aecef217532a499998">OSTCBTaskName</a>    = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;?&quot;</span>;                      <span class="comment">/* Unknown name                       */</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#a11bf1577c97ecba464c62e22fbec415b">OSTCBList</a>               = (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0;                       <span class="comment">/* TCB lists initializations          */</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <a class="code" href="ucos__ii_8h.html#ad8b3475d8a0a3be8452e4fc9ee400dfb">OSTCBFreeList</a>           = &amp;<a class="code" href="ucos__ii_8h.html#a19db30162d602979f162164a4b863edf">OSTCBTbl</a>[0];</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a2b08bf9818c51413233a54c4580165ea_cgraph.png" border="0" usemap="#os__core_8c_a2b08bf9818c51413233a54c4580165ea_cgraph" alt=""/></div>
<map name="os__core_8c_a2b08bf9818c51413233a54c4580165ea_cgraph" id="os__core_8c_a2b08bf9818c51413233a54c4580165ea_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0" title="OS_MemClr" alt="" coords="165,5,259,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a2b08bf9818c51413233a54c4580165ea_icgraph.png" border="0" usemap="#os__core_8c_a2b08bf9818c51413233a54c4580165ea_icgraph" alt=""/></div>
<map name="os__core_8c_a2b08bf9818c51413233a54c4580165ea_icgraph" id="os__core_8c_a2b08bf9818c51413233a54c4580165ea_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="165,5,224,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="272,5,323,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c012d2e7a886885bd6f80ca15b295b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OS_SchedNew </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01651">1651</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00739">OSPrioHighRdy</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a> , 以及 <a class="el" href="os__core_8c_source.html#l00038">OSUnMapTbl</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l01609">OS_Sched()</a>, <a class="el" href="os__core_8c_source.html#l00656">OSIntExit()</a> , 以及 <a class="el" href="os__core_8c_source.html#l00790">OSStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="preprocessor">#if OS_LOWEST_PRIO &lt;= 63u                        </span><span class="comment">/* See if we support up to 64 tasks                   */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>   y;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    y             = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[<a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a>];</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a> = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)((y &lt;&lt; 3u) + <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[<a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y]]);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="preprocessor">#else                                            </span><span class="comment">/* We support up to 256 tasks                         */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>   y;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> *ptbl;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a> &amp; 0xFFu) != 0u) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        y = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[<a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a> &amp; 0xFFu];</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        y = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[(<a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a> &gt;&gt; 8u) &amp; 0xFFu] + 8u;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    ptbl = &amp;<a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y];</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> ((*ptbl &amp; 0xFFu) != 0u) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a> = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)((y &lt;&lt; 4u) + <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[(*ptbl &amp; 0xFFu)]);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a> = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)((y &lt;&lt; 4u) + <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[(*ptbl &gt;&gt; 8u) &amp; 0xFFu] + 8u);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a4c012d2e7a886885bd6f80ca15b295b8_icgraph.png" border="0" usemap="#os__core_8c_a4c012d2e7a886885bd6f80ca15b295b8_icgraph" alt=""/></div>
<map name="os__core_8c_a4c012d2e7a886885bd6f80ca15b295b8_icgraph" id="os__core_8c_a4c012d2e7a886885bd6f80ca15b295b8_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="165,803,251,829"/><area shape="rect" id="node67" href="ucos__ii_8h.html#abf1fd264b45d9f9fa70c14c4693c353e" title="OSIntExit" alt="" coords="169,1613,247,1640"/><area shape="rect" id="node109" href="ucos__ii_8h.html#af83ea21f3e3deb1d3848e02043e6d638" title="OSStart" alt="" coords="1451,284,1520,311"/><area shape="rect" id="node3" href="ucos__ii_8h.html#a26c3b9f8f0aa851a4d1342dceb75ef4a" title="OSEventPendMulti" alt="" coords="301,448,432,475"/><area shape="rect" id="node4" href="ucos__ii_8h.html#accb8ef08bd5b8ee1376b200e9f4ee9f7" title="OSSchedUnlock" alt="" coords="307,499,426,525"/><area shape="rect" id="node17" href="ucos__ii_8h.html#a8e03e910cb0828414d1afd44a686465d" title="OSFlagDel" alt="" coords="324,1005,409,1032"/><area shape="rect" id="node18" href="ucos__ii_8h.html#a6c12fea808f3f81995a6a3373cbe3f09" title="OSFlagPend" alt="" coords="319,1056,415,1083"/><area shape="rect" id="node19" href="ucos__ii_8h.html#ae884e04cb03f370c115c949169db9d18" title="OSFlagPost" alt="" coords="320,1107,413,1133"/><area shape="rect" id="node20" href="ucos__ii_8h.html#a118e25b7582413a00db8e81c53b87904" title="OSMboxDel" alt="" coords="321,1157,413,1184"/><area shape="rect" id="node21" href="ucos__ii_8h.html#ada0348e18656c21bbffc78c5ba9f90b5" title="OSMboxPend" alt="" coords="315,752,418,779"/><area shape="rect" id="node25" href="ucos__ii_8h.html#a79308686e7b9f74808ef0d4da4f85fb5" title="OSMboxPendAbort" alt="" coords="299,1208,434,1235"/><area shape="rect" id="node26" href="ucos__ii_8h.html#ae703df746b1a0ed796d2ebcf73eb06a6" title="OSMboxPost" alt="" coords="317,803,417,829"/><area shape="rect" id="node28" href="ucos__ii_8h.html#a652b403cbaad0f73d5a3bf95d75c4570" title="OSMboxPostOpt" alt="" coords="306,1259,427,1285"/><area shape="rect" id="node29" href="ucos__ii_8h.html#a2d79abc91c621502d9e3a6a812a64d22" title="OSMutexDel" alt="" coords="319,1309,415,1336"/><area shape="rect" id="node30" href="ucos__ii_8h.html#a7392c4e0d3ee50a406a8642c1887c154" title="OSMutexPend" alt="" coords="313,1360,420,1387"/><area shape="rect" id="node31" href="ucos__ii_8h.html#ad90c80a6ce0a8bb176ba9e48f894fbf7" title="OSMutexPost" alt="" coords="315,1411,419,1437"/><area shape="rect" id="node32" href="ucos__ii_8h.html#a00d293df7319f498058fc686d9c0638a" title="OSQDel" alt="" coords="331,1461,402,1488"/><area shape="rect" id="node33" href="ucos__ii_8h.html#aea7f2cfe6a3320ec951688e3decc2e68" title="OSQPend" alt="" coords="326,1512,407,1539"/><area shape="rect" id="node34" href="ucos__ii_8h.html#a749e3989a6762d806e742611a1467dc7" title="OSQPendAbort" alt="" coords="311,1563,423,1589"/><area shape="rect" id="node35" href="ucos__ii_8h.html#aae1036ecb0789004e593d3d1c958f3fa" title="OSQPost" alt="" coords="327,43,406,69"/><area shape="rect" id="node36" href="ucos__ii_8h.html#a8366a0cf565004f88a88d4b1894a39c4" title="OSQPostFront" alt="" coords="313,93,421,120"/><area shape="rect" id="node37" href="ucos__ii_8h.html#aefa14e09d312bd2180272b0ff27e702e" title="OSQPostOpt" alt="" coords="317,144,416,171"/><area shape="rect" id="node38" href="ucos__ii_8h.html#aa0e5ab0417bfd23066369b3d2012d837" title="OSSemDel" alt="" coords="323,195,410,221"/><area shape="rect" id="node39" href="ucos__ii_8h.html#a108896df2b5c0b9b43f7388acab11b8e" title="OSSemPend" alt="" coords="317,296,416,323"/><area shape="rect" id="node40" href="ucos__ii_8h.html#ac077a929869eeee03ef3c90b992532f3" title="OSSemPendAbort" alt="" coords="302,245,431,272"/><area shape="rect" id="node41" href="ucos__ii_8h.html#a972bf8ea56228c25b4170695248727d6" title="OSSemPost" alt="" coords="319,904,414,931"/><area shape="rect" id="node46" href="ucos__ii_8h.html#ae38030ea8040d401f1311821425c34c8" title="OSTaskChangePrio" alt="" coords="299,347,435,373"/><area shape="rect" id="node47" href="ucos__ii_8h.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="907,600,1013,627"/><area shape="rect" id="node50" href="ucos__ii_8h.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="897,651,1023,677"/><area shape="rect" id="node51" href="ucos__ii_8h.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="323,600,411,627"/><area shape="rect" id="node54" href="ucos__ii_8h.html#ad3a1b53bfc0b7666e937a7bfd3ba107b" title="OSTaskResume" alt="" coords="308,397,425,424"/><area shape="rect" id="node55" href="ucos__ii_8h.html#aaed544c4c5e2e3d2677175284a703b5c" title="OSTaskSuspend" alt="" coords="307,701,427,728"/><area shape="rect" id="node57" href="ucos__ii_8h.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="323,853,411,880"/><area shape="rect" id="node66" href="ucos__ii_8h.html#a52ea8cb1d86d17ee7cfed22df59d8667" title="OSTimeDlyResume" alt="" coords="299,955,435,981"/><area shape="rect" id="node5" href="ucos__ii_8h.html#a0181651b83ee63d7b4496421ca27852d" title="OSTmrCreate" alt="" coords="529,499,631,525"/><area shape="rect" id="node6" href="ucos__ii_8h.html#aad27ab68d6a77945bd6ae958c6c99196" title="OSTmrDel" alt="" coords="539,195,621,221"/><area shape="rect" id="node7" href="ucos__ii_8h.html#a9faa1cf432d6d16c221ce115d35412f2" title="OSTmrNameGet" alt="" coords="521,245,639,272"/><area shape="rect" id="node8" href="ucos__ii_8h.html#a74aeb9559dfbe4568de6ce2861a2369c" title="OSTmrRemainGet" alt="" coords="516,296,644,323"/><area shape="rect" id="node9" href="ucos__ii_8h.html#ab19f8fa86f6f244035247aae191de39e" title="OSTmrStateGet" alt="" coords="523,347,637,373"/><area shape="rect" id="node10" href="ucos__ii_8h.html#a9a09d1983f006423b47e5f35371eed69" title="OSTmrStart" alt="" coords="535,397,625,424"/><area shape="rect" id="node11" href="ucos__ii_8h.html#a54b9a48ec5b352cb29b4460af5f6c090" title="OSTmrStop" alt="" coords="535,448,625,475"/><area shape="rect" id="node12" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="531,144,629,171"/><area shape="rect" id="node13" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="1101,549,1216,576"/><area shape="rect" id="node14" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="1305,549,1391,576"/><area shape="rect" id="node15" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="1456,625,1515,652"/><area shape="rect" id="node16" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1568,664,1619,691"/><area shape="rect" id="node22" href="app_8c.html#a4217307366bcf4be2514445ba929360b" title="App_TaskUserIF" alt="" coords="521,752,639,779"/><area shape="rect" id="node23" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="1099,777,1218,804"/><area shape="rect" id="node24" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="1294,828,1402,855"/><area shape="rect" id="node27" href="app_8c.html#ad1c293a09028612fc01cb3864064c5fd" title="App_TaskKbd" alt="" coords="529,803,631,829"/><area shape="rect" id="node42" href="ucos__ii_8h.html#a9e534f7203e5f99a05853ebfe4ffa2f7" title="OSTmrSignal" alt="" coords="531,1081,629,1108"/><area shape="rect" id="node43" href="ucos__ii_8h.html#a9580a668e52ffe7fcb5429e80d6eac8f" title="OSTimeTickHook" alt="" coords="725,1233,848,1260"/><area shape="rect" id="node44" href="ucos__ii_8h.html#abf35bebb7ed88c38c212ee675f3713db" title="OSTimeTick" alt="" coords="913,1296,1007,1323"/><area shape="rect" id="node45" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="1072,1549,1245,1576"/><area shape="rect" id="node48" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="1102,600,1215,627"/><area shape="rect" id="node49" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="1100,651,1217,677"/><area shape="rect" id="node52" href="ucos__ii_8h.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="523,600,637,627"/><area shape="rect" id="node53" href="ucos__ii_8h.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="733,600,840,627"/><area shape="rect" id="node56" href="ucos__ii_8h.html#a827236210af1492f347cebe245caeda1" title="OS_TaskStat" alt="" coords="530,701,630,728"/><area shape="rect" id="node58" href="bsp__os_8h.html#a1c82e41f9c4372ab1468928364227976" title="BSP_OS_Dly_ms" alt="" coords="517,1005,643,1032"/><area shape="rect" id="node64" href="ucos__ii_8h.html#a5ba8aba02bcf614eef38c0133f968c49" title="OSStatInit" alt="" coords="745,853,828,880"/><area shape="rect" id="node65" href="ucos__ii_8h.html#ae574d80c0590e93302061d2920475173" title="OSTimeDlyHMSM" alt="" coords="516,955,644,981"/><area shape="rect" id="node59" href="bsp__ser_8h.html#a2d41af36cbfc3c79c6817b5217c397d4" title="BSP_SerRd" alt="" coords="741,1005,833,1032"/><area shape="rect" id="node60" href="bsp__ser_8h.html#abafcf1b8a1786f23e4c0dee1ca819522" title="BSP_SerRdLine" alt="" coords="902,1056,1018,1083"/><area shape="rect" id="node61" href="bsp__ser_8h.html#a99e9be95a9e2dc53afb42b32bc62124b" title="BSP_SerWr" alt="" coords="740,955,833,981"/><area shape="rect" id="node62" href="bsp__ser_8h.html#ac8ee31bc6cf3d16c567190aea85825f3" title="BSP_Print" alt="" coords="919,955,1001,981"/><area shape="rect" id="node63" href="bsp__ser_8h.html#a327fa6dafb822d8a72fccbffa52c7b36" title="BSP_SerPrint" alt="" coords="909,1005,1011,1032"/><area shape="rect" id="node68" href="bsp__int_8c.html#a8cb092c15c008f1d8ba4321a43fe8d64" title="BSP_IntHandler" alt="" coords="309,2627,424,2653"/><area shape="rect" id="node69" href="bsp__int_8h.html#a16b3b94c23717cd78ec4e98a3db7ed23" title="BSP_IntHandlerADC0" alt="" coords="506,2829,654,2856"/><area shape="rect" id="node70" href="bsp__int_8h.html#a32436fa6d821383d8c384bcb0071bb0a" title="BSP_IntHandlerADC1" alt="" coords="506,2880,654,2907"/><area shape="rect" id="node71" href="bsp__int_8h.html#a0abbbb33ac0f7b12c0da98e2f8c3bbe4" title="BSP_IntHandlerADC2" alt="" coords="506,2931,654,2957"/><area shape="rect" id="node72" href="bsp__int_8h.html#a0580ffb74c2eee5c824373474b89df2e" title="BSP_IntHandlerADC3" alt="" coords="506,2981,654,3008"/><area shape="rect" id="node73" href="bsp__int_8h.html#a4946157b3ad715ab5cbc250f9bd7838b" title="BSP_IntHandlerCOMP0" alt="" coords="500,3032,660,3059"/><area shape="rect" id="node74" href="bsp__int_8h.html#a45cde074095874e8627ca50540677c27" title="BSP_IntHandlerCOMP1" alt="" coords="500,3083,660,3109"/><area shape="rect" id="node75" href="bsp__int_8h.html#ac3a55edffa30ab4c0ab7952d99510b49" title="BSP_IntHandlerCOMP2" alt="" coords="500,3133,660,3160"/><area shape="rect" id="node76" href="bsp__int_8h.html#ac198daa2b0957f983adb207ad33ff3a3" title="BSP_IntHandlerFLASH" alt="" coords="502,3184,658,3211"/><area shape="rect" id="node77" href="bsp__int_8h.html#ac5e8a40a7c3f632343a44cd4e9ef2ee9" title="BSP_IntHandlerGPIOA" alt="" coords="503,3235,657,3261"/><area shape="rect" id="node78" href="bsp__int_8h.html#acdf4668d56bca81773d264c9336a2cc3" title="BSP_IntHandlerGPIOB" alt="" coords="503,3285,657,3312"/><area shape="rect" id="node79" href="bsp__int_8h.html#ac9d45ceaf0f606d66d6656d1d0dc3fa2" title="BSP_IntHandlerGPIOC" alt="" coords="503,3336,657,3363"/><area shape="rect" id="node80" href="bsp__int_8h.html#a728cfca4373a16a11596738daec9e9f7" title="BSP_IntHandlerGPIOD" alt="" coords="503,3387,657,3413"/><area shape="rect" id="node81" href="bsp__int_8h.html#afe0bd5356d1244c02f6ba98e44349152" title="BSP_IntHandlerGPIOE" alt="" coords="503,3437,657,3464"/><area shape="rect" id="node82" href="bsp__int_8h.html#a4e735ead54e14c863d3d60fde0b565f4" title="BSP_IntHandlerGPIOF" alt="" coords="503,3488,657,3515"/><area shape="rect" id="node83" href="bsp__int_8h.html#a3113ce5a04cdced1eaeb6b17222aa169" title="BSP_IntHandlerGPIOG" alt="" coords="502,3539,658,3565"/><area shape="rect" id="node84" href="bsp__int_8h.html#a3b49c2bbaabbcd57dbe1e3d407d7e0e5" title="BSP_IntHandlerGPIOH" alt="" coords="503,3589,657,3616"/><area shape="rect" id="node85" href="bsp__int_8h.html#ac22789bcb78f685d3df609638828b0c0" title="BSP_IntHandlerHIBERNATE" alt="" coords="487,3640,673,3667"/><area shape="rect" id="node86" href="bsp__int_8h.html#a8788f2ce4e612a669c09098c6eff68fc" title="BSP_IntHandlerI2C0" alt="" coords="510,1664,650,1691"/><area shape="rect" id="node87" href="bsp__int_8h.html#aa9e67049e3c0b2ae25e4e6083c157160" title="BSP_IntHandlerI2C1" alt="" coords="510,1715,650,1741"/><area shape="rect" id="node88" href="bsp__int_8h.html#a294c5ea43749706175825369de29a8c5" title="BSP_IntHandlerPWM_FAULT" alt="" coords="483,1765,677,1792"/><area shape="rect" id="node89" href="bsp__int_8h.html#a347689e95305a7a28740b644da43a861" title="BSP_IntHandlerPWM_GEN0" alt="" coords="485,1816,675,1843"/><area shape="rect" id="node90" href="bsp__int_8h.html#a4a3b136df3d372b1708a06f1167b6656" title="BSP_IntHandlerPWM_GEN1" alt="" coords="485,1867,675,1893"/><area shape="rect" id="node91" href="bsp__int_8h.html#a99171dfb12d98cfa4383f06172037e0f" title="BSP_IntHandlerPWM_GEN2" alt="" coords="485,1917,675,1944"/><area shape="rect" id="node92" href="bsp__int_8h.html#a24df141eadd8d4bb0b87ef26eb985410" title="BSP_IntHandlerQEI0" alt="" coords="509,1968,651,1995"/><area shape="rect" id="node93" href="bsp__int_8h.html#a5c8606e6588439ce712bde2b24fc1abd" title="BSP_IntHandlerQEI1" alt="" coords="509,2019,651,2045"/><area shape="rect" id="node94" href="bsp__int_8h.html#a08e40612be7710cc609fd7dee77f8523" title="BSP_IntHandlerSSI0" alt="" coords="509,2069,651,2096"/><area shape="rect" id="node95" href="bsp__int_8h.html#a6969102be6a3ad5c4087222a3e9ed6b0" title="BSP_IntHandlerSSI1" alt="" coords="509,2120,651,2147"/><area shape="rect" id="node96" href="bsp__int_8h.html#a9439914094dbd317f41dec6d593392e5" title="BSP_IntHandlerSYSCTL" alt="" coords="498,2171,662,2197"/><area shape="rect" id="node97" href="bsp__int_8h.html#a8b61cf90a3136369d1f11196d8e713ed" title="BSP_IntHandlerTIMER0A" alt="" coords="495,2221,665,2248"/><area shape="rect" id="node98" href="bsp__int_8h.html#a61b2450a6f922d0203a9c42dc17aba68" title="BSP_IntHandlerTIMER0B" alt="" coords="495,2272,665,2299"/><area shape="rect" id="node99" href="bsp__int_8h.html#a1bf80083e0adff10530e357c2e882aca" title="BSP_IntHandlerTIMER1A" alt="" coords="495,2323,665,2349"/><area shape="rect" id="node100" href="bsp__int_8h.html#a5a6946270499c00fd826048d159d8bd6" title="BSP_IntHandlerTIMER1B" alt="" coords="495,2373,665,2400"/><area shape="rect" id="node101" href="bsp__int_8h.html#ab9e4b83839bc4e5b2c47bb097fb7e543" title="BSP_IntHandlerTIMER2A" alt="" coords="495,2424,665,2451"/><area shape="rect" id="node102" href="bsp__int_8h.html#a4a2fc2151db90630577d1e2218d36ed3" title="BSP_IntHandlerTIMER2B" alt="" coords="495,2475,665,2501"/><area shape="rect" id="node103" href="bsp__int_8h.html#a8d7546c5c3314aeacf9efea73fed8299" title="BSP_IntHandlerTIMER3A" alt="" coords="495,2525,665,2552"/><area shape="rect" id="node104" href="bsp__int_8h.html#af1cc23b2db6b6153833ba02f589e8232" title="BSP_IntHandlerTIMER3B" alt="" coords="495,2576,665,2603"/><area shape="rect" id="node105" href="bsp__int_8h.html#ac9bbbf852f53f5c77f449485a4d288a4" title="BSP_IntHandlerUART0" alt="" coords="503,2627,657,2653"/><area shape="rect" id="node106" href="bsp__int_8h.html#a03d6d0dccc5594f984867d91cb647fbd" title="BSP_IntHandlerUART1" alt="" coords="503,2677,657,2704"/><area shape="rect" id="node107" href="bsp__int_8h.html#a9c199968842d7cffef7c66278fab0fc4" title="BSP_IntHandlerUART2" alt="" coords="503,2728,657,2755"/><area shape="rect" id="node108" href="bsp__int_8h.html#a985d8fb2169238272fb131fd2a57c79e" title="BSP_IntHandlerWATCHDOG" alt="" coords="485,2779,675,2805"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a51ca66834bb18cd2120c0c468fde0383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> OSEventNameGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *&#160;</td>
          <td class="paramname"><em>pevent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> **&#160;</td>
          <td class="paramname"><em>pname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>perr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00108">108</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00248">OS_ERR_EVENT_TYPE</a>, <a class="el" href="ucos__ii_8h_source.html#l00265">OS_ERR_NAME_GET_ISR</a>, <a class="el" href="ucos__ii_8h_source.html#l00246">OS_ERR_NONE</a>, <a class="el" href="ucos__ii_8h_source.html#l00251">OS_ERR_PEVENT_NULL</a>, <a class="el" href="ucos__ii_8h_source.html#l00260">OS_ERR_PNAME_NULL</a>, <a class="el" href="ucos__ii_8h_source.html#l00131">OS_EVENT_TYPE_MBOX</a>, <a class="el" href="ucos__ii_8h_source.html#l00134">OS_EVENT_TYPE_MUTEX</a>, <a class="el" href="ucos__ii_8h_source.html#l00132">OS_EVENT_TYPE_Q</a>, <a class="el" href="ucos__ii_8h_source.html#l00133">OS_EVENT_TYPE_SEM</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="os__core_8c_source.html#l01696">OS_StrLen()</a>, <a class="el" href="ucos__ii_8h_source.html#l00405">OS_EVENT::OSEventName</a>, <a class="el" href="ucos__ii_8h_source.html#l00393">OS_EVENT::OSEventType</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>      len;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                     </span><span class="comment">/* Allocate storage for CPU status register           */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#if OS_ARG_CHK_EN &gt; 0u</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (perr == (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)0) {                    <span class="comment">/* Validate &#39;perr&#39;                                    */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span> (pevent == (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {               <span class="comment">/* Is &#39;pevent&#39; a NULL pointer?                        */</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        *perr = <a class="code" href="ucos__ii_8h.html#a2787e9192fff5a448159c0e978d0dc8f">OS_ERR_PEVENT_NULL</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (pname == (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> **)0) {                   <span class="comment">/* Is &#39;pname&#39; a NULL pointer?                         */</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        *perr = <a class="code" href="ucos__ii_8h.html#a235b07975bd2f4be3b364a23094116f2">OS_ERR_PNAME_NULL</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> &gt; 0u) {                     <span class="comment">/* See if trying to call from an ISR                  */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        *perr  = <a class="code" href="ucos__ii_8h.html#a111c2a78c8d131c8af31baa5558f9f76">OS_ERR_NAME_GET_ISR</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">switch</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a0082ebc11bf23f14b76695b6fd0062e3">OS_EVENT_TYPE_SEM</a>:</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#af5ec58209e8b7854dfed3b659fd5d95d">OS_EVENT_TYPE_MUTEX</a>:</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a07f94a876cdb7138bb11e59fc3c9d02c">OS_EVENT_TYPE_MBOX</a>:</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#aa6ba7a266f15a1668ee0622ad8b6989f">OS_EVENT_TYPE_Q</a>:</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;             *perr = <a class="code" href="ucos__ii_8h.html#a6d0892eecfcc5a20ddad798264a8618f">OS_ERR_EVENT_TYPE</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;             <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    *pname = pevent-&gt;<a class="code" href="ucos__ii_8h.html#a795707e963e1d19c05cd1ba7775e6ef2">OSEventName</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    len    = <a class="code" href="os__core_8c.html#a97dc1f3c7f7c04d67c65bc58d015faaf">OS_StrLen</a>(*pname);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    *perr  = <a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> (len);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a51ca66834bb18cd2120c0c468fde0383_cgraph.png" border="0" usemap="#os__core_8c_a51ca66834bb18cd2120c0c468fde0383_cgraph" alt=""/></div>
<map name="os__core_8c_a51ca66834bb18cd2120c0c468fde0383_cgraph" id="os__core_8c_a51ca66834bb18cd2120c0c468fde0383_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a97dc1f3c7f7c04d67c65bc58d015faaf" title="OS_StrLen" alt="" coords="182,5,269,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4436b744a481644cf77c6addfae09ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSEventNameSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *&#160;</td>
          <td class="paramname"><em>pevent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>pname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>perr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00184">184</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00248">OS_ERR_EVENT_TYPE</a>, <a class="el" href="ucos__ii_8h_source.html#l00266">OS_ERR_NAME_SET_ISR</a>, <a class="el" href="ucos__ii_8h_source.html#l00246">OS_ERR_NONE</a>, <a class="el" href="ucos__ii_8h_source.html#l00251">OS_ERR_PEVENT_NULL</a>, <a class="el" href="ucos__ii_8h_source.html#l00260">OS_ERR_PNAME_NULL</a>, <a class="el" href="ucos__ii_8h_source.html#l00131">OS_EVENT_TYPE_MBOX</a>, <a class="el" href="ucos__ii_8h_source.html#l00134">OS_EVENT_TYPE_MUTEX</a>, <a class="el" href="ucos__ii_8h_source.html#l00132">OS_EVENT_TYPE_Q</a>, <a class="el" href="ucos__ii_8h_source.html#l00133">OS_EVENT_TYPE_SEM</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00405">OS_EVENT::OSEventName</a>, <a class="el" href="ucos__ii_8h_source.html#l00393">OS_EVENT::OSEventType</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>.</p>

<p>参考自 <a class="el" href="app_8c_source.html#l00262">App_EventCreate()</a> , 以及 <a class="el" href="os__tmr_8c_source.html#l00782">OSTmr_Init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                     </span><span class="comment">/* Allocate storage for CPU status register           */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#if OS_ARG_CHK_EN &gt; 0u</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (perr == (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)0) {                    <span class="comment">/* Validate &#39;perr&#39;                                    */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (pevent == (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {               <span class="comment">/* Is &#39;pevent&#39; a NULL pointer?                        */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        *perr = <a class="code" href="ucos__ii_8h.html#a2787e9192fff5a448159c0e978d0dc8f">OS_ERR_PEVENT_NULL</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (pname == (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)0) {                   <span class="comment">/* Is &#39;pname&#39; a NULL pointer?                         */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        *perr = <a class="code" href="ucos__ii_8h.html#a235b07975bd2f4be3b364a23094116f2">OS_ERR_PNAME_NULL</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> &gt; 0u) {                     <span class="comment">/* See if trying to call from an ISR                  */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        *perr = <a class="code" href="ucos__ii_8h.html#adbad8683408a259c274a7b8101a51681">OS_ERR_NAME_SET_ISR</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">switch</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a0082ebc11bf23f14b76695b6fd0062e3">OS_EVENT_TYPE_SEM</a>:</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#af5ec58209e8b7854dfed3b659fd5d95d">OS_EVENT_TYPE_MUTEX</a>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a07f94a876cdb7138bb11e59fc3c9d02c">OS_EVENT_TYPE_MBOX</a>:</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#aa6ba7a266f15a1668ee0622ad8b6989f">OS_EVENT_TYPE_Q</a>:</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;             *perr = <a class="code" href="ucos__ii_8h.html#a6d0892eecfcc5a20ddad798264a8618f">OS_ERR_EVENT_TYPE</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;             <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    pevent-&gt;<a class="code" href="ucos__ii_8h.html#a795707e963e1d19c05cd1ba7775e6ef2">OSEventName</a> = pname;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    *perr = <a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a4436b744a481644cf77c6addfae09ffa_icgraph.png" border="0" usemap="#os__core_8c_a4436b744a481644cf77c6addfae09ffa_icgraph" alt=""/></div>
<map name="os__core_8c_a4436b744a481644cf77c6addfae09ffa_icgraph" id="os__core_8c_a4436b744a481644cf77c6addfae09ffa_icgraph">
<area shape="rect" id="node2" href="app_8c.html#ad179f0386a736897f8584eb4a6cd928b" title="App_EventCreate" alt="" coords="181,5,304,32"/><area shape="rect" id="node5" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="199,56,286,83"/><area shape="rect" id="node3" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="353,5,461,32"/><area shape="rect" id="node4" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="509,31,560,57"/><area shape="rect" id="node6" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="377,56,436,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26c3b9f8f0aa851a4d1342dceb75ef4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> OSEventPendMulti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **&#160;</td>
          <td class="paramname"><em>pevents_pend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **&#160;</td>
          <td class="paramname"><em>pevents_rdy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pmsgs_rdy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#a3954a3ec775325f557f0b4942a964f91">INT32U</a>&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>perr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00302">302</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00248">OS_ERR_EVENT_TYPE</a>, <a class="el" href="ucos__ii_8h_source.html#l00246">OS_ERR_NONE</a>, <a class="el" href="ucos__ii_8h_source.html#l00262">OS_ERR_PEND_ABORT</a>, <a class="el" href="ucos__ii_8h_source.html#l00249">OS_ERR_PEND_ISR</a>, <a class="el" href="ucos__ii_8h_source.html#l00261">OS_ERR_PEND_LOCKED</a>, <a class="el" href="ucos__ii_8h_source.html#l00251">OS_ERR_PEVENT_NULL</a>, <a class="el" href="ucos__ii_8h_source.html#l00258">OS_ERR_TIMEOUT</a>, <a class="el" href="ucos__ii_8h_source.html#l00135">OS_EVENT_TYPE_FLAG</a>, <a class="el" href="ucos__ii_8h_source.html#l00131">OS_EVENT_TYPE_MBOX</a>, <a class="el" href="ucos__ii_8h_source.html#l00134">OS_EVENT_TYPE_MUTEX</a>, <a class="el" href="ucos__ii_8h_source.html#l00132">OS_EVENT_TYPE_Q</a>, <a class="el" href="ucos__ii_8h_source.html#l00133">OS_EVENT_TYPE_SEM</a>, <a class="el" href="os__core_8c_source.html#l01177">OS_EventTaskRemoveMulti()</a>, <a class="el" href="os__core_8c_source.html#l01104">OS_EventTaskWaitMulti()</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00063">OS_FALSE</a>, <a class="el" href="os__core_8c_source.html#l01609">OS_Sched()</a>, <a class="el" href="ucos__ii_8h_source.html#l00107">OS_STAT_MBOX</a>, <a class="el" href="ucos__ii_8h_source.html#l00112">OS_STAT_MULTI</a>, <a class="el" href="ucos__ii_8h_source.html#l00123">OS_STAT_PEND_ABORT</a>, <a class="el" href="ucos__ii_8h_source.html#l00121">OS_STAT_PEND_OK</a>, <a class="el" href="ucos__ii_8h_source.html#l00122">OS_STAT_PEND_TO</a>, <a class="el" href="ucos__ii_8h_source.html#l00108">OS_STAT_Q</a>, <a class="el" href="ucos__ii_8h_source.html#l00105">OS_STAT_RDY</a>, <a class="el" href="ucos__ii_8h_source.html#l00106">OS_STAT_SEM</a>, <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00395">OS_EVENT::OSEventCnt</a>, <a class="el" href="ucos__ii_8h_source.html#l00394">OS_EVENT::OSEventPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00393">OS_EVENT::OSEventType</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00736">OSLockNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00538">OS_Q::OSQEnd</a>, <a class="el" href="ucos__ii_8h_source.html#l00542">OS_Q::OSQEntries</a>, <a class="el" href="ucos__ii_8h_source.html#l00540">OS_Q::OSQOut</a>, <a class="el" href="ucos__ii_8h_source.html#l00537">OS_Q::OSQStart</a>, <a class="el" href="ucos__ii_8h_source.html#l00758">OSTCBCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00632">OS_TCB::OSTCBDly</a>, <a class="el" href="ucos__ii_8h_source.html#l00618">OS_TCB::OSTCBEventMultiPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00614">OS_TCB::OSTCBEventPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00622">OS_TCB::OSTCBMsg</a>, <a class="el" href="ucos__ii_8h_source.html#l00633">OS_TCB::OSTCBStat</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00634">OS_TCB::OSTCBStatPend</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  **pevents;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>   *pevent;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#if ((OS_Q_EN &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u))</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#struct_o_s___q">OS_Q</a>       *pq;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>     events_rdy;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>      events_rdy_nbr;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>       events_stat;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#if (OS_CRITICAL_METHOD == 3u)                          </span><span class="comment">/* Allocate storage for CPU status register    */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>   cpu_sr = 0u;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#if (OS_ARG_CHK_EN &gt; 0u)</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (perr == (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)0) {                           <span class="comment">/* Validate &#39;perr&#39;                             */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (pevents_pend == (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **)0) {               <span class="comment">/* Validate &#39;pevents_pend&#39;                     */</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;       *perr =  <a class="code" href="ucos__ii_8h.html#a2787e9192fff5a448159c0e978d0dc8f">OS_ERR_PEVENT_NULL</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (*pevents_pend  == (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {              <span class="comment">/* Validate &#39;pevents_pend&#39;                     */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;       *perr =  <a class="code" href="ucos__ii_8h.html#a2787e9192fff5a448159c0e978d0dc8f">OS_ERR_PEVENT_NULL</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (pevents_rdy  == (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **)0) {               <span class="comment">/* Validate &#39;pevents_rdy&#39;                      */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;       *perr =  <a class="code" href="ucos__ii_8h.html#a2787e9192fff5a448159c0e978d0dc8f">OS_ERR_PEVENT_NULL</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (pmsgs_rdy == (<span class="keywordtype">void</span> **)0) {                      <span class="comment">/* Validate &#39;pmsgs_rdy&#39;                        */</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;       *perr =  <a class="code" href="ucos__ii_8h.html#a2787e9192fff5a448159c0e978d0dc8f">OS_ERR_PEVENT_NULL</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   *pevents_rdy = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;                        <span class="comment">/* Init array to NULL in case of errors        */</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    pevents     =  pevents_pend;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    pevent      = *pevents;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">while</span>  (pevent != (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">switch</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>) {                  <span class="comment">/* Validate event block types                  */</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">#if (OS_SEM_EN  &gt; 0u)</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a0082ebc11bf23f14b76695b6fd0062e3">OS_EVENT_TYPE_SEM</a>:</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if (OS_MBOX_EN &gt; 0u)</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a07f94a876cdb7138bb11e59fc3c9d02c">OS_EVENT_TYPE_MBOX</a>:</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if ((OS_Q_EN   &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u))</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#aa6ba7a266f15a1668ee0622ad8b6989f">OS_EVENT_TYPE_Q</a>:</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#af5ec58209e8b7854dfed3b659fd5d95d">OS_EVENT_TYPE_MUTEX</a>:</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a594076e1860a497eb8668b1a0166a98f">OS_EVENT_TYPE_FLAG</a>:</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                *perr = <a class="code" href="ucos__ii_8h.html#a6d0892eecfcc5a20ddad798264a8618f">OS_ERR_EVENT_TYPE</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                 <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        pevents++;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        pevent = *pevents;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a>  &gt; 0u) {                           <span class="comment">/* See if called from ISR ...                  */</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;       *perr =  <a class="code" href="ucos__ii_8h.html#a5f647f08b5da2753517fb881f7948622">OS_ERR_PEND_ISR</a>;                        <span class="comment">/* ... can&#39;t PEND from an ISR                  */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> &gt; 0u) {                           <span class="comment">/* See if called with scheduler locked ...     */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;       *perr =  <a class="code" href="ucos__ii_8h.html#a91e4a7da4f841419e2abd5372700aab2">OS_ERR_PEND_LOCKED</a>;                     <span class="comment">/* ... can&#39;t PEND when locked                  */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">return</span> (0u);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">/*$PAGE*/</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    events_rdy     =  <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    events_rdy_nbr =  0u;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    events_stat    =  <a class="code" href="ucos__ii_8h.html#a1450c52d6c151e1e6766fa3948af90dd">OS_STAT_RDY</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    pevents        =  pevents_pend;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    pevent         = *pevents;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">while</span> (pevent != (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {                   <span class="comment">/* See if any events already available         */</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">switch</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#if (OS_SEM_EN &gt; 0u)</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a0082ebc11bf23f14b76695b6fd0062e3">OS_EVENT_TYPE_SEM</a>:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                 <span class="keywordflow">if</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a175e3b047215b3110fe5a58e5ca28c4b">OSEventCnt</a> &gt; 0u) {         <span class="comment">/* If semaphore count &gt; 0, resource available; */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                     pevent-&gt;<a class="code" href="ucos__ii_8h.html#a175e3b047215b3110fe5a58e5ca28c4b">OSEventCnt</a>--;              <span class="comment">/* ... decrement semaphore,                ... */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    *pevents_rdy++ =  pevent;           <span class="comment">/* ... and return available semaphore event    */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                      events_rdy   =  <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    *pmsgs_rdy++   = (<span class="keywordtype">void</span> *)0;         <span class="comment">/* NO message returned  for semaphores         */</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                      events_rdy_nbr++;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                 } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                      events_stat |=  <a class="code" href="ucos__ii_8h.html#a79e818d18171bfda4f486bd94fb9e474">OS_STAT_SEM</a>;      <span class="comment">/* Configure multi-pend for semaphore events   */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                 }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#if (OS_MBOX_EN &gt; 0u)</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a07f94a876cdb7138bb11e59fc3c9d02c">OS_EVENT_TYPE_MBOX</a>:</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                 <span class="keywordflow">if</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a> != (<span class="keywordtype">void</span> *)0) { <span class="comment">/* If mailbox NOT empty;                   ... */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                                        <span class="comment">/* ... return available message,           ... */</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    *pmsgs_rdy++         = (<span class="keywordtype">void</span> *)pevent-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                     pevent-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a>  = (<span class="keywordtype">void</span> *)0;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    *pevents_rdy++       =  pevent;     <span class="comment">/* ... and return available mailbox event      */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                      events_rdy         =  <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                      events_rdy_nbr++;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                 } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                      events_stat |= <a class="code" href="ucos__ii_8h.html#a5bec9440f5b873bf866fc6a9f31c9df4">OS_STAT_MBOX</a>;      <span class="comment">/* Configure multi-pend for mailbox events     */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                 }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">#if ((OS_Q_EN &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u))</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#aa6ba7a266f15a1668ee0622ad8b6989f">OS_EVENT_TYPE_Q</a>:</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                 pq = (<a class="code" href="ucos__ii_8h.html#struct_o_s___q">OS_Q</a> *)pevent-&gt;<a class="code" href="ucos__ii_8h.html#a2d8adc94de9c79ca904c81b3a30d8c91">OSEventPtr</a>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                 if (pq-&gt;<a class="code" href="ucos__ii_8h.html#a09de047db4c6dd3e6cbc585317503320">OSQEntries</a> &gt; 0u) {             <span class="comment">/* If queue NOT empty;                     ... */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                                        <span class="comment">/* ... return available message,           ... */</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    *pmsgs_rdy++ = (<span class="keywordtype">void</span> *)*pq-&gt;<a class="code" href="ucos__ii_8h.html#a90bf45409207c72f0b622e5486de8c9f">OSQOut</a>++;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                     if (pq-&gt;<a class="code" href="ucos__ii_8h.html#a90bf45409207c72f0b622e5486de8c9f">OSQOut</a> == pq-&gt;<a class="code" href="ucos__ii_8h.html#a60d92f59dcea53be9f36d9bae4f9f2d8">OSQEnd</a>) {    <span class="comment">/* If OUT ptr at queue end, ...                */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                         pq-&gt;<a class="code" href="ucos__ii_8h.html#a90bf45409207c72f0b622e5486de8c9f">OSQOut</a>  = pq-&gt;<a class="code" href="ucos__ii_8h.html#a131acde38b9546ce9a43784fec0fb1ad">OSQStart</a>;    <span class="comment">/* ... wrap   to queue start                   */</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                     }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                     pq-&gt;<a class="code" href="ucos__ii_8h.html#a09de047db4c6dd3e6cbc585317503320">OSQEntries</a>--;                  <span class="comment">/* Update number of queue entries              */</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    *pevents_rdy++ = pevent;            <span class="comment">/* ... and return available queue event        */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                      events_rdy   = <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                      events_rdy_nbr++;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                 } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                      events_stat |= <a class="code" href="ucos__ii_8h.html#add50b4d725edc9aca2c44b6092dd4153">OS_STAT_Q</a>;         <span class="comment">/* Configure multi-pend for queue events       */</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                 }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#af5ec58209e8b7854dfed3b659fd5d95d">OS_EVENT_TYPE_MUTEX</a>:</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a594076e1860a497eb8668b1a0166a98f">OS_EVENT_TYPE_FLAG</a>:</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                 <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                *pevents_rdy = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;           <span class="comment">/* NULL terminate return event array           */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                *perr        =  <a class="code" href="ucos__ii_8h.html#a6d0892eecfcc5a20ddad798264a8618f">OS_ERR_EVENT_TYPE</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                 <span class="keywordflow">return</span> (events_rdy_nbr);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        pevents++;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        pevent = *pevents;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> ( events_rdy == <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>) {                       <span class="comment">/* Return any events already available         */</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;       *pevents_rdy = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;                    <span class="comment">/* NULL terminate return event array           */</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;       *perr        =  <a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">return</span> (events_rdy_nbr);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">/*$PAGE*/</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                        <span class="comment">/* Otherwise, must wait until any event occurs */</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a>     |= events_stat  |           <span class="comment">/* Resource not available, ...                 */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                               <a class="code" href="ucos__ii_8h.html#a57dcd8e16ea0770f69a9a66d575d28a2">OS_STAT_MULTI</a>;           <span class="comment">/* ... pend on multiple events                 */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a>  = <a class="code" href="ucos__ii_8h.html#a1d25ef49f6325eea1e7bde408c96cbf9">OS_STAT_PEND_OK</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#acce26ca7c92ec90b231e955e50a3ba87">OSTCBDly</a>       = timeout;                 <span class="comment">/* Store pend timeout in TCB                   */</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="os__core_8c.html#a6986b3da9041b662337dd8f7fc5b0e09">OS_EventTaskWaitMulti</a>(pevents_pend);                <span class="comment">/* Suspend task until events or timeout occurs */</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292">OS_Sched</a>();                                         <span class="comment">/* Find next highest priority task ready       */</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a>) {                  <span class="comment">/* Handle event posted, aborted, or timed-out  */</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a1d25ef49f6325eea1e7bde408c96cbf9">OS_STAT_PEND_OK</a>:</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#adc4edffddb55aef53f8bface7f480a13">OS_STAT_PEND_ABORT</a>:</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;             pevent = <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a02a04fc053c735cfe2b76bb6d755ad3f">OSTCBEventPtr</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;             <span class="keywordflow">if</span> (pevent != (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {             <span class="comment">/* If task event ptr != NULL, ...              */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                *pevents_rdy++ =  pevent;               <span class="comment">/* ... return available event ...              */</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                *pevents_rdy   = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;         <span class="comment">/* ... &amp; NULL terminate return event array     */</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                  events_rdy_nbr++;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;             } <span class="keywordflow">else</span> {                                   <span class="comment">/* Else NO event available, handle as timeout  */</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                 <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a> = <a class="code" href="ucos__ii_8h.html#a3a39c8ccb95b3f7709089b9afddc8597">OS_STAT_PEND_TO</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                 <a class="code" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259">OS_EventTaskRemoveMulti</a>(<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>, pevents_pend);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;             }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a3a39c8ccb95b3f7709089b9afddc8597">OS_STAT_PEND_TO</a>:                           <span class="comment">/* If events timed out, ...                    */</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">default</span>:                                        <span class="comment">/* ... remove task from events&#39; wait lists     */</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;             <a class="code" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259">OS_EventTaskRemoveMulti</a>(<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>, pevents_pend);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a>) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a1d25ef49f6325eea1e7bde408c96cbf9">OS_STAT_PEND_OK</a>:</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;             <span class="keywordflow">switch</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a5871bc0e9112f12b8f8f2579d93275d7">OSEventType</a>) {             <span class="comment">/* Return event&#39;s message                      */</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#if (OS_SEM_EN &gt; 0u)</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor"></span>                 <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a0082ebc11bf23f14b76695b6fd0062e3">OS_EVENT_TYPE_SEM</a>:</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                     *pmsgs_rdy++ = (<span class="keywordtype">void</span> *)0;          <span class="comment">/* NO message returned for semaphores          */</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">#if ((OS_MBOX_EN &gt; 0u) ||                 \</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor">    ((OS_Q_EN    &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u)))</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor"></span>                 <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a07f94a876cdb7138bb11e59fc3c9d02c">OS_EVENT_TYPE_MBOX</a>:</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#aa6ba7a266f15a1668ee0622ad8b6989f">OS_EVENT_TYPE_Q</a>:</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                     *pmsgs_rdy++ = (<span class="keywordtype">void</span> *)<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#aee02770a7c553cadff50463ce35d0ad6">OSTCBMsg</a>;     <span class="comment">/* Return received message         */</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;#endif</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;#<span class="keywordflow">if</span> 0                                                   <span class="comment">/* Unreachable code                            */</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#af5ec58209e8b7854dfed3b659fd5d95d">OS_EVENT_TYPE_MUTEX</a>:</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                 <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a594076e1860a497eb8668b1a0166a98f">OS_EVENT_TYPE_FLAG</a>:</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;#endif                 </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                 <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                      <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                     *pevents_rdy = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0;      <span class="comment">/* NULL terminate return event array           */</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                     *perr        =  <a class="code" href="ucos__ii_8h.html#a6d0892eecfcc5a20ddad798264a8618f">OS_ERR_EVENT_TYPE</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                      <span class="keywordflow">return</span> (events_rdy_nbr);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;             }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            *perr = <a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#adc4edffddb55aef53f8bface7f480a13">OS_STAT_PEND_ABORT</a>:</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            *pmsgs_rdy++ = (<span class="keywordtype">void</span> *)0;                   <span class="comment">/* NO message returned for abort               */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            *perr        =  <a class="code" href="ucos__ii_8h.html#ad1b66a15b25cdd566e5d4a5bd5396447">OS_ERR_PEND_ABORT</a>;          <span class="comment">/* Indicate that event  aborted                */</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="ucos__ii_8h.html#a3a39c8ccb95b3f7709089b9afddc8597">OS_STAT_PEND_TO</a>:</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            *pmsgs_rdy++ = (<span class="keywordtype">void</span> *)0;                   <span class="comment">/* NO message returned for timeout             */</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            *perr        =  <a class="code" href="ucos__ii_8h.html#a5cb45ca297f463a7f4766bb2be477309">OS_ERR_TIMEOUT</a>;             <span class="comment">/* Indicate that events timed out              */</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a>          =  <a class="code" href="ucos__ii_8h.html#a1450c52d6c151e1e6766fa3948af90dd">OS_STAT_RDY</a>;        <span class="comment">/* Set   task  status to ready                 */</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a>      =  <a class="code" href="ucos__ii_8h.html#a1d25ef49f6325eea1e7bde408c96cbf9">OS_STAT_PEND_OK</a>;    <span class="comment">/* Clear pend  status                          */</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a02a04fc053c735cfe2b76bb6d755ad3f">OSTCBEventPtr</a>      = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *)0;      <span class="comment">/* Clear event pointers                        */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#aa94fe149dd4e4ba49e354230aed4a430">OSTCBEventMultiPtr</a> = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **)0;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">#if ((OS_MBOX_EN &gt; 0u) ||                 \</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">    ((OS_Q_EN    &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u)))</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#aee02770a7c553cadff50463ce35d0ad6">OSTCBMsg</a>           = (<span class="keywordtype">void</span>      *)0;      <span class="comment">/* Clear task  message                         */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> (events_rdy_nbr);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a26c3b9f8f0aa851a4d1342dceb75ef4a_cgraph.png" border="0" usemap="#os__core_8c_a26c3b9f8f0aa851a4d1342dceb75ef4a_cgraph" alt=""/></div>
<map name="os__core_8c_a26c3b9f8f0aa851a4d1342dceb75ef4a_cgraph" id="os__core_8c_a26c3b9f8f0aa851a4d1342dceb75ef4a_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259" title="OS_EventTaskRemoveMulti" alt="" coords="185,5,367,32"/><area shape="rect" id="node3" href="os__core_8c.html#a6986b3da9041b662337dd8f7fc5b0e09" title="OS_EventTaskWaitMulti" alt="" coords="195,56,357,83"/><area shape="rect" id="node4" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="233,107,319,133"/><area shape="rect" id="node5" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="417,107,527,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afefd47bb79544cf1414a3c6954d71258"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00563">563</a> 行定义.</p>

<p>参考 <a class="el" href="os__flag_8c_source.html#l01048">OS_FlagInit()</a>, <a class="el" href="os__core_8c_source.html#l01254">OS_InitEventList()</a>, <a class="el" href="os__core_8c_source.html#l01305">OS_InitMisc()</a>, <a class="el" href="os__core_8c_source.html#l01341">OS_InitRdyList()</a>, <a class="el" href="os__core_8c_source.html#l01378">OS_InitTaskIdle()</a>, <a class="el" href="os__core_8c_source.html#l01440">OS_InitTaskStat()</a>, <a class="el" href="os__core_8c_source.html#l01502">OS_InitTCBList()</a>, <a class="el" href="os__mem_8c_source.html#l00403">OS_MemInit()</a>, <a class="el" href="os__q_8c_source.html#l00852">OS_QInit()</a>, <a class="el" href="os__cpu__c_8c_source.html#l00067">OSInitHookBegin()</a>, <a class="el" href="os__cpu__c_8c_source.html#l00088">OSInitHookEnd()</a> , 以及 <a class="el" href="os__tmr_8c_source.html#l00782">OSTmr_Init()</a>.</p>

<p>参考自 <a class="el" href="app_8c_source.html#l00153">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="os__cpu__c_8c.html#a74409555be699fa395c33669e2647ec6">OSInitHookBegin</a>();                                           <span class="comment">/* Call port specific initialization code   */</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="os__core_8c.html#aa7f1c4514c9a299939ece49e5944f18f">OS_InitMisc</a>();                                               <span class="comment">/* Initialize miscellaneous variables       */</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="os__core_8c.html#a261e0ee34f7f9ed1fce0ac87db3c5ad7">OS_InitRdyList</a>();                                            <span class="comment">/* Initialize the Ready List                */</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="os__core_8c.html#a2b08bf9818c51413233a54c4580165ea">OS_InitTCBList</a>();                                            <span class="comment">/* Initialize the free list of OS_TCBs      */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="os__core_8c.html#aeebfa0c8217412c2f0fec844f3b68e47">OS_InitEventList</a>();                                          <span class="comment">/* Initialize the free list of OS_EVENTs    */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="preprocessor">#if (OS_FLAG_EN &gt; 0u) &amp;&amp; (OS_MAX_FLAGS &gt; 0u)</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__flag_8c.html#a0fe3aa6a8a4e8af4c3c87a51dc15d187">OS_FlagInit</a>();                                               <span class="comment">/* Initialize the event flag structures     */</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="preprocessor">#if (OS_MEM_EN &gt; 0u) &amp;&amp; (OS_MAX_MEM_PART &gt; 0u)</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__mem_8c.html#af1a3563017f40e8bfea67fe5bc5dd43d">OS_MemInit</a>();                                                <span class="comment">/* Initialize the memory manager            */</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor">#if (OS_Q_EN &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u)</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__q_8c.html#a61641feff32e6bde0adb8fe1fb5e1e3f">OS_QInit</a>();                                                  <span class="comment">/* Initialize the message queue structures  */</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6">OS_InitTaskIdle</a>();                                           <span class="comment">/* Create the Idle Task                     */</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="preprocessor">#if OS_TASK_STAT_EN &gt; 0u</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca">OS_InitTaskStat</a>();                                           <span class="comment">/* Create the Statistic Task                */</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor">#if OS_TMR_EN &gt; 0u</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__tmr_8c.html#a4d136013298ac20faeadac229fb30c21">OSTmr_Init</a>();                                                <span class="comment">/* Initialize the Timer Manager             */</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="os__cpu__c_8c.html#a8348f3a73c1b392f6c410e191887b401">OSInitHookEnd</a>();                                             <span class="comment">/* Call port specific init. code            */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="preprocessor">#if OS_DEBUG_EN &gt; 0u</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor"></span>    OSDebugInit();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_afefd47bb79544cf1414a3c6954d71258_cgraph.png" border="0" usemap="#os__core_8c_afefd47bb79544cf1414a3c6954d71258_cgraph" alt=""/></div>
<map name="os__core_8c_afefd47bb79544cf1414a3c6954d71258_cgraph" id="os__core_8c_afefd47bb79544cf1414a3c6954d71258_cgraph">
<area shape="rect" id="node2" href="os__flag_8c.html#a0fe3aa6a8a4e8af4c3c87a51dc15d187" title="OS_FlagInit" alt="" coords="128,208,219,235"/><area shape="rect" id="node4" href="os__core_8c.html#aeebfa0c8217412c2f0fec844f3b68e47" title="OS_InitEventList" alt="" coords="114,5,233,32"/><area shape="rect" id="node5" href="os__core_8c.html#aa7f1c4514c9a299939ece49e5944f18f" title="OS_InitMisc" alt="" coords="127,411,220,437"/><area shape="rect" id="node6" href="os__core_8c.html#a261e0ee34f7f9ed1fce0ac87db3c5ad7" title="OS_InitRdyList" alt="" coords="119,461,228,488"/><area shape="rect" id="node7" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="290,309,403,336"/><area shape="rect" id="node34" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="288,360,405,387"/><area shape="rect" id="node41" href="os__core_8c.html#a2b08bf9818c51413233a54c4580165ea" title="OS_InitTCBList" alt="" coords="118,56,229,83"/><area shape="rect" id="node42" href="os__mem_8c.html#af1a3563017f40e8bfea67fe5bc5dd43d" title="OS_MemInit" alt="" coords="126,107,221,133"/><area shape="rect" id="node43" href="os__q_8c.html#a61641feff32e6bde0adb8fe1fb5e1e3f" title="OS_QInit" alt="" coords="136,157,211,184"/><area shape="rect" id="node44" href="os__cpu__c_8c.html#a74409555be699fa395c33669e2647ec6" title="OSInitHookBegin" alt="" coords="113,512,234,539"/><area shape="rect" id="node45" href="os__cpu__c_8c.html#a8348f3a73c1b392f6c410e191887b401" title="OSInitHookEnd" alt="" coords="118,563,229,589"/><area shape="rect" id="node46" href="os__tmr_8c.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="130,259,217,285"/><area shape="rect" id="node3" href="os__core_8c.html#a0ba333bc9b08985d9519c29a430188f0" title="OS_MemClr" alt="" coords="300,107,393,133"/><area shape="rect" id="node8" href="os__core_8c.html#a73a3a478f8472462ac3b70b789f29409" title="OS_TaskIdle" alt="" coords="484,309,580,336"/><area shape="rect" id="node11" href="os__task_8c.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="479,411,585,437"/><area shape="rect" id="node31" href="os__task_8c.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="469,360,595,387"/><area shape="rect" id="node33" href="os__task_8c.html#a70752473d77dcfb95fb390a3ff65dcba" title="OSTaskNameSet" alt="" coords="471,259,593,285"/><area shape="rect" id="node9" href="os__cpu__c_8c.html#a7819c02d33415b093052de6416d9889f" title="OSTaskIdleHook" alt="" coords="654,259,773,285"/><area shape="rect" id="node10" href="os__app__hooks_8c.html#a7a1d89e16105fcdb5e555b4ae6cc7468" title="App_TaskIdleHook" alt="" coords="825,259,956,285"/><area shape="rect" id="node12" href="os__cpu__c_8c.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="660,360,767,387"/><area shape="rect" id="node26" href="os__core_8c.html#a95e9bc6f0d0dfe29f860cd5a5480fea4" title="OS_TCBInit" alt="" coords="668,461,759,488"/><area shape="rect" id="node23" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="1255,512,1340,539"/><area shape="rect" id="node13" href="os__task_8c.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="833,335,948,361"/><area shape="rect" id="node14" href="os__cpu__c_8c.html#a991988ad073d5ed20e3574bde354a733" title="OSTaskReturnHook" alt="" coords="1014,208,1151,235"/><area shape="rect" id="node16" href="os__task_8c.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="1039,309,1127,336"/><area shape="rect" id="node25" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="1039,563,1127,589"/><area shape="rect" id="node15" href="os__app__hooks_8c.html#ae3aa4909a651d49a3b93780007c660d5" title="App_TaskReturnHook" alt="" coords="1223,157,1371,184"/><area shape="rect" id="node17" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0" title="OS_EventTaskRemove" alt="" coords="1220,259,1375,285"/><area shape="rect" id="node18" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259" title="OS_EventTaskRemoveMulti" alt="" coords="1206,461,1389,488"/><area shape="rect" id="node19" href="os__flag_8c.html#a7ad520bab57668b9a7f797d85bd2a5c7" title="OS_FlagUnlink" alt="" coords="1243,309,1352,336"/><area shape="rect" id="node20" href="os__core_8c.html#ad0dd3f8afd8d36a8cead860a53fffc92" title="OS_Dummy" alt="" coords="1251,360,1344,387"/><area shape="rect" id="node21" href="os__cpu__c_8c.html#a4d335ed0146fb4692f6a9ba561968391" title="OSTaskDelHook" alt="" coords="1238,411,1357,437"/><area shape="rect" id="node22" href="os__app__hooks_8c.html#a23eb4142fb74b9314bec7495de78ea38" title="App_TaskDelHook" alt="" coords="1438,411,1567,437"/><area shape="rect" id="node24" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="1447,512,1558,539"/><area shape="rect" id="node27" href="os__cpu__c_8c.html#ad175126f54000a30bf15a47ba68cffc4" title="OSTCBInitHook" alt="" coords="834,512,947,539"/><area shape="rect" id="node29" href="os__cpu__c_8c.html#ae1fb9d8cc4bd490553efd061f0a3f68e" title="OSTaskCreateHook" alt="" coords="822,461,959,488"/><area shape="rect" id="node28" href="os__app__hooks_8c.html#a3d5498f1cb00285147781e84ddc75a3d" title="App_TCBInitHook" alt="" coords="1021,512,1145,539"/><area shape="rect" id="node30" href="os__app__hooks_8c.html#a3fe26c8f7986e71fe528b5e682c3897d" title="App_TaskCreateHook" alt="" coords="1009,461,1157,488"/><area shape="rect" id="node32" href="os__task_8c.html#a5efe93e7c4e315c1150423594b188717" title="OS_TaskStkClr" alt="" coords="657,309,769,336"/><area shape="rect" id="node35" href="os__core_8c.html#a827236210af1492f347cebe245caeda1" title="OS_TaskStat" alt="" coords="841,664,941,691"/><area shape="rect" id="node36" href="os__task_8c.html#aaed544c4c5e2e3d2677175284a703b5c" title="OSTaskSuspend" alt="" coords="1023,664,1143,691"/><area shape="rect" id="node37" href="os__cpu__c_8c.html#a18eed81d1c43665ae8cf9242a188db7f" title="OSTaskStatHook" alt="" coords="1021,765,1144,792"/><area shape="rect" id="node39" href="os__core_8c.html#a504e6d3c536501abee75502199349c8b" title="OS_TaskStatStkChk" alt="" coords="1011,715,1154,741"/><area shape="rect" id="node38" href="os__app__hooks_8c.html#a095fa8f0fdcb792dc4522a781b63c08a" title="App_TaskStatHook" alt="" coords="1230,765,1365,792"/><area shape="rect" id="node40" href="os__task_8c.html#ad2f10ed07769ebbd7d96e149af5a989c" title="OSTaskStkChk" alt="" coords="1241,715,1353,741"/><area shape="rect" id="node47" href="os__sem_8c.html#a88a8aaaed348084594298abe359d4afa" title="OSSemCreate" alt="" coords="293,157,400,184"/><area shape="rect" id="node49" href="os__core_8c.html#a4436b744a481644cf77c6addfae09ffa" title="OSEventNameSet" alt="" coords="283,208,410,235"/><area shape="rect" id="node50" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="289,259,404,285"/><area shape="rect" id="node48" href="os__core_8c.html#a905a0e05a1feccd489e2096ceb9aa086" title="OS_EventWaitListInit" alt="" coords="459,157,605,184"/><area shape="rect" id="node51" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="841,183,940,209"/><area shape="rect" id="node52" href="os__sem_8c.html#a108896df2b5c0b9b43f7388acab11b8e" title="OSSemPend" alt="" coords="1033,259,1132,285"/><area shape="rect" id="node54" href="os__core_8c.html#ae57079213997465346e3836c7fe037c2" title="OSSchedLock" alt="" coords="1029,56,1136,83"/><area shape="rect" id="node55" href="os__tmr_8c.html#af2697aef44464fae1857cae97694e4f4" title="OSTmr_Unlink" alt="" coords="1029,107,1136,133"/><area shape="rect" id="node56" href="os__tmr_8c.html#a6ac24f63bf5396eb6bc564e8a01c5ac4" title="OSTmr_Link" alt="" coords="1035,157,1130,184"/><area shape="rect" id="node57" href="os__core_8c.html#accb8ef08bd5b8ee1376b200e9f4ee9f7" title="OSSchedUnlock" alt="" coords="1023,360,1142,387"/><area shape="rect" id="node53" href="os__core_8c.html#a72ffa04010427c899c109336e1de0046" title="OS_EventTaskWait" alt="" coords="1230,208,1365,235"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_afefd47bb79544cf1414a3c6954d71258_icgraph.png" border="0" usemap="#os__core_8c_afefd47bb79544cf1414a3c6954d71258_icgraph" alt=""/></div>
<map name="os__core_8c_afefd47bb79544cf1414a3c6954d71258_icgraph" id="os__core_8c_afefd47bb79544cf1414a3c6954d71258_icgraph">
<area shape="rect" id="node2" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="112,5,163,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ca750f944f1f608b7f7bf3c32244553"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSIntEnter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00628">628</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>.</p>

<p>参考自 <a class="el" href="bsp__int_8c_source.html#l00371">BSP_IntHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a> == <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> &lt; 255u) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a>++;                      <span class="comment">/* Increment ISR nesting level                        */</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a2ca750f944f1f608b7f7bf3c32244553_icgraph.png" border="0" usemap="#os__core_8c_a2ca750f944f1f608b7f7bf3c32244553_icgraph" alt=""/></div>
<map name="os__core_8c_a2ca750f944f1f608b7f7bf3c32244553_icgraph" id="os__core_8c_a2ca750f944f1f608b7f7bf3c32244553_icgraph">
<area shape="rect" id="node2" href="bsp__int_8c.html#a8cb092c15c008f1d8ba4321a43fe8d64" title="BSP_IntHandler" alt="" coords="141,993,256,1020"/><area shape="rect" id="node3" href="bsp__int_8h.html#a16b3b94c23717cd78ec4e98a3db7ed23" title="BSP_IntHandlerADC0" alt="" coords="327,5,475,32"/><area shape="rect" id="node4" href="bsp__int_8h.html#a32436fa6d821383d8c384bcb0071bb0a" title="BSP_IntHandlerADC1" alt="" coords="327,56,475,83"/><area shape="rect" id="node5" href="bsp__int_8h.html#a0abbbb33ac0f7b12c0da98e2f8c3bbe4" title="BSP_IntHandlerADC2" alt="" coords="327,107,475,133"/><area shape="rect" id="node6" href="bsp__int_8h.html#a0580ffb74c2eee5c824373474b89df2e" title="BSP_IntHandlerADC3" alt="" coords="327,157,475,184"/><area shape="rect" id="node7" href="bsp__int_8h.html#a4946157b3ad715ab5cbc250f9bd7838b" title="BSP_IntHandlerCOMP0" alt="" coords="321,208,481,235"/><area shape="rect" id="node8" href="bsp__int_8h.html#a45cde074095874e8627ca50540677c27" title="BSP_IntHandlerCOMP1" alt="" coords="321,259,481,285"/><area shape="rect" id="node9" href="bsp__int_8h.html#ac3a55edffa30ab4c0ab7952d99510b49" title="BSP_IntHandlerCOMP2" alt="" coords="321,309,481,336"/><area shape="rect" id="node10" href="bsp__int_8h.html#ac198daa2b0957f983adb207ad33ff3a3" title="BSP_IntHandlerFLASH" alt="" coords="323,360,479,387"/><area shape="rect" id="node11" href="bsp__int_8h.html#ac5e8a40a7c3f632343a44cd4e9ef2ee9" title="BSP_IntHandlerGPIOA" alt="" coords="324,411,479,437"/><area shape="rect" id="node12" href="bsp__int_8h.html#acdf4668d56bca81773d264c9336a2cc3" title="BSP_IntHandlerGPIOB" alt="" coords="324,461,479,488"/><area shape="rect" id="node13" href="bsp__int_8h.html#ac9d45ceaf0f606d66d6656d1d0dc3fa2" title="BSP_IntHandlerGPIOC" alt="" coords="324,512,479,539"/><area shape="rect" id="node14" href="bsp__int_8h.html#a728cfca4373a16a11596738daec9e9f7" title="BSP_IntHandlerGPIOD" alt="" coords="324,563,479,589"/><area shape="rect" id="node15" href="bsp__int_8h.html#afe0bd5356d1244c02f6ba98e44349152" title="BSP_IntHandlerGPIOE" alt="" coords="324,613,479,640"/><area shape="rect" id="node16" href="bsp__int_8h.html#a4e735ead54e14c863d3d60fde0b565f4" title="BSP_IntHandlerGPIOF" alt="" coords="324,664,479,691"/><area shape="rect" id="node17" href="bsp__int_8h.html#a3113ce5a04cdced1eaeb6b17222aa169" title="BSP_IntHandlerGPIOG" alt="" coords="323,715,479,741"/><area shape="rect" id="node18" href="bsp__int_8h.html#a3b49c2bbaabbcd57dbe1e3d407d7e0e5" title="BSP_IntHandlerGPIOH" alt="" coords="324,765,479,792"/><area shape="rect" id="node19" href="bsp__int_8h.html#ac22789bcb78f685d3df609638828b0c0" title="BSP_IntHandlerHIBERNATE" alt="" coords="308,816,495,843"/><area shape="rect" id="node20" href="bsp__int_8h.html#a8788f2ce4e612a669c09098c6eff68fc" title="BSP_IntHandlerI2C0" alt="" coords="331,867,471,893"/><area shape="rect" id="node21" href="bsp__int_8h.html#aa9e67049e3c0b2ae25e4e6083c157160" title="BSP_IntHandlerI2C1" alt="" coords="331,917,471,944"/><area shape="rect" id="node22" href="bsp__int_8h.html#a294c5ea43749706175825369de29a8c5" title="BSP_IntHandlerPWM_FAULT" alt="" coords="304,968,499,995"/><area shape="rect" id="node23" href="bsp__int_8h.html#a347689e95305a7a28740b644da43a861" title="BSP_IntHandlerPWM_GEN0" alt="" coords="307,1019,496,1045"/><area shape="rect" id="node24" href="bsp__int_8h.html#a4a3b136df3d372b1708a06f1167b6656" title="BSP_IntHandlerPWM_GEN1" alt="" coords="307,1069,496,1096"/><area shape="rect" id="node25" href="bsp__int_8h.html#a99171dfb12d98cfa4383f06172037e0f" title="BSP_IntHandlerPWM_GEN2" alt="" coords="307,1120,496,1147"/><area shape="rect" id="node26" href="bsp__int_8h.html#a24df141eadd8d4bb0b87ef26eb985410" title="BSP_IntHandlerQEI0" alt="" coords="330,1171,473,1197"/><area shape="rect" id="node27" href="bsp__int_8h.html#a5c8606e6588439ce712bde2b24fc1abd" title="BSP_IntHandlerQEI1" alt="" coords="330,1221,473,1248"/><area shape="rect" id="node28" href="bsp__int_8h.html#a08e40612be7710cc609fd7dee77f8523" title="BSP_IntHandlerSSI0" alt="" coords="330,1272,473,1299"/><area shape="rect" id="node29" href="bsp__int_8h.html#a6969102be6a3ad5c4087222a3e9ed6b0" title="BSP_IntHandlerSSI1" alt="" coords="330,1323,473,1349"/><area shape="rect" id="node30" href="bsp__int_8h.html#a9439914094dbd317f41dec6d593392e5" title="BSP_IntHandlerSYSCTL" alt="" coords="319,1373,483,1400"/><area shape="rect" id="node31" href="bsp__int_8h.html#a8b61cf90a3136369d1f11196d8e713ed" title="BSP_IntHandlerTIMER0A" alt="" coords="317,1424,486,1451"/><area shape="rect" id="node32" href="bsp__int_8h.html#a61b2450a6f922d0203a9c42dc17aba68" title="BSP_IntHandlerTIMER0B" alt="" coords="317,1475,486,1501"/><area shape="rect" id="node33" href="bsp__int_8h.html#a1bf80083e0adff10530e357c2e882aca" title="BSP_IntHandlerTIMER1A" alt="" coords="317,1525,486,1552"/><area shape="rect" id="node34" href="bsp__int_8h.html#a5a6946270499c00fd826048d159d8bd6" title="BSP_IntHandlerTIMER1B" alt="" coords="317,1576,486,1603"/><area shape="rect" id="node35" href="bsp__int_8h.html#ab9e4b83839bc4e5b2c47bb097fb7e543" title="BSP_IntHandlerTIMER2A" alt="" coords="317,1627,486,1653"/><area shape="rect" id="node36" href="bsp__int_8h.html#a4a2fc2151db90630577d1e2218d36ed3" title="BSP_IntHandlerTIMER2B" alt="" coords="317,1677,486,1704"/><area shape="rect" id="node37" href="bsp__int_8h.html#a8d7546c5c3314aeacf9efea73fed8299" title="BSP_IntHandlerTIMER3A" alt="" coords="317,1728,486,1755"/><area shape="rect" id="node38" href="bsp__int_8h.html#af1cc23b2db6b6153833ba02f589e8232" title="BSP_IntHandlerTIMER3B" alt="" coords="317,1779,486,1805"/><area shape="rect" id="node39" href="bsp__int_8h.html#ac9bbbf852f53f5c77f449485a4d288a4" title="BSP_IntHandlerUART0" alt="" coords="324,1829,479,1856"/><area shape="rect" id="node40" href="bsp__int_8h.html#a03d6d0dccc5594f984867d91cb647fbd" title="BSP_IntHandlerUART1" alt="" coords="324,1880,479,1907"/><area shape="rect" id="node41" href="bsp__int_8h.html#a9c199968842d7cffef7c66278fab0fc4" title="BSP_IntHandlerUART2" alt="" coords="324,1931,479,1957"/><area shape="rect" id="node42" href="bsp__int_8h.html#a985d8fb2169238272fb131fd2a57c79e" title="BSP_IntHandlerWATCHDOG" alt="" coords="306,1981,497,2008"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf1fd264b45d9f9fa70c14c4693c353e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSIntExit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00656">656</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="os__core_8c_source.html#l01651">OS_SchedNew()</a>, <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00714">OSCtxSwCtr</a>, <a class="el" href="os__cpu_8h.html#ae89129ee2d0df565adefafe44c0f743f">OSIntCtxSw()</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00736">OSLockNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00738">OSPrioCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00739">OSPrioHighRdy</a>, <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>, <a class="el" href="ucos__ii_8h_source.html#l00652">OS_TCB::OSTCBCtxSwCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00760">OSTCBHighRdy</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>.</p>

<p>参考自 <a class="el" href="bsp__int_8c_source.html#l00371">BSP_IntHandler()</a> , 以及 <a class="el" href="os__cpu__c_8c_source.html#l00350">OS_CPU_SysTickHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                               </span><span class="comment">/* Allocate storage for CPU status register */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a> == <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> &gt; 0u) {                           <span class="comment">/* Prevent OSIntNesting from wrapping       */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a>--;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> == 0u) {                          <span class="comment">/* Reschedule only if all ISRs complete ... */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> == 0u) {                     <span class="comment">/* ... and not locked.                      */</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <a class="code" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8">OS_SchedNew</a>();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a> = <a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[<a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a>];</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a> != <a class="code" href="ucos__ii_8h.html#a3d01354b14fe8a2d45e7641d6d3a1661">OSPrioCur</a>) {          <span class="comment">/* No Ctx Sw if current task is highest rdy */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="preprocessor">#if OS_TASK_PROFILE_EN &gt; 0u</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor"></span>                    <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a>-&gt;<a class="code" href="ucos__ii_8h.html#a53b2f729d79ca051d77582415f482945">OSTCBCtxSwCtr</a>++;         <span class="comment">/* Inc. # of context switches to this task  */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="preprocessor"></span>                    <a class="code" href="ucos__ii_8h.html#ae5227cb8745794a07b0acfec52e051bc">OSCtxSwCtr</a>++;                          <span class="comment">/* Keep track of the number of ctx switches */</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    <a class="code" href="os__cpu_8h.html#ae89129ee2d0df565adefafe44c0f743f">OSIntCtxSw</a>();                          <span class="comment">/* Perform interrupt level ctx switch       */</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_cgraph.png" border="0" usemap="#os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_cgraph" alt=""/></div>
<map name="os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_cgraph" id="os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="134,5,245,32"/><area shape="rect" id="node3" href="os__cpu_8h.html#ae89129ee2d0df565adefafe44c0f743f" title="OSIntCtxSw" alt="" coords="143,56,236,83"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_icgraph.png" border="0" usemap="#os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_icgraph" alt=""/></div>
<map name="os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_icgraph" id="os__core_8c_abf1fd264b45d9f9fa70c14c4693c353e_icgraph">
<area shape="rect" id="node2" href="bsp__int_8c.html#a8cb092c15c008f1d8ba4321a43fe8d64" title="BSP_IntHandler" alt="" coords="163,993,277,1020"/><area shape="rect" id="node43" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="133,1044,307,1071"/><area shape="rect" id="node3" href="bsp__int_8h.html#a16b3b94c23717cd78ec4e98a3db7ed23" title="BSP_IntHandlerADC0" alt="" coords="378,5,526,32"/><area shape="rect" id="node4" href="bsp__int_8h.html#a32436fa6d821383d8c384bcb0071bb0a" title="BSP_IntHandlerADC1" alt="" coords="378,56,526,83"/><area shape="rect" id="node5" href="bsp__int_8h.html#a0abbbb33ac0f7b12c0da98e2f8c3bbe4" title="BSP_IntHandlerADC2" alt="" coords="378,107,526,133"/><area shape="rect" id="node6" href="bsp__int_8h.html#a0580ffb74c2eee5c824373474b89df2e" title="BSP_IntHandlerADC3" alt="" coords="378,157,526,184"/><area shape="rect" id="node7" href="bsp__int_8h.html#a4946157b3ad715ab5cbc250f9bd7838b" title="BSP_IntHandlerCOMP0" alt="" coords="372,208,532,235"/><area shape="rect" id="node8" href="bsp__int_8h.html#a45cde074095874e8627ca50540677c27" title="BSP_IntHandlerCOMP1" alt="" coords="372,259,532,285"/><area shape="rect" id="node9" href="bsp__int_8h.html#ac3a55edffa30ab4c0ab7952d99510b49" title="BSP_IntHandlerCOMP2" alt="" coords="372,309,532,336"/><area shape="rect" id="node10" href="bsp__int_8h.html#ac198daa2b0957f983adb207ad33ff3a3" title="BSP_IntHandlerFLASH" alt="" coords="374,360,530,387"/><area shape="rect" id="node11" href="bsp__int_8h.html#ac5e8a40a7c3f632343a44cd4e9ef2ee9" title="BSP_IntHandlerGPIOA" alt="" coords="375,411,529,437"/><area shape="rect" id="node12" href="bsp__int_8h.html#acdf4668d56bca81773d264c9336a2cc3" title="BSP_IntHandlerGPIOB" alt="" coords="375,461,529,488"/><area shape="rect" id="node13" href="bsp__int_8h.html#ac9d45ceaf0f606d66d6656d1d0dc3fa2" title="BSP_IntHandlerGPIOC" alt="" coords="375,512,529,539"/><area shape="rect" id="node14" href="bsp__int_8h.html#a728cfca4373a16a11596738daec9e9f7" title="BSP_IntHandlerGPIOD" alt="" coords="375,563,529,589"/><area shape="rect" id="node15" href="bsp__int_8h.html#afe0bd5356d1244c02f6ba98e44349152" title="BSP_IntHandlerGPIOE" alt="" coords="375,613,529,640"/><area shape="rect" id="node16" href="bsp__int_8h.html#a4e735ead54e14c863d3d60fde0b565f4" title="BSP_IntHandlerGPIOF" alt="" coords="375,664,529,691"/><area shape="rect" id="node17" href="bsp__int_8h.html#a3113ce5a04cdced1eaeb6b17222aa169" title="BSP_IntHandlerGPIOG" alt="" coords="374,715,530,741"/><area shape="rect" id="node18" href="bsp__int_8h.html#a3b49c2bbaabbcd57dbe1e3d407d7e0e5" title="BSP_IntHandlerGPIOH" alt="" coords="375,765,529,792"/><area shape="rect" id="node19" href="bsp__int_8h.html#ac22789bcb78f685d3df609638828b0c0" title="BSP_IntHandlerHIBERNATE" alt="" coords="359,816,545,843"/><area shape="rect" id="node20" href="bsp__int_8h.html#a8788f2ce4e612a669c09098c6eff68fc" title="BSP_IntHandlerI2C0" alt="" coords="382,867,522,893"/><area shape="rect" id="node21" href="bsp__int_8h.html#aa9e67049e3c0b2ae25e4e6083c157160" title="BSP_IntHandlerI2C1" alt="" coords="382,917,522,944"/><area shape="rect" id="node22" href="bsp__int_8h.html#a294c5ea43749706175825369de29a8c5" title="BSP_IntHandlerPWM_FAULT" alt="" coords="355,968,549,995"/><area shape="rect" id="node23" href="bsp__int_8h.html#a347689e95305a7a28740b644da43a861" title="BSP_IntHandlerPWM_GEN0" alt="" coords="357,1019,547,1045"/><area shape="rect" id="node24" href="bsp__int_8h.html#a4a3b136df3d372b1708a06f1167b6656" title="BSP_IntHandlerPWM_GEN1" alt="" coords="357,1069,547,1096"/><area shape="rect" id="node25" href="bsp__int_8h.html#a99171dfb12d98cfa4383f06172037e0f" title="BSP_IntHandlerPWM_GEN2" alt="" coords="357,1120,547,1147"/><area shape="rect" id="node26" href="bsp__int_8h.html#a24df141eadd8d4bb0b87ef26eb985410" title="BSP_IntHandlerQEI0" alt="" coords="381,1171,523,1197"/><area shape="rect" id="node27" href="bsp__int_8h.html#a5c8606e6588439ce712bde2b24fc1abd" title="BSP_IntHandlerQEI1" alt="" coords="381,1221,523,1248"/><area shape="rect" id="node28" href="bsp__int_8h.html#a08e40612be7710cc609fd7dee77f8523" title="BSP_IntHandlerSSI0" alt="" coords="381,1272,523,1299"/><area shape="rect" id="node29" href="bsp__int_8h.html#a6969102be6a3ad5c4087222a3e9ed6b0" title="BSP_IntHandlerSSI1" alt="" coords="381,1323,523,1349"/><area shape="rect" id="node30" href="bsp__int_8h.html#a9439914094dbd317f41dec6d593392e5" title="BSP_IntHandlerSYSCTL" alt="" coords="370,1373,534,1400"/><area shape="rect" id="node31" href="bsp__int_8h.html#a8b61cf90a3136369d1f11196d8e713ed" title="BSP_IntHandlerTIMER0A" alt="" coords="367,1424,537,1451"/><area shape="rect" id="node32" href="bsp__int_8h.html#a61b2450a6f922d0203a9c42dc17aba68" title="BSP_IntHandlerTIMER0B" alt="" coords="367,1475,537,1501"/><area shape="rect" id="node33" href="bsp__int_8h.html#a1bf80083e0adff10530e357c2e882aca" title="BSP_IntHandlerTIMER1A" alt="" coords="367,1525,537,1552"/><area shape="rect" id="node34" href="bsp__int_8h.html#a5a6946270499c00fd826048d159d8bd6" title="BSP_IntHandlerTIMER1B" alt="" coords="367,1576,537,1603"/><area shape="rect" id="node35" href="bsp__int_8h.html#ab9e4b83839bc4e5b2c47bb097fb7e543" title="BSP_IntHandlerTIMER2A" alt="" coords="367,1627,537,1653"/><area shape="rect" id="node36" href="bsp__int_8h.html#a4a2fc2151db90630577d1e2218d36ed3" title="BSP_IntHandlerTIMER2B" alt="" coords="367,1677,537,1704"/><area shape="rect" id="node37" href="bsp__int_8h.html#a8d7546c5c3314aeacf9efea73fed8299" title="BSP_IntHandlerTIMER3A" alt="" coords="367,1728,537,1755"/><area shape="rect" id="node38" href="bsp__int_8h.html#af1cc23b2db6b6153833ba02f589e8232" title="BSP_IntHandlerTIMER3B" alt="" coords="367,1779,537,1805"/><area shape="rect" id="node39" href="bsp__int_8h.html#ac9bbbf852f53f5c77f449485a4d288a4" title="BSP_IntHandlerUART0" alt="" coords="375,1829,529,1856"/><area shape="rect" id="node40" href="bsp__int_8h.html#a03d6d0dccc5594f984867d91cb647fbd" title="BSP_IntHandlerUART1" alt="" coords="375,1880,529,1907"/><area shape="rect" id="node41" href="bsp__int_8h.html#a9c199968842d7cffef7c66278fab0fc4" title="BSP_IntHandlerUART2" alt="" coords="375,1931,529,1957"/><area shape="rect" id="node42" href="bsp__int_8h.html#a985d8fb2169238272fb131fd2a57c79e" title="BSP_IntHandlerWATCHDOG" alt="" coords="357,1981,547,2008"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae57079213997465346e3836c7fe037c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSSchedLock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00703">703</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00736">OSLockNesting</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>.</p>

<p>参考自 <a class="el" href="os__tmr_8c_source.html#l01006">OSTmr_Task()</a>, <a class="el" href="os__tmr_8c_source.html#l00108">OSTmrCreate()</a>, <a class="el" href="os__tmr_8c_source.html#l00192">OSTmrDel()</a>, <a class="el" href="os__tmr_8c_source.html#l00266">OSTmrNameGet()</a>, <a class="el" href="os__tmr_8c_source.html#l00342">OSTmrRemainGet()</a>, <a class="el" href="os__tmr_8c_source.html#l00504">OSTmrStart()</a>, <a class="el" href="os__tmr_8c_source.html#l00439">OSTmrStateGet()</a> , 以及 <a class="el" href="os__tmr_8c_source.html#l00591">OSTmrStop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                     </span><span class="comment">/* Allocate storage for CPU status register           */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a> == <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>) {                  <span class="comment">/* Make sure multitasking is running                  */</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> == 0u) {                <span class="comment">/* Can&#39;t call from an ISR                             */</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> &lt; 255u) {          <span class="comment">/* Prevent OSLockNesting from wrapping back to 0      */</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a>++;                 <span class="comment">/* Increment lock nesting level                       */</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_ae57079213997465346e3836c7fe037c2_icgraph.png" border="0" usemap="#os__core_8c_ae57079213997465346e3836c7fe037c2_icgraph" alt=""/></div>
<map name="os__core_8c_ae57079213997465346e3836c7fe037c2_icgraph" id="os__core_8c_ae57079213997465346e3836c7fe037c2_icgraph">
<area shape="rect" id="node2" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="175,5,273,32"/><area shape="rect" id="node7" href="ucos__ii_8h.html#a0181651b83ee63d7b4496421ca27852d" title="OSTmrCreate" alt="" coords="173,56,275,83"/><area shape="rect" id="node8" href="ucos__ii_8h.html#aad27ab68d6a77945bd6ae958c6c99196" title="OSTmrDel" alt="" coords="183,107,265,133"/><area shape="rect" id="node9" href="ucos__ii_8h.html#a9faa1cf432d6d16c221ce115d35412f2" title="OSTmrNameGet" alt="" coords="165,157,283,184"/><area shape="rect" id="node10" href="ucos__ii_8h.html#a74aeb9559dfbe4568de6ce2861a2369c" title="OSTmrRemainGet" alt="" coords="160,208,288,235"/><area shape="rect" id="node11" href="ucos__ii_8h.html#a9a09d1983f006423b47e5f35371eed69" title="OSTmrStart" alt="" coords="179,259,269,285"/><area shape="rect" id="node12" href="ucos__ii_8h.html#ab19f8fa86f6f244035247aae191de39e" title="OSTmrStateGet" alt="" coords="167,309,281,336"/><area shape="rect" id="node13" href="ucos__ii_8h.html#a54b9a48ec5b352cb29b4460af5f6c090" title="OSTmrStop" alt="" coords="179,360,269,387"/><area shape="rect" id="node3" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="336,5,451,32"/><area shape="rect" id="node4" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="499,5,586,32"/><area shape="rect" id="node5" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="635,5,693,32"/><area shape="rect" id="node6" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="741,5,792,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="accb8ef08bd5b8ee1376b200e9f4ee9f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSSchedUnlock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00740">740</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="os__core_8c_source.html#l01609">OS_Sched()</a>, <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00736">OSLockNesting</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>.</p>

<p>参考自 <a class="el" href="os__tmr_8c_source.html#l01006">OSTmr_Task()</a>, <a class="el" href="os__tmr_8c_source.html#l00108">OSTmrCreate()</a>, <a class="el" href="os__tmr_8c_source.html#l00192">OSTmrDel()</a>, <a class="el" href="os__tmr_8c_source.html#l00266">OSTmrNameGet()</a>, <a class="el" href="os__tmr_8c_source.html#l00342">OSTmrRemainGet()</a>, <a class="el" href="os__tmr_8c_source.html#l00504">OSTmrStart()</a>, <a class="el" href="os__tmr_8c_source.html#l00439">OSTmrStateGet()</a> , 以及 <a class="el" href="os__tmr_8c_source.html#l00591">OSTmrStop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                               </span><span class="comment">/* Allocate storage for CPU status register */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a> == <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>) {                            <span class="comment">/* Make sure multitasking is running        */</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> &gt; 0u) {                          <span class="comment">/* Do not decrement if already 0            */</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a>--;                               <span class="comment">/* Decrement lock nesting level             */</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> == 0u) {                     <span class="comment">/* See if scheduler is enabled and ...      */</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> == 0u) {                  <span class="comment">/* ... not in an ISR                        */</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    <a class="code" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292">OS_Sched</a>();                            <span class="comment">/* See if a HPT is ready                    */</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_cgraph.png" border="0" usemap="#os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_cgraph" alt=""/></div>
<map name="os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_cgraph" id="os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="173,5,259,32"/><area shape="rect" id="node3" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="307,5,418,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_icgraph.png" border="0" usemap="#os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_icgraph" alt=""/></div>
<map name="os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_icgraph" id="os__core_8c_accb8ef08bd5b8ee1376b200e9f4ee9f7_icgraph">
<area shape="rect" id="node2" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="188,5,287,32"/><area shape="rect" id="node7" href="ucos__ii_8h.html#a0181651b83ee63d7b4496421ca27852d" title="OSTmrCreate" alt="" coords="187,56,288,83"/><area shape="rect" id="node8" href="ucos__ii_8h.html#aad27ab68d6a77945bd6ae958c6c99196" title="OSTmrDel" alt="" coords="196,107,279,133"/><area shape="rect" id="node9" href="ucos__ii_8h.html#a9faa1cf432d6d16c221ce115d35412f2" title="OSTmrNameGet" alt="" coords="178,157,297,184"/><area shape="rect" id="node10" href="ucos__ii_8h.html#a74aeb9559dfbe4568de6ce2861a2369c" title="OSTmrRemainGet" alt="" coords="173,208,301,235"/><area shape="rect" id="node11" href="ucos__ii_8h.html#a9a09d1983f006423b47e5f35371eed69" title="OSTmrStart" alt="" coords="192,259,283,285"/><area shape="rect" id="node12" href="ucos__ii_8h.html#ab19f8fa86f6f244035247aae191de39e" title="OSTmrStateGet" alt="" coords="180,309,295,336"/><area shape="rect" id="node13" href="ucos__ii_8h.html#a54b9a48ec5b352cb29b4460af5f6c090" title="OSTmrStop" alt="" coords="192,360,283,387"/><area shape="rect" id="node3" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="349,5,464,32"/><area shape="rect" id="node4" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="513,5,599,32"/><area shape="rect" id="node5" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="648,5,707,32"/><area shape="rect" id="node6" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="755,5,805,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af83ea21f3e3deb1d3848e02043e6d638"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00790">790</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00063">OS_FALSE</a>, <a class="el" href="os__core_8c_source.html#l01651">OS_SchedNew()</a>, <a class="el" href="ucos__ii_8h_source.html#l00738">OSPrioCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00739">OSPrioHighRdy</a>, <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>, <a class="el" href="os__cpu_8h.html#a316a500d9ecd91fe31eb0f048f7a6b80">OSStartHighRdy()</a>, <a class="el" href="ucos__ii_8h_source.html#l00758">OSTCBCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00760">OSTCBHighRdy</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>.</p>

<p>参考自 <a class="el" href="app_8c_source.html#l00153">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a> == <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8">OS_SchedNew</a>();                               <span class="comment">/* Find highest priority&#39;s task priority number   */</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <a class="code" href="ucos__ii_8h.html#a3d01354b14fe8a2d45e7641d6d3a1661">OSPrioCur</a>     = <a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a>  = <a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[<a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a>]; <span class="comment">/* Point to highest priority task ready to run    */</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>      = <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="os__cpu_8h.html#a316a500d9ecd91fe31eb0f048f7a6b80">OSStartHighRdy</a>();                            <span class="comment">/* Execute target specific code to start task     */</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_cgraph.png" border="0" usemap="#os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_cgraph" alt=""/></div>
<map name="os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_cgraph" id="os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="127,5,238,32"/><area shape="rect" id="node3" href="os__cpu_8h.html#a316a500d9ecd91fe31eb0f048f7a6b80" title="OSStartHighRdy" alt="" coords="123,56,242,83"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_icgraph.png" border="0" usemap="#os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_icgraph" alt=""/></div>
<map name="os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_icgraph" id="os__core_8c_af83ea21f3e3deb1d3848e02043e6d638_icgraph">
<area shape="rect" id="node2" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="123,5,173,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ba8aba02bcf614eef38c0133f968c49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSStatInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00822">822</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00051">OS_TICKS_PER_SEC</a>, <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00753">OSIdleCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00728">OSIdleCtrMax</a>, <a class="el" href="ucos__ii_8h_source.html#l00730">OSStatRdy</a> , 以及 <a class="el" href="os__time_8c_source.html#l00044">OSTimeDly()</a>.</p>

<p>参考自 <a class="el" href="app_8c_source.html#l00209">App_TaskStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;{</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                     </span><span class="comment">/* Allocate storage for CPU status register           */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba">OSTimeDly</a>(2);                                <span class="comment">/* Synchronize with clock tick                        */</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="ucos__ii_8h.html#aea768d9ba3c7b41f9495c0e9bc33033e">OSIdleCtr</a>    = 0uL;                          <span class="comment">/* Clear idle counter                                 */</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba">OSTimeDly</a>(<a class="code" href="_a_p_p_2os__cfg_8h.html#a673d8c27b9b599a483cb83d8a52e8e05">OS_TICKS_PER_SEC</a> / 10u);           <span class="comment">/* Determine MAX. idle counter value for 1/10 second  */</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="ucos__ii_8h.html#a846a2a0ffe3c7e4271b14104ab283d7c">OSIdleCtrMax</a> = <a class="code" href="ucos__ii_8h.html#aea768d9ba3c7b41f9495c0e9bc33033e">OSIdleCtr</a>;                    <span class="comment">/* Store maximum idle counter count in 1/10 second    */</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="ucos__ii_8h.html#abe8dd86730be5673b531e5470c59b992">OSStatRdy</a>    = <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_cgraph.png" border="0" usemap="#os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_cgraph" alt=""/></div>
<map name="os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_cgraph" id="os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_cgraph">
<area shape="rect" id="node2" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="136,5,224,32"/><area shape="rect" id="node3" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="272,5,357,32"/><area shape="rect" id="node4" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="406,5,517,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_icgraph.png" border="0" usemap="#os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_icgraph" alt=""/></div>
<map name="os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_icgraph" id="os__core_8c_a5ba8aba02bcf614eef38c0133f968c49_icgraph">
<area shape="rect" id="node2" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="137,5,245,32"/><area shape="rect" id="node3" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="293,5,344,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf35bebb7ed88c38c212ee675f3713db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSTimeTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00856">856</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00063">OS_FALSE</a>, <a class="el" href="ucos__ii_8h_source.html#l00114">OS_STAT_PEND_ANY</a>, <a class="el" href="ucos__ii_8h_source.html#l00121">OS_STAT_PEND_OK</a>, <a class="el" href="ucos__ii_8h_source.html#l00122">OS_STAT_PEND_TO</a>, <a class="el" href="ucos__ii_8h_source.html#l00105">OS_STAT_RDY</a>, <a class="el" href="ucos__ii_8h_source.html#l00109">OS_STAT_SUSPEND</a>, <a class="el" href="ucos__ii_8h_source.html#l00081">OS_TASK_IDLE_PRIO</a>, <a class="el" href="ucos__ii_8h_source.html#l00067">OS_TRUE</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00749">OSRunning</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a>, <a class="el" href="ucos__ii_8h_source.html#l00632">OS_TCB::OSTCBDly</a>, <a class="el" href="ucos__ii_8h_source.html#l00761">OSTCBList</a>, <a class="el" href="ucos__ii_8h_source.html#l00610">OS_TCB::OSTCBNext</a>, <a class="el" href="ucos__ii_8h_source.html#l00635">OS_TCB::OSTCBPrio</a>, <a class="el" href="ucos__ii_8h_source.html#l00633">OS_TCB::OSTCBStat</a>, <a class="el" href="ucos__ii_8h_source.html#l00634">OS_TCB::OSTCBStatPend</a>, <a class="el" href="ucos__ii_8h_source.html#l00638">OS_TCB::OSTCBY</a>, <a class="el" href="ucos__ii_8h_source.html#l00780">OSTime</a> , 以及 <a class="el" href="os__cpu__c_8c_source.html#l00321">OSTimeTickHook()</a>.</p>

<p>参考自 <a class="el" href="os__cpu__c_8c_source.html#l00350">OS_CPU_SysTickHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;{</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a>    *ptcb;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="preprocessor">#if OS_TICK_STEP_EN &gt; 0u</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>    step;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                               </span><span class="comment">/* Allocate storage for CPU status register     */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="preprocessor">#if OS_TIME_TICK_HOOK_EN &gt; 0u</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu__c_8c.html#a9580a668e52ffe7fcb5429e80d6eac8f">OSTimeTickHook</a>();                                      <span class="comment">/* Call user definable hook                     */</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if OS_TIME_GET_SET_EN &gt; 0u</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();                                   <span class="comment">/* Update the 32-bit tick counter               */</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="ucos__ii_8h.html#a8edf459d0cc62ee7c523ce3bb88dd0ce">OSTime</a>++;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a8933f3257ee6a506b5109864f0e16665">OSRunning</a> == <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="preprocessor">#if OS_TICK_STEP_EN &gt; 0u</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">switch</span> (OSTickStepState) {                         <span class="comment">/* Determine whether we need to process a tick  */</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <span class="keywordflow">case</span> OS_TICK_STEP_DIS:                         <span class="comment">/* Yes, stepping is disabled                    */</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                 step = <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <span class="keywordflow">case</span> OS_TICK_STEP_WAIT:                        <span class="comment">/* No,  waiting for uC/OS-View to set ...       */</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                 step = <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>;                          <span class="comment">/*      .. OSTickStepState to OS_TICK_STEP_ONCE */</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <span class="keywordflow">case</span> OS_TICK_STEP_ONCE:                        <span class="comment">/* Yes, process tick once and wait for next ... */</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                 step            = <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;                <span class="comment">/*      ... step command from uC/OS-View        */</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                 OSTickStepState = OS_TICK_STEP_WAIT;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">default</span>:                                       <span class="comment">/* Invalid case, correct situation              */</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                 step            = <a class="code" href="ucos__ii_8h.html#a998ec127dfac549592d84afb2a9ac323">OS_TRUE</a>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                 OSTickStepState = OS_TICK_STEP_DIS;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                 <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (step == <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>) {                            <span class="comment">/* Return if waiting for step command           */</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="preprocessor"></span>        ptcb = <a class="code" href="ucos__ii_8h.html#a11bf1577c97ecba464c62e22fbec415b">OSTCBList</a>;                                  <span class="comment">/* Point at first TCB in TCB list               */</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">while</span> (ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2f59dddf7726049f910bfa7c61bf229a">OSTCBPrio</a> != <a class="code" href="ucos__ii_8h.html#ae9c4083f27bd9e4cab14f19e6d56b972">OS_TASK_IDLE_PRIO</a>) {     <span class="comment">/* Go through all TCBs in TCB list              */</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="keywordflow">if</span> (ptcb-&gt;<a class="code" href="ucos__ii_8h.html#acce26ca7c92ec90b231e955e50a3ba87">OSTCBDly</a> != 0u) {                    <span class="comment">/* No, Delayed or waiting for event with TO     */</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                ptcb-&gt;<a class="code" href="ucos__ii_8h.html#acce26ca7c92ec90b231e955e50a3ba87">OSTCBDly</a>--;                          <span class="comment">/* Decrement nbr of ticks to end of delay       */</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <span class="keywordflow">if</span> (ptcb-&gt;<a class="code" href="ucos__ii_8h.html#acce26ca7c92ec90b231e955e50a3ba87">OSTCBDly</a> == 0u) {                <span class="comment">/* Check for timeout                            */</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                    <span class="keywordflow">if</span> ((ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a> &amp; <a class="code" href="ucos__ii_8h.html#a9b09326e2b7ae88683465a4586849fbc">OS_STAT_PEND_ANY</a>) != <a class="code" href="ucos__ii_8h.html#a1450c52d6c151e1e6766fa3948af90dd">OS_STAT_RDY</a>) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a>  &amp;= ~(<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)<a class="code" href="ucos__ii_8h.html#a9b09326e2b7ae88683465a4586849fbc">OS_STAT_PEND_ANY</a>;          <span class="comment">/* Yes, Clear status flag   */</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a> = <a class="code" href="ucos__ii_8h.html#a3a39c8ccb95b3f7709089b9afddc8597">OS_STAT_PEND_TO</a>;                 <span class="comment">/* Indicate PEND timeout    */</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a> = <a class="code" href="ucos__ii_8h.html#a1d25ef49f6325eea1e7bde408c96cbf9">OS_STAT_PEND_OK</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    <span class="keywordflow">if</span> ((ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a> &amp; <a class="code" href="ucos__ii_8h.html#a4bcad9921e6f80fd92c6d5e2a114e372">OS_STAT_SUSPEND</a>) == <a class="code" href="ucos__ii_8h.html#a1450c52d6c151e1e6766fa3948af90dd">OS_STAT_RDY</a>) {  <span class="comment">/* Is task suspended?       */</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                        <a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a>               |= ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;             <span class="comment">/* No,  Make ready          */</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                        <a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>] |= ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            ptcb = ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae57dda41d71bf31549db963f082c1c51">OSTCBNext</a>;                        <span class="comment">/* Point at next TCB in TCB list                */</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_abf35bebb7ed88c38c212ee675f3713db_cgraph.png" border="0" usemap="#os__core_8c_abf35bebb7ed88c38c212ee675f3713db_cgraph" alt=""/></div>
<map name="os__core_8c_abf35bebb7ed88c38c212ee675f3713db_cgraph" id="os__core_8c_abf35bebb7ed88c38c212ee675f3713db_cgraph">
<area shape="rect" id="node2" href="os__cpu__c_8c.html#a9580a668e52ffe7fcb5429e80d6eac8f" title="OSTimeTickHook" alt="" coords="147,43,269,69"/><area shape="rect" id="node3" href="os__app__hooks_8c.html#a34b4f20c9b531a194cd16923de46a58e" title="App_TimeTickHook" alt="" coords="318,16,453,43"/><area shape="rect" id="node7" href="os__tmr_8c.html#a9e534f7203e5f99a05853ebfe4ffa2f7" title="OSTmrSignal" alt="" coords="336,68,435,95"/><area shape="rect" id="node4" href="cpu__core_8c.html#ad801f4d88bd3e8b5c55f42882db4b4ea" title="CPU_TS_Update" alt="" coords="501,13,621,40"/><area shape="rect" id="node5" href="cpu__core_8c.html#a8bf28c61c2395a1bc52e2e8779f97c2d" title="CPU_TS_UpdateHandler" alt="" coords="670,12,834,39"/><area shape="rect" id="node6" href="cpu__bsp_8c.html#a26d9e67e08e8f85e8602a85eed93f0f8" title="CPU_TS_TmrRd" alt="" coords="916,5,1033,32"/><area shape="rect" id="node8" href="os__sem_8c.html#a972bf8ea56228c25b4170695248727d6" title="OSSemPost" alt="" coords="514,69,609,96"/><area shape="rect" id="node9" href="os__core_8c.html#a66443267dcaea36601c0d05b297a9b85" title="OS_EventTaskRdy" alt="" coords="687,69,817,96"/><area shape="rect" id="node12" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="709,132,795,159"/><area shape="rect" id="node10" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0" title="OS_EventTaskRemove" alt="" coords="897,56,1052,83"/><area shape="rect" id="node11" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259" title="OS_EventTaskRemoveMulti" alt="" coords="883,107,1066,133"/><area shape="rect" id="node13" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="919,157,1030,184"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_abf35bebb7ed88c38c212ee675f3713db_icgraph.png" border="0" usemap="#os__core_8c_abf35bebb7ed88c38c212ee675f3713db_icgraph" alt=""/></div>
<map name="os__core_8c_abf35bebb7ed88c38c212ee675f3713db_icgraph" id="os__core_8c_abf35bebb7ed88c38c212ee675f3713db_icgraph">
<area shape="rect" id="node2" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="147,5,320,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4d0fb7cc3d1f09d855cc248fabeac56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> OSVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00942">942</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00036">OS_VERSION</a>.</p>

<p>参考自 <a class="el" href="app_8c_source.html#l00539">App_DispScr_VersionTickRateCPU()</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;{</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="ucos__ii_8h.html#a8ee42974be7bd483db95ede8d81be518">OS_VERSION</a>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_af4d0fb7cc3d1f09d855cc248fabeac56_icgraph.png" border="0" usemap="#os__core_8c_af4d0fb7cc3d1f09d855cc248fabeac56_icgraph" alt=""/></div>
<map name="os__core_8c_af4d0fb7cc3d1f09d855cc248fabeac56_icgraph" id="os__core_8c_af4d0fb7cc3d1f09d855cc248fabeac56_icgraph">
<area shape="rect" id="node2" href="app_8c.html#a0da05763e1462db15828337b9f178e60" title="App_DispScr_VersionTickRateCPU" alt="" coords="139,5,365,32"/><area shape="rect" id="node3" href="app_8c.html#a4217307366bcf4be2514445ba929360b" title="App_TaskUserIF" alt="" coords="414,5,533,32"/><area shape="rect" id="node4" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="582,5,701,32"/><area shape="rect" id="node5" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="750,5,858,32"/><area shape="rect" id="node6" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="907,5,957,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad0dd3f8afd8d36a8cead860a53fffc92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_Dummy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00961">961</a> 行定义.</p>

<p>参考自 <a class="el" href="os__task_8c_source.html#l00424">OSTaskDel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;{</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_ad0dd3f8afd8d36a8cead860a53fffc92_icgraph.png" border="0" usemap="#os__core_8c_ad0dd3f8afd8d36a8cead860a53fffc92_icgraph" alt=""/></div>
<map name="os__core_8c_ad0dd3f8afd8d36a8cead860a53fffc92_icgraph" id="os__core_8c_ad0dd3f8afd8d36a8cead860a53fffc92_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="147,81,235,108"/><area shape="rect" id="node3" href="ucos__ii_8h.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="283,81,397,108"/><area shape="rect" id="node4" href="ucos__ii_8h.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="445,81,552,108"/><area shape="rect" id="node5" href="ucos__ii_8h.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="611,56,717,83"/><area shape="rect" id="node12" href="ucos__ii_8h.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="601,107,727,133"/><area shape="rect" id="node6" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="779,5,893,32"/><area shape="rect" id="node9" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="777,56,895,83"/><area shape="rect" id="node10" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="779,107,893,133"/><area shape="rect" id="node7" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="1105,81,1164,108"/><area shape="rect" id="node8" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1237,157,1288,184"/><area shape="rect" id="node11" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="945,107,1031,133"/><area shape="rect" id="node13" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="777,157,895,184"/><area shape="rect" id="node14" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="1081,157,1189,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a66443267dcaea36601c0d05b297a9b85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> OS_EventTaskRdy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *&#160;</td>
          <td class="paramname"><em>pevent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td>
          <td class="paramname"><em>msk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td>
          <td class="paramname"><em>pend_stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00995">995</a> 行定义.</p>

<p>参考 <a class="el" href="os__core_8c_source.html#l01147">OS_EventTaskRemove()</a>, <a class="el" href="os__core_8c_source.html#l01177">OS_EventTaskRemoveMulti()</a>, <a class="el" href="ucos__ii_8h_source.html#l00105">OS_STAT_RDY</a>, <a class="el" href="ucos__ii_8h_source.html#l00109">OS_STAT_SUSPEND</a>, <a class="el" href="ucos__ii_8h_source.html#l00397">OS_EVENT::OSEventGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00398">OS_EVENT::OSEventTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a>, <a class="el" href="ucos__ii_8h_source.html#l00632">OS_TCB::OSTCBDly</a>, <a class="el" href="ucos__ii_8h_source.html#l00618">OS_TCB::OSTCBEventMultiPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00614">OS_TCB::OSTCBEventPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00622">OS_TCB::OSTCBMsg</a>, <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00633">OS_TCB::OSTCBStat</a>, <a class="el" href="ucos__ii_8h_source.html#l00634">OS_TCB::OSTCBStatPend</a> , 以及 <a class="el" href="os__core_8c_source.html#l00038">OSUnMapTbl</a>.</p>

<p>参考自 <a class="el" href="os__mbox_8c_source.html#l00155">OSMboxDel()</a>, <a class="el" href="os__mbox_8c_source.html#l00382">OSMboxPendAbort()</a>, <a class="el" href="os__mbox_8c_source.html#l00458">OSMboxPost()</a>, <a class="el" href="os__mbox_8c_source.html#l00530">OSMboxPostOpt()</a>, <a class="el" href="os__mutex_8c_source.html#l00259">OSMutexDel()</a>, <a class="el" href="os__mutex_8c_source.html#l00553">OSMutexPost()</a>, <a class="el" href="os__q_8c_source.html#l00213">OSQDel()</a>, <a class="el" href="os__q_8c_source.html#l00503">OSQPendAbort()</a>, <a class="el" href="os__q_8c_source.html#l00576">OSQPost()</a>, <a class="el" href="os__q_8c_source.html#l00639">OSQPostFront()</a>, <a class="el" href="os__q_8c_source.html#l00711">OSQPostOpt()</a>, <a class="el" href="os__sem_8c_source.html#l00163">OSSemDel()</a>, <a class="el" href="os__sem_8c_source.html#l00385">OSSemPendAbort()</a> , 以及 <a class="el" href="os__sem_8c_source.html#l00456">OSSemPost()</a>.</p>
<div class="fragment"><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a>  *ptcb;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>    y;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>    x;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>    prio;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="preprocessor">#if OS_LOWEST_PRIO &gt; 63u</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>  *ptbl;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">#if OS_LOWEST_PRIO &lt;= 63u</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="preprocessor"></span>    y    = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a>];              <span class="comment">/* Find HPT waiting for message                */</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    x    = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[y]];</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    prio = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)((y &lt;&lt; 3u) + x);                      <span class="comment">/* Find priority of task getting the msg       */</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ((pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a> &amp; 0xFFu) != 0u) {           <span class="comment">/* Find HPT waiting for message                */</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        y = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[ pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a> &amp; 0xFF];</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        y = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[(pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a> &gt;&gt; 8u) &amp; 0xFF] + 8u;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    ptbl = &amp;pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[y];</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">if</span> ((*ptbl &amp; 0xFF) != 0u) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        x = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[*ptbl &amp; 0xFF];</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        x = <a class="code" href="os__core_8c.html#a0d700eca9c505adfea39e094d353b5c4">OSUnMapTbl</a>[(*ptbl &gt;&gt; 8u) &amp; 0xFF] + 8u;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    prio = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)((y &lt;&lt; 4u) + x);                      <span class="comment">/* Find priority of task getting the msg       */</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    ptcb                  =  <a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[prio];        <span class="comment">/* Point to this task&#39;s OS_TCB                 */</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#acce26ca7c92ec90b231e955e50a3ba87">OSTCBDly</a>        =  0u;                        <span class="comment">/* Prevent OSTimeTick() from readying task     */</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="preprocessor">#if ((OS_Q_EN &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u)) || (OS_MBOX_EN &gt; 0u)</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="preprocessor"></span>    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#aee02770a7c553cadff50463ce35d0ad6">OSTCBMsg</a>        =  pmsg;                      <span class="comment">/* Send message directly to waiting task       */</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor"></span>    pmsg                  =  pmsg;                      <span class="comment">/* Prevent compiler warning if not used        */</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="preprocessor"></span>    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a>      &amp;= ~msk;                       <span class="comment">/* Clear bit associated with event type        */</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a>   =  pend_stat;                 <span class="comment">/* Set pend status of post or abort            */</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                                        <span class="comment">/* See if task is ready (could be susp&#39;d)      */</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">if</span> ((ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a> &amp;   <a class="code" href="ucos__ii_8h.html#a4bcad9921e6f80fd92c6d5e2a114e372">OS_STAT_SUSPEND</a>) == <a class="code" href="ucos__ii_8h.html#a1450c52d6c151e1e6766fa3948af90dd">OS_STAT_RDY</a>) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a>         |=  ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;           <span class="comment">/* Put task in the ready to run list           */</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y]      |=  ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0">OS_EventTaskRemove</a>(ptcb, pevent);                   <span class="comment">/* Remove this task from event   wait list     */</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="preprocessor">#if (OS_EVENT_MULTI_EN &gt; 0u)</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (ptcb-&gt;<a class="code" href="ucos__ii_8h.html#aa94fe149dd4e4ba49e354230aed4a430">OSTCBEventMultiPtr</a> != (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **)0) {   <span class="comment">/* Remove this task from events&#39; wait lists    */</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <a class="code" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259">OS_EventTaskRemoveMulti</a>(ptcb, ptcb-&gt;<a class="code" href="ucos__ii_8h.html#aa94fe149dd4e4ba49e354230aed4a430">OSTCBEventMultiPtr</a>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a02a04fc053c735cfe2b76bb6d755ad3f">OSTCBEventPtr</a>       = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *)pevent;<span class="comment">/* Return event as first multi-pend event ready*/</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">return</span> (prio);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a66443267dcaea36601c0d05b297a9b85_cgraph.png" border="0" usemap="#os__core_8c_a66443267dcaea36601c0d05b297a9b85_cgraph" alt=""/></div>
<map name="os__core_8c_a66443267dcaea36601c0d05b297a9b85_cgraph" id="os__core_8c_a66443267dcaea36601c0d05b297a9b85_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#adc333171c0a5c0e970d0e52bb56028f0" title="OS_EventTaskRemove" alt="" coords="199,5,353,32"/><area shape="rect" id="node3" href="os__core_8c.html#a47fd3f13f0d6b856f5bf627c3ccb0259" title="OS_EventTaskRemoveMulti" alt="" coords="185,56,367,83"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a66443267dcaea36601c0d05b297a9b85_icgraph.png" border="0" usemap="#os__core_8c_a66443267dcaea36601c0d05b297a9b85_icgraph" alt=""/></div>
<map name="os__core_8c_a66443267dcaea36601c0d05b297a9b85_icgraph" id="os__core_8c_a66443267dcaea36601c0d05b297a9b85_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a118e25b7582413a00db8e81c53b87904" title="OSMboxDel" alt="" coords="206,5,298,32"/><area shape="rect" id="node3" href="ucos__ii_8h.html#a79308686e7b9f74808ef0d4da4f85fb5" title="OSMboxPendAbort" alt="" coords="185,56,319,83"/><area shape="rect" id="node4" href="ucos__ii_8h.html#ae703df746b1a0ed796d2ebcf73eb06a6" title="OSMboxPost" alt="" coords="202,107,302,133"/><area shape="rect" id="node9" href="ucos__ii_8h.html#a652b403cbaad0f73d5a3bf95d75c4570" title="OSMboxPostOpt" alt="" coords="191,157,313,184"/><area shape="rect" id="node10" href="ucos__ii_8h.html#a2d79abc91c621502d9e3a6a812a64d22" title="OSMutexDel" alt="" coords="204,208,300,235"/><area shape="rect" id="node11" href="ucos__ii_8h.html#ad90c80a6ce0a8bb176ba9e48f894fbf7" title="OSMutexPost" alt="" coords="200,259,304,285"/><area shape="rect" id="node12" href="ucos__ii_8h.html#a00d293df7319f498058fc686d9c0638a" title="OSQDel" alt="" coords="217,309,287,336"/><area shape="rect" id="node13" href="ucos__ii_8h.html#a749e3989a6762d806e742611a1467dc7" title="OSQPendAbort" alt="" coords="196,360,308,387"/><area shape="rect" id="node14" href="ucos__ii_8h.html#aae1036ecb0789004e593d3d1c958f3fa" title="OSQPost" alt="" coords="213,411,291,437"/><area shape="rect" id="node15" href="ucos__ii_8h.html#a8366a0cf565004f88a88d4b1894a39c4" title="OSQPostFront" alt="" coords="198,461,306,488"/><area shape="rect" id="node16" href="ucos__ii_8h.html#aefa14e09d312bd2180272b0ff27e702e" title="OSQPostOpt" alt="" coords="203,512,301,539"/><area shape="rect" id="node17" href="ucos__ii_8h.html#aa0e5ab0417bfd23066369b3d2012d837" title="OSSemDel" alt="" coords="209,563,295,589"/><area shape="rect" id="node18" href="ucos__ii_8h.html#ac077a929869eeee03ef3c90b992532f3" title="OSSemPendAbort" alt="" coords="187,613,317,640"/><area shape="rect" id="node19" href="ucos__ii_8h.html#a972bf8ea56228c25b4170695248727d6" title="OSSemPost" alt="" coords="205,664,299,691"/><area shape="rect" id="node5" href="app_8c.html#ad1c293a09028612fc01cb3864064c5fd" title="App_TaskKbd" alt="" coords="369,107,471,133"/><area shape="rect" id="node6" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="522,107,641,133"/><area shape="rect" id="node7" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="691,107,799,133"/><area shape="rect" id="node8" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="909,107,960,133"/><area shape="rect" id="node20" href="ucos__ii_8h.html#a9e534f7203e5f99a05853ebfe4ffa2f7" title="OSTmrSignal" alt="" coords="371,664,469,691"/><area shape="rect" id="node21" href="ucos__ii_8h.html#a9580a668e52ffe7fcb5429e80d6eac8f" title="OSTimeTickHook" alt="" coords="520,664,643,691"/><area shape="rect" id="node22" href="ucos__ii_8h.html#abf35bebb7ed88c38c212ee675f3713db" title="OSTimeTick" alt="" coords="699,664,792,691"/><area shape="rect" id="node23" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="848,664,1021,691"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a72ffa04010427c899c109336e1de0046"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_EventTaskWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *&#160;</td>
          <td class="paramname"><em>pevent</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01070">1070</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00397">OS_EVENT::OSEventGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00398">OS_EVENT::OSEventTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a>, <a class="el" href="ucos__ii_8h_source.html#l00758">OSTCBCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00614">OS_TCB::OSTCBEventPtr</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00638">OS_TCB::OSTCBY</a>.</p>

<p>参考自 <a class="el" href="os__mbox_8c_source.html#l00273">OSMboxPend()</a>, <a class="el" href="os__mutex_8c_source.html#l00399">OSMutexPend()</a>, <a class="el" href="os__q_8c_source.html#l00389">OSQPend()</a> , 以及 <a class="el" href="os__sem_8c_source.html#l00280">OSSemPend()</a>.</p>
<div class="fragment"><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;{</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>  y;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a02a04fc053c735cfe2b76bb6d755ad3f">OSTCBEventPtr</a>               = pevent;                 <span class="comment">/* Store ptr to ECB in TCB         */</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>] |= <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;    <span class="comment">/* Put task in waiting list        */</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a>                   |= <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    y             =  <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>;            <span class="comment">/* Task no longer ready                              */</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y]  &amp;= ~<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y] == 0u) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a> &amp;= ~<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;         <span class="comment">/* Clear event grp bit if this was only task pending */</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a72ffa04010427c899c109336e1de0046_icgraph.png" border="0" usemap="#os__core_8c_a72ffa04010427c899c109336e1de0046_icgraph" alt=""/></div>
<map name="os__core_8c_a72ffa04010427c899c109336e1de0046_icgraph" id="os__core_8c_a72ffa04010427c899c109336e1de0046_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#ada0348e18656c21bbffc78c5ba9f90b5" title="OSMboxPend" alt="" coords="191,5,294,32"/><area shape="rect" id="node7" href="ucos__ii_8h.html#a7392c4e0d3ee50a406a8642c1887c154" title="OSMutexPend" alt="" coords="189,56,296,83"/><area shape="rect" id="node8" href="ucos__ii_8h.html#aea7f2cfe6a3320ec951688e3decc2e68" title="OSQPend" alt="" coords="202,107,283,133"/><area shape="rect" id="node9" href="ucos__ii_8h.html#a108896df2b5c0b9b43f7388acab11b8e" title="OSSemPend" alt="" coords="193,157,292,184"/><area shape="rect" id="node3" href="app_8c.html#a4217307366bcf4be2514445ba929360b" title="App_TaskUserIF" alt="" coords="345,7,463,33"/><area shape="rect" id="node4" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="513,32,631,59"/><area shape="rect" id="node5" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="817,41,925,68"/><area shape="rect" id="node6" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="973,68,1024,95"/><area shape="rect" id="node10" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="355,107,453,133"/><area shape="rect" id="node11" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="515,107,629,133"/><area shape="rect" id="node12" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="681,95,767,121"/><area shape="rect" id="node13" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="841,93,900,120"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6986b3da9041b662337dd8f7fc5b0e09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_EventTaskWaitMulti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **&#160;</td>
          <td class="paramname"><em>pevents_wait</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01104">1104</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00397">OS_EVENT::OSEventGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00398">OS_EVENT::OSEventTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a>, <a class="el" href="ucos__ii_8h_source.html#l00758">OSTCBCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00618">OS_TCB::OSTCBEventMultiPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00614">OS_TCB::OSTCBEventPtr</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00638">OS_TCB::OSTCBY</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00302">OSEventPendMulti()</a>.</p>
<div class="fragment"><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;{</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **pevents;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *pevent;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>      y;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a02a04fc053c735cfe2b76bb6d755ad3f">OSTCBEventPtr</a>      = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *)0;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#aa94fe149dd4e4ba49e354230aed4a430">OSTCBEventMultiPtr</a> = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **)pevents_wait;       <span class="comment">/* Store ptr to ECBs in TCB        */</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    pevents =  pevents_wait;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    pevent  = *pevents;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">while</span> (pevent != (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {                               <span class="comment">/* Put task in waiting lists       */</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>] |= <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a>                   |= <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        pevents++;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        pevent = *pevents;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    y             =  <a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>;            <span class="comment">/* Task no longer ready                              */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y]  &amp;= ~<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[y] == 0u) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a> &amp;= ~<a class="code" href="ucos__ii_8h.html#a44f9b3abcd80e7312aba184bae3f90e4">OSTCBCur</a>-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;         <span class="comment">/* Clear event grp bit if this was only task pending */</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a6986b3da9041b662337dd8f7fc5b0e09_icgraph.png" border="0" usemap="#os__core_8c_a6986b3da9041b662337dd8f7fc5b0e09_icgraph" alt=""/></div>
<map name="os__core_8c_a6986b3da9041b662337dd8f7fc5b0e09_icgraph" id="os__core_8c_a6986b3da9041b662337dd8f7fc5b0e09_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a26c3b9f8f0aa851a4d1342dceb75ef4a" title="OSEventPendMulti" alt="" coords="216,5,347,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc333171c0a5c0e970d0e52bb56028f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_EventTaskRemove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *&#160;</td>
          <td class="paramname"><em>ptcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *&#160;</td>
          <td class="paramname"><em>pevent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01147">1147</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00397">OS_EVENT::OSEventGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00398">OS_EVENT::OSEventTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00638">OS_TCB::OSTCBY</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00995">OS_EventTaskRdy()</a>, <a class="el" href="os__mbox_8c_source.html#l00273">OSMboxPend()</a>, <a class="el" href="os__mutex_8c_source.html#l00399">OSMutexPend()</a>, <a class="el" href="os__q_8c_source.html#l00389">OSQPend()</a>, <a class="el" href="os__sem_8c_source.html#l00280">OSSemPend()</a> , 以及 <a class="el" href="os__task_8c_source.html#l00424">OSTaskDel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>  y;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    y                       =  ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[y]  &amp;= ~ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;         <span class="comment">/* Remove task from wait list                  */</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[y] == 0u) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a> &amp;= ~ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_adc333171c0a5c0e970d0e52bb56028f0_icgraph.png" border="0" usemap="#os__core_8c_adc333171c0a5c0e970d0e52bb56028f0_icgraph" alt=""/></div>
<map name="os__core_8c_adc333171c0a5c0e970d0e52bb56028f0_icgraph" id="os__core_8c_adc333171c0a5c0e970d0e52bb56028f0_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a66443267dcaea36601c0d05b297a9b85" title="OS_EventTaskRdy" alt="" coords="208,436,339,463"/><area shape="rect" id="node25" href="ucos__ii_8h.html#ada0348e18656c21bbffc78c5ba9f90b5" title="OSMboxPend" alt="" coords="573,5,675,32"/><area shape="rect" id="node27" href="ucos__ii_8h.html#a7392c4e0d3ee50a406a8642c1887c154" title="OSMutexPend" alt="" coords="220,487,327,513"/><area shape="rect" id="node28" href="ucos__ii_8h.html#aea7f2cfe6a3320ec951688e3decc2e68" title="OSQPend" alt="" coords="233,537,314,564"/><area shape="rect" id="node29" href="ucos__ii_8h.html#a108896df2b5c0b9b43f7388acab11b8e" title="OSSemPend" alt="" coords="224,284,323,311"/><area shape="rect" id="node34" href="ucos__ii_8h.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="229,157,317,184"/><area shape="rect" id="node3" href="ucos__ii_8h.html#a118e25b7582413a00db8e81c53b87904" title="OSMboxDel" alt="" coords="409,537,501,564"/><area shape="rect" id="node4" href="ucos__ii_8h.html#a79308686e7b9f74808ef0d4da4f85fb5" title="OSMboxPendAbort" alt="" coords="387,588,522,615"/><area shape="rect" id="node5" href="ucos__ii_8h.html#ae703df746b1a0ed796d2ebcf73eb06a6" title="OSMboxPost" alt="" coords="405,132,505,159"/><area shape="rect" id="node10" href="ucos__ii_8h.html#a652b403cbaad0f73d5a3bf95d75c4570" title="OSMboxPostOpt" alt="" coords="394,791,515,817"/><area shape="rect" id="node11" href="ucos__ii_8h.html#a2d79abc91c621502d9e3a6a812a64d22" title="OSMutexDel" alt="" coords="407,841,503,868"/><area shape="rect" id="node12" href="ucos__ii_8h.html#ad90c80a6ce0a8bb176ba9e48f894fbf7" title="OSMutexPost" alt="" coords="403,233,507,260"/><area shape="rect" id="node13" href="ucos__ii_8h.html#a00d293df7319f498058fc686d9c0638a" title="OSQDel" alt="" coords="419,284,490,311"/><area shape="rect" id="node14" href="ucos__ii_8h.html#a749e3989a6762d806e742611a1467dc7" title="OSQPendAbort" alt="" coords="399,335,511,361"/><area shape="rect" id="node15" href="ucos__ii_8h.html#aae1036ecb0789004e593d3d1c958f3fa" title="OSQPost" alt="" coords="415,385,494,412"/><area shape="rect" id="node16" href="ucos__ii_8h.html#a8366a0cf565004f88a88d4b1894a39c4" title="OSQPostFront" alt="" coords="401,436,509,463"/><area shape="rect" id="node17" href="ucos__ii_8h.html#aefa14e09d312bd2180272b0ff27e702e" title="OSQPostOpt" alt="" coords="405,487,504,513"/><area shape="rect" id="node18" href="ucos__ii_8h.html#aa0e5ab0417bfd23066369b3d2012d837" title="OSSemDel" alt="" coords="411,639,498,665"/><area shape="rect" id="node19" href="ucos__ii_8h.html#ac077a929869eeee03ef3c90b992532f3" title="OSSemPendAbort" alt="" coords="390,689,519,716"/><area shape="rect" id="node20" href="ucos__ii_8h.html#a972bf8ea56228c25b4170695248727d6" title="OSSemPost" alt="" coords="407,740,502,767"/><area shape="rect" id="node6" href="app_8c.html#ad1c293a09028612fc01cb3864064c5fd" title="App_TaskKbd" alt="" coords="573,56,675,83"/><area shape="rect" id="node7" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="902,5,1021,32"/><area shape="rect" id="node8" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="1291,5,1399,32"/><area shape="rect" id="node9" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1448,56,1499,83"/><area shape="rect" id="node21" href="ucos__ii_8h.html#a9e534f7203e5f99a05853ebfe4ffa2f7" title="OSTmrSignal" alt="" coords="575,740,673,767"/><area shape="rect" id="node22" href="ucos__ii_8h.html#a9580a668e52ffe7fcb5429e80d6eac8f" title="OSTimeTickHook" alt="" coords="728,740,851,767"/><area shape="rect" id="node23" href="ucos__ii_8h.html#abf35bebb7ed88c38c212ee675f3713db" title="OSTimeTick" alt="" coords="915,740,1008,767"/><area shape="rect" id="node24" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="1069,740,1243,767"/><area shape="rect" id="node26" href="app_8c.html#a4217307366bcf4be2514445ba929360b" title="App_TaskUserIF" alt="" coords="730,5,849,32"/><area shape="rect" id="node30" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="575,196,673,223"/><area shape="rect" id="node31" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="904,208,1019,235"/><area shape="rect" id="node32" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="1113,208,1199,235"/><area shape="rect" id="node33" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="1316,132,1375,159"/><area shape="rect" id="node35" href="ucos__ii_8h.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="397,81,512,108"/><area shape="rect" id="node36" href="ucos__ii_8h.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="571,107,677,133"/><area shape="rect" id="node37" href="ucos__ii_8h.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="736,157,843,184"/><area shape="rect" id="node40" href="ucos__ii_8h.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="726,107,853,133"/><area shape="rect" id="node38" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="905,157,1018,184"/><area shape="rect" id="node39" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="903,107,1020,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47fd3f13f0d6b856f5bf627c3ccb0259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_EventTaskRemoveMulti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *&#160;</td>
          <td class="paramname"><em>ptcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **&#160;</td>
          <td class="paramname"><em>pevents_multi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01177">1177</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00397">OS_EVENT::OSEventGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00398">OS_EVENT::OSEventTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00638">OS_TCB::OSTCBY</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00995">OS_EventTaskRdy()</a>, <a class="el" href="os__core_8c_source.html#l00302">OSEventPendMulti()</a> , 以及 <a class="el" href="os__task_8c_source.html#l00424">OSTaskDel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;{</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **pevents;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *pevent;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>      y;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">#if (OS_LOWEST_PRIO &lt;= 63u)</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>      bity;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>      bitx;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>     bity;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>     bitx;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    y       =  ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    bity    =  ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    bitx    =  ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    pevents =  pevents_multi;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    pevent  = *pevents;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">while</span> (pevent != (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *)0) {                   <span class="comment">/* Remove task from all events&#39; wait lists     */</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[y]  &amp;= ~bitx;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">if</span> (pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[y] == 0u) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a> &amp;= ~bity;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        pevents++;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        pevent = *pevents;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a47fd3f13f0d6b856f5bf627c3ccb0259_icgraph.png" border="0" usemap="#os__core_8c_a47fd3f13f0d6b856f5bf627c3ccb0259_icgraph" alt=""/></div>
<map name="os__core_8c_a47fd3f13f0d6b856f5bf627c3ccb0259_icgraph" id="os__core_8c_a47fd3f13f0d6b856f5bf627c3ccb0259_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a66443267dcaea36601c0d05b297a9b85" title="OS_EventTaskRdy" alt="" coords="237,360,368,387"/><area shape="rect" id="node25" href="ucos__ii_8h.html#a26c3b9f8f0aa851a4d1342dceb75ef4a" title="OSEventPendMulti" alt="" coords="237,475,368,501"/><area shape="rect" id="node26" href="ucos__ii_8h.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="259,652,347,679"/><area shape="rect" id="node3" href="ucos__ii_8h.html#a118e25b7582413a00db8e81c53b87904" title="OSMboxDel" alt="" coords="438,157,530,184"/><area shape="rect" id="node4" href="ucos__ii_8h.html#a79308686e7b9f74808ef0d4da4f85fb5" title="OSMboxPendAbort" alt="" coords="417,208,551,235"/><area shape="rect" id="node5" href="ucos__ii_8h.html#ae703df746b1a0ed796d2ebcf73eb06a6" title="OSMboxPost" alt="" coords="434,259,534,285"/><area shape="rect" id="node10" href="ucos__ii_8h.html#a652b403cbaad0f73d5a3bf95d75c4570" title="OSMboxPostOpt" alt="" coords="423,309,545,336"/><area shape="rect" id="node11" href="ucos__ii_8h.html#a2d79abc91c621502d9e3a6a812a64d22" title="OSMutexDel" alt="" coords="436,360,532,387"/><area shape="rect" id="node12" href="ucos__ii_8h.html#ad90c80a6ce0a8bb176ba9e48f894fbf7" title="OSMutexPost" alt="" coords="432,411,536,437"/><area shape="rect" id="node13" href="ucos__ii_8h.html#a00d293df7319f498058fc686d9c0638a" title="OSQDel" alt="" coords="449,461,519,488"/><area shape="rect" id="node14" href="ucos__ii_8h.html#a749e3989a6762d806e742611a1467dc7" title="OSQPendAbort" alt="" coords="428,512,540,539"/><area shape="rect" id="node15" href="ucos__ii_8h.html#aae1036ecb0789004e593d3d1c958f3fa" title="OSQPost" alt="" coords="445,563,523,589"/><area shape="rect" id="node16" href="ucos__ii_8h.html#a8366a0cf565004f88a88d4b1894a39c4" title="OSQPostFront" alt="" coords="430,613,538,640"/><area shape="rect" id="node17" href="ucos__ii_8h.html#aefa14e09d312bd2180272b0ff27e702e" title="OSQPostOpt" alt="" coords="435,664,533,691"/><area shape="rect" id="node18" href="ucos__ii_8h.html#aa0e5ab0417bfd23066369b3d2012d837" title="OSSemDel" alt="" coords="441,5,527,32"/><area shape="rect" id="node19" href="ucos__ii_8h.html#ac077a929869eeee03ef3c90b992532f3" title="OSSemPendAbort" alt="" coords="419,56,549,83"/><area shape="rect" id="node20" href="ucos__ii_8h.html#a972bf8ea56228c25b4170695248727d6" title="OSSemPost" alt="" coords="437,107,531,133"/><area shape="rect" id="node6" href="app_8c.html#ad1c293a09028612fc01cb3864064c5fd" title="App_TaskKbd" alt="" coords="602,296,705,323"/><area shape="rect" id="node7" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="931,524,1050,551"/><area shape="rect" id="node8" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="1321,524,1429,551"/><area shape="rect" id="node9" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1477,575,1528,601"/><area shape="rect" id="node21" href="ucos__ii_8h.html#a9e534f7203e5f99a05853ebfe4ffa2f7" title="OSTmrSignal" alt="" coords="604,107,703,133"/><area shape="rect" id="node22" href="ucos__ii_8h.html#a9580a668e52ffe7fcb5429e80d6eac8f" title="OSTimeTickHook" alt="" coords="757,107,880,133"/><area shape="rect" id="node23" href="ucos__ii_8h.html#abf35bebb7ed88c38c212ee675f3713db" title="OSTimeTick" alt="" coords="944,107,1037,133"/><area shape="rect" id="node24" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="1099,107,1272,133"/><area shape="rect" id="node27" href="ucos__ii_8h.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="427,715,541,741"/><area shape="rect" id="node28" href="ucos__ii_8h.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="600,676,707,703"/><area shape="rect" id="node29" href="ucos__ii_8h.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="765,676,872,703"/><area shape="rect" id="node35" href="ucos__ii_8h.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="755,625,882,652"/><area shape="rect" id="node30" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="934,625,1047,652"/><area shape="rect" id="node32" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="932,676,1049,703"/><area shape="rect" id="node33" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="933,727,1048,753"/><area shape="rect" id="node31" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="1345,651,1404,677"/><area shape="rect" id="node34" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="1142,727,1229,753"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a905a0e05a1feccd489e2096ceb9aa086"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_EventWaitListInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> *&#160;</td>
          <td class="paramname"><em>pevent</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01222">1222</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00084">OS_EVENT_TBL_SIZE</a>, <a class="el" href="ucos__ii_8h_source.html#l00397">OS_EVENT::OSEventGrp</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00398">OS_EVENT::OSEventTbl</a>.</p>

<p>参考自 <a class="el" href="os__mbox_8c_source.html#l00088">OSMboxCreate()</a>, <a class="el" href="os__mutex_8c_source.html#l00167">OSMutexCreate()</a>, <a class="el" href="os__q_8c_source.html#l00122">OSQCreate()</a> , 以及 <a class="el" href="os__sem_8c_source.html#l00094">OSSemCreate()</a>.</p>
<div class="fragment"><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;{</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">#if OS_LOWEST_PRIO &lt;= 63u</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>  *ptbl;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a> *ptbl;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>   i;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    pevent-&gt;<a class="code" href="ucos__ii_8h.html#a156c7ba07c3b098f6c74faee9eecd68a">OSEventGrp</a> = 0u;                     <span class="comment">/* No task waiting on event                           */</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    ptbl               = &amp;pevent-&gt;<a class="code" href="ucos__ii_8h.html#a7eb4a323ad5c9a0b6185160da0869c1f">OSEventTbl</a>[0];</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">for</span> (i = 0u; i &lt; <a class="code" href="ucos__ii_8h.html#a718ce0c469b8cdee4fcb184c36dab940">OS_EVENT_TBL_SIZE</a>; i++) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        *ptbl++ = 0u;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a905a0e05a1feccd489e2096ceb9aa086_icgraph.png" border="0" usemap="#os__core_8c_a905a0e05a1feccd489e2096ceb9aa086_icgraph" alt=""/></div>
<map name="os__core_8c_a905a0e05a1feccd489e2096ceb9aa086_icgraph" id="os__core_8c_a905a0e05a1feccd489e2096ceb9aa086_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a62808c7bc864fa96f4ec694edd0b2d8e" title="OSMboxCreate" alt="" coords="202,5,313,32"/><area shape="rect" id="node6" href="ucos__ii_8h.html#a7ee9a96625a74c2d8a59f042cbe2f431" title="OSMutexCreate" alt="" coords="200,56,315,83"/><area shape="rect" id="node7" href="ucos__ii_8h.html#a09733715ea02098f9fe6b0cda12fcc90" title="OSQCreate" alt="" coords="213,107,302,133"/><area shape="rect" id="node8" href="ucos__ii_8h.html#a88a8aaaed348084594298abe359d4afa" title="OSSemCreate" alt="" coords="204,157,311,184"/><area shape="rect" id="node3" href="app_8c.html#ad179f0386a736897f8584eb4a6cd928b" title="App_EventCreate" alt="" coords="363,12,485,39"/><area shape="rect" id="node4" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="534,37,642,64"/><area shape="rect" id="node5" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="691,69,741,96"/><area shape="rect" id="node9" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="381,107,467,133"/><area shape="rect" id="node10" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="559,100,617,127"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ba333bc9b08985d9519c29a430188f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_MemClr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>pdest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01549">1549</a> 行定义.</p>

<p>参考自 <a class="el" href="os__flag_8c_source.html#l01048">OS_FlagInit()</a>, <a class="el" href="os__core_8c_source.html#l01254">OS_InitEventList()</a>, <a class="el" href="os__core_8c_source.html#l01502">OS_InitTCBList()</a>, <a class="el" href="os__mem_8c_source.html#l00403">OS_MemInit()</a>, <a class="el" href="os__q_8c_source.html#l00852">OS_QInit()</a> , 以及 <a class="el" href="os__tmr_8c_source.html#l00782">OSTmr_Init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;{</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">while</span> (size &gt; 0u) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        *pdest++ = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)0;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        size--;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a0ba333bc9b08985d9519c29a430188f0_icgraph.png" border="0" usemap="#os__core_8c_a0ba333bc9b08985d9519c29a430188f0_icgraph" alt=""/></div>
<map name="os__core_8c_a0ba333bc9b08985d9519c29a430188f0_icgraph" id="os__core_8c_a0ba333bc9b08985d9519c29a430188f0_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a0fe3aa6a8a4e8af4c3c87a51dc15d187" title="OS_FlagInit" alt="" coords="161,5,252,32"/><area shape="rect" id="node5" href="os__core_8c.html#aeebfa0c8217412c2f0fec844f3b68e47" title="OS_InitEventList" alt="" coords="147,56,266,83"/><area shape="rect" id="node6" href="os__core_8c.html#a2b08bf9818c51413233a54c4580165ea" title="OS_InitTCBList" alt="" coords="151,107,262,133"/><area shape="rect" id="node7" href="ucos__ii_8h.html#af1a3563017f40e8bfea67fe5bc5dd43d" title="OS_MemInit" alt="" coords="159,157,254,184"/><area shape="rect" id="node8" href="ucos__ii_8h.html#a61641feff32e6bde0adb8fe1fb5e1e3f" title="OS_QInit" alt="" coords="169,208,244,235"/><area shape="rect" id="node9" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="163,259,250,285"/><area shape="rect" id="node3" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="315,132,373,159"/><area shape="rect" id="node4" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="421,132,472,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3cf05e647845c323c2440b7062ad6ca6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_MemCopy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>pdest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>psrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01582">1582</a> 行定义.</p>

<p>参考自 <a class="el" href="os__task_8c_source.html#l01011">OSTaskQuery()</a>.</p>
<div class="fragment"><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;{</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">while</span> (size &gt; 0u) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        *pdest++ = *psrc++;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        size--;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a3cf05e647845c323c2440b7062ad6ca6_icgraph.png" border="0" usemap="#os__core_8c_a3cf05e647845c323c2440b7062ad6ca6_icgraph" alt=""/></div>
<map name="os__core_8c_a3cf05e647845c323c2440b7062ad6ca6_icgraph" id="os__core_8c_a3cf05e647845c323c2440b7062ad6ca6_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#aa2ab37d107fb52b5edc6bf1f50b0a0f1" title="OSTaskQuery" alt="" coords="160,5,264,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d641c1c441f4be4896745deafd66292"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_Sched </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01609">1609</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="os__core_8c_source.html#l01651">OS_SchedNew()</a>, <a class="el" href="os__cpu_8h_source.html#l00090">OS_TASK_SW</a>, <a class="el" href="ucos__ii_8h_source.html#l00714">OSCtxSwCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00734">OSIntNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00736">OSLockNesting</a>, <a class="el" href="ucos__ii_8h_source.html#l00738">OSPrioCur</a>, <a class="el" href="ucos__ii_8h_source.html#l00739">OSPrioHighRdy</a>, <a class="el" href="ucos__ii_8h_source.html#l00652">OS_TCB::OSTCBCtxSwCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00760">OSTCBHighRdy</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00302">OSEventPendMulti()</a>, <a class="el" href="os__flag_8c_source.html#l00288">OSFlagDel()</a>, <a class="el" href="os__flag_8c_source.html#l00561">OSFlagPend()</a>, <a class="el" href="os__flag_8c_source.html#l00800">OSFlagPost()</a>, <a class="el" href="os__mbox_8c_source.html#l00155">OSMboxDel()</a>, <a class="el" href="os__mbox_8c_source.html#l00273">OSMboxPend()</a>, <a class="el" href="os__mbox_8c_source.html#l00382">OSMboxPendAbort()</a>, <a class="el" href="os__mbox_8c_source.html#l00458">OSMboxPost()</a>, <a class="el" href="os__mbox_8c_source.html#l00530">OSMboxPostOpt()</a>, <a class="el" href="os__mutex_8c_source.html#l00259">OSMutexDel()</a>, <a class="el" href="os__mutex_8c_source.html#l00399">OSMutexPend()</a>, <a class="el" href="os__mutex_8c_source.html#l00553">OSMutexPost()</a>, <a class="el" href="os__q_8c_source.html#l00213">OSQDel()</a>, <a class="el" href="os__q_8c_source.html#l00389">OSQPend()</a>, <a class="el" href="os__q_8c_source.html#l00503">OSQPendAbort()</a>, <a class="el" href="os__q_8c_source.html#l00576">OSQPost()</a>, <a class="el" href="os__q_8c_source.html#l00639">OSQPostFront()</a>, <a class="el" href="os__q_8c_source.html#l00711">OSQPostOpt()</a>, <a class="el" href="os__core_8c_source.html#l00740">OSSchedUnlock()</a>, <a class="el" href="os__sem_8c_source.html#l00163">OSSemDel()</a>, <a class="el" href="os__sem_8c_source.html#l00280">OSSemPend()</a>, <a class="el" href="os__sem_8c_source.html#l00385">OSSemPendAbort()</a>, <a class="el" href="os__sem_8c_source.html#l00456">OSSemPost()</a>, <a class="el" href="os__task_8c_source.html#l00051">OSTaskChangePrio()</a>, <a class="el" href="os__task_8c_source.html#l00216">OSTaskCreate()</a>, <a class="el" href="os__task_8c_source.html#l00332">OSTaskCreateExt()</a>, <a class="el" href="os__task_8c_source.html#l00424">OSTaskDel()</a>, <a class="el" href="os__task_8c_source.html#l00786">OSTaskResume()</a>, <a class="el" href="os__task_8c_source.html#l00938">OSTaskSuspend()</a>, <a class="el" href="os__time_8c_source.html#l00044">OSTimeDly()</a> , 以及 <a class="el" href="os__time_8c_source.html#l00156">OSTimeDlyResume()</a>.</p>
<div class="fragment"><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                           </span><span class="comment">/* Allocate storage for CPU status register     */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a31aacb20905e62207cfb25d3a16a8d19">OSIntNesting</a> == 0u) {                          <span class="comment">/* Schedule only if all ISRs done and ...       */</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#ab1fe1308ad42239ec611b901ab8776ca">OSLockNesting</a> == 0u) {                     <span class="comment">/* ... scheduler is not locked                  */</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <a class="code" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8">OS_SchedNew</a>();</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a> = <a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[<a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a>];</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a850b9da78fcef2c7bc2dca16d8d684a0">OSPrioHighRdy</a> != <a class="code" href="ucos__ii_8h.html#a3d01354b14fe8a2d45e7641d6d3a1661">OSPrioCur</a>) {          <span class="comment">/* No Ctx Sw if current task is highest rdy     */</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="preprocessor">#if OS_TASK_PROFILE_EN &gt; 0u</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="preprocessor"></span>                <a class="code" href="ucos__ii_8h.html#a670d5e07e39c49ecf65127e9f9f03e53">OSTCBHighRdy</a>-&gt;<a class="code" href="ucos__ii_8h.html#a53b2f729d79ca051d77582415f482945">OSTCBCtxSwCtr</a>++;         <span class="comment">/* Inc. # of context switches to this task      */</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="preprocessor"></span>                <a class="code" href="ucos__ii_8h.html#ae5227cb8745794a07b0acfec52e051bc">OSCtxSwCtr</a>++;                          <span class="comment">/* Increment context switch counter             */</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                <a class="code" href="os__cpu_8h.html#a9cb26d41c0fbcdf700d01b8fc3a69ec1">OS_TASK_SW</a>();                          <span class="comment">/* Perform a context switch                     */</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a5d641c1c441f4be4896745deafd66292_cgraph.png" border="0" usemap="#os__core_8c_a5d641c1c441f4be4896745deafd66292_cgraph" alt=""/></div>
<map name="os__core_8c_a5d641c1c441f4be4896745deafd66292_cgraph" id="os__core_8c_a5d641c1c441f4be4896745deafd66292_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="139,5,250,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a5d641c1c441f4be4896745deafd66292_icgraph.png" border="0" usemap="#os__core_8c_a5d641c1c441f4be4896745deafd66292_icgraph" alt=""/></div>
<map name="os__core_8c_a5d641c1c441f4be4896745deafd66292_icgraph" id="os__core_8c_a5d641c1c441f4be4896745deafd66292_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a26c3b9f8f0aa851a4d1342dceb75ef4a" title="OSEventPendMulti" alt="" coords="141,5,272,32"/><area shape="rect" id="node3" href="ucos__ii_8h.html#a8e03e910cb0828414d1afd44a686465d" title="OSFlagDel" alt="" coords="164,56,249,83"/><area shape="rect" id="node4" href="ucos__ii_8h.html#a6c12fea808f3f81995a6a3373cbe3f09" title="OSFlagPend" alt="" coords="159,107,255,133"/><area shape="rect" id="node5" href="ucos__ii_8h.html#ae884e04cb03f370c115c949169db9d18" title="OSFlagPost" alt="" coords="160,157,253,184"/><area shape="rect" id="node6" href="ucos__ii_8h.html#a118e25b7582413a00db8e81c53b87904" title="OSMboxDel" alt="" coords="161,208,253,235"/><area shape="rect" id="node7" href="ucos__ii_8h.html#ada0348e18656c21bbffc78c5ba9f90b5" title="OSMboxPend" alt="" coords="155,360,258,387"/><area shape="rect" id="node12" href="ucos__ii_8h.html#a79308686e7b9f74808ef0d4da4f85fb5" title="OSMboxPendAbort" alt="" coords="139,715,274,741"/><area shape="rect" id="node13" href="ucos__ii_8h.html#ae703df746b1a0ed796d2ebcf73eb06a6" title="OSMboxPost" alt="" coords="157,259,257,285"/><area shape="rect" id="node15" href="ucos__ii_8h.html#a652b403cbaad0f73d5a3bf95d75c4570" title="OSMboxPostOpt" alt="" coords="146,765,267,792"/><area shape="rect" id="node16" href="ucos__ii_8h.html#a2d79abc91c621502d9e3a6a812a64d22" title="OSMutexDel" alt="" coords="159,816,255,843"/><area shape="rect" id="node17" href="ucos__ii_8h.html#a7392c4e0d3ee50a406a8642c1887c154" title="OSMutexPend" alt="" coords="153,867,260,893"/><area shape="rect" id="node18" href="ucos__ii_8h.html#ad90c80a6ce0a8bb176ba9e48f894fbf7" title="OSMutexPost" alt="" coords="155,917,259,944"/><area shape="rect" id="node19" href="ucos__ii_8h.html#a00d293df7319f498058fc686d9c0638a" title="OSQDel" alt="" coords="171,968,242,995"/><area shape="rect" id="node20" href="ucos__ii_8h.html#aea7f2cfe6a3320ec951688e3decc2e68" title="OSQPend" alt="" coords="166,1019,247,1045"/><area shape="rect" id="node21" href="ucos__ii_8h.html#a749e3989a6762d806e742611a1467dc7" title="OSQPendAbort" alt="" coords="151,1069,263,1096"/><area shape="rect" id="node22" href="ucos__ii_8h.html#aae1036ecb0789004e593d3d1c958f3fa" title="OSQPost" alt="" coords="167,1120,246,1147"/><area shape="rect" id="node23" href="ucos__ii_8h.html#a8366a0cf565004f88a88d4b1894a39c4" title="OSQPostFront" alt="" coords="153,1171,261,1197"/><area shape="rect" id="node24" href="ucos__ii_8h.html#aefa14e09d312bd2180272b0ff27e702e" title="OSQPostOpt" alt="" coords="157,1221,256,1248"/><area shape="rect" id="node25" href="ucos__ii_8h.html#accb8ef08bd5b8ee1376b200e9f4ee9f7" title="OSSchedUnlock" alt="" coords="147,664,266,691"/><area shape="rect" id="node37" href="ucos__ii_8h.html#aa0e5ab0417bfd23066369b3d2012d837" title="OSSemDel" alt="" coords="163,1272,250,1299"/><area shape="rect" id="node38" href="ucos__ii_8h.html#a108896df2b5c0b9b43f7388acab11b8e" title="OSSemPend" alt="" coords="157,613,256,640"/><area shape="rect" id="node39" href="ucos__ii_8h.html#ac077a929869eeee03ef3c90b992532f3" title="OSSemPendAbort" alt="" coords="142,1323,271,1349"/><area shape="rect" id="node40" href="ucos__ii_8h.html#a972bf8ea56228c25b4170695248727d6" title="OSSemPost" alt="" coords="159,1373,254,1400"/><area shape="rect" id="node45" href="ucos__ii_8h.html#ae38030ea8040d401f1311821425c34c8" title="OSTaskChangePrio" alt="" coords="139,1424,275,1451"/><area shape="rect" id="node46" href="ucos__ii_8h.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="680,512,787,539"/><area shape="rect" id="node49" href="ucos__ii_8h.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="670,461,797,488"/><area shape="rect" id="node50" href="ucos__ii_8h.html#a3a74414523d1a21d5248a2aa8052677f" title="OSTaskDel" alt="" coords="163,461,251,488"/><area shape="rect" id="node53" href="ucos__ii_8h.html#ad3a1b53bfc0b7666e937a7bfd3ba107b" title="OSTaskResume" alt="" coords="148,1475,265,1501"/><area shape="rect" id="node54" href="ucos__ii_8h.html#aaed544c4c5e2e3d2677175284a703b5c" title="OSTaskSuspend" alt="" coords="147,411,267,437"/><area shape="rect" id="node56" href="ucos__ii_8h.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="163,309,251,336"/><area shape="rect" id="node65" href="ucos__ii_8h.html#a52ea8cb1d86d17ee7cfed22df59d8667" title="OSTimeDlyResume" alt="" coords="139,1525,275,1552"/><area shape="rect" id="node8" href="app_8c.html#a4217307366bcf4be2514445ba929360b" title="App_TaskUserIF" alt="" coords="327,360,446,387"/><area shape="rect" id="node9" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="873,360,991,387"/><area shape="rect" id="node10" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="1067,335,1175,361"/><area shape="rect" id="node11" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1331,411,1381,437"/><area shape="rect" id="node14" href="app_8c.html#ad1c293a09028612fc01cb3864064c5fd" title="App_TaskKbd" alt="" coords="335,107,438,133"/><area shape="rect" id="node26" href="ucos__ii_8h.html#a0181651b83ee63d7b4496421ca27852d" title="OSTmrCreate" alt="" coords="336,715,437,741"/><area shape="rect" id="node27" href="ucos__ii_8h.html#aad27ab68d6a77945bd6ae958c6c99196" title="OSTmrDel" alt="" coords="345,765,428,792"/><area shape="rect" id="node28" href="ucos__ii_8h.html#a9faa1cf432d6d16c221ce115d35412f2" title="OSTmrNameGet" alt="" coords="327,816,446,843"/><area shape="rect" id="node29" href="ucos__ii_8h.html#a74aeb9559dfbe4568de6ce2861a2369c" title="OSTmrRemainGet" alt="" coords="323,867,451,893"/><area shape="rect" id="node30" href="ucos__ii_8h.html#ab19f8fa86f6f244035247aae191de39e" title="OSTmrStateGet" alt="" coords="329,917,444,944"/><area shape="rect" id="node31" href="ucos__ii_8h.html#a9a09d1983f006423b47e5f35371eed69" title="OSTmrStart" alt="" coords="341,968,432,995"/><area shape="rect" id="node32" href="ucos__ii_8h.html#a54b9a48ec5b352cb29b4460af5f6c090" title="OSTmrStop" alt="" coords="341,664,432,691"/><area shape="rect" id="node33" href="os__tmr_8c.html#a3c59fb10ed187638d40c697b05e4ce0b" title="OSTmr_Task" alt="" coords="337,613,436,640"/><area shape="rect" id="node34" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="875,563,989,589"/><area shape="rect" id="node35" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="1078,563,1165,589"/><area shape="rect" id="node36" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="1224,487,1283,513"/><area shape="rect" id="node41" href="ucos__ii_8h.html#a9e534f7203e5f99a05853ebfe4ffa2f7" title="OSTmrSignal" alt="" coords="337,1373,436,1400"/><area shape="rect" id="node42" href="ucos__ii_8h.html#a9580a668e52ffe7fcb5429e80d6eac8f" title="OSTimeTickHook" alt="" coords="499,1373,621,1400"/><area shape="rect" id="node43" href="ucos__ii_8h.html#abf35bebb7ed88c38c212ee675f3713db" title="OSTimeTick" alt="" coords="687,1373,780,1400"/><area shape="rect" id="node44" href="os__cpu__c_8c.html#ad1e1489143c09755d37135acc3ac6fb4" title="OS_CPU_SysTickHandler" alt="" coords="845,1373,1019,1400"/><area shape="rect" id="node47" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="875,512,989,539"/><area shape="rect" id="node48" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="873,461,991,488"/><area shape="rect" id="node51" href="ucos__ii_8h.html#a77e2092daaffbae037aa73da59aa8869" title="OS_TaskReturn" alt="" coords="329,461,444,488"/><area shape="rect" id="node52" href="ucos__ii_8h.html#abfeab30b10331febafd3fab8bc3b2552" title="OSTaskStkInit" alt="" coords="507,461,613,488"/><area shape="rect" id="node55" href="ucos__ii_8h.html#a827236210af1492f347cebe245caeda1" title="OS_TaskStat" alt="" coords="337,411,437,437"/><area shape="rect" id="node57" href="bsp__os_8h.html#a1c82e41f9c4372ab1468928364227976" title="BSP_OS_Dly_ms" alt="" coords="323,208,450,235"/><area shape="rect" id="node63" href="ucos__ii_8h.html#a5ba8aba02bcf614eef38c0133f968c49" title="OSStatInit" alt="" coords="519,107,601,133"/><area shape="rect" id="node64" href="ucos__ii_8h.html#ae574d80c0590e93302061d2920475173" title="OSTimeDlyHMSM" alt="" coords="323,259,451,285"/><area shape="rect" id="node58" href="bsp__ser_8h.html#a2d41af36cbfc3c79c6817b5217c397d4" title="BSP_SerRd" alt="" coords="514,208,606,235"/><area shape="rect" id="node59" href="bsp__ser_8h.html#abafcf1b8a1786f23e4c0dee1ca819522" title="BSP_SerRdLine" alt="" coords="675,157,791,184"/><area shape="rect" id="node60" href="bsp__ser_8h.html#a99e9be95a9e2dc53afb42b32bc62124b" title="BSP_SerWr" alt="" coords="513,259,607,285"/><area shape="rect" id="node61" href="bsp__ser_8h.html#ac8ee31bc6cf3d16c567190aea85825f3" title="BSP_Print" alt="" coords="692,259,775,285"/><area shape="rect" id="node62" href="bsp__ser_8h.html#a327fa6dafb822d8a72fccbffa52c7b36" title="BSP_SerPrint" alt="" coords="682,208,785,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97dc1f3c7f7c04d67c65bc58d015faaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> OS_StrLen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *&#160;</td>
          <td class="paramname"><em>psrc</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01696">1696</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00070">OS_ASCII_NUL</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00108">OSEventNameGet()</a>, <a class="el" href="os__flag_8c_source.html#l00399">OSFlagNameGet()</a>, <a class="el" href="os__mem_8c_source.html#l00197">OSMemNameGet()</a>, <a class="el" href="os__task_8c_source.html#l00637">OSTaskNameGet()</a> , 以及 <a class="el" href="os__tmr_8c_source.html#l00266">OSTmrNameGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;{</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>  len;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    len = 0u;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">while</span> (*psrc != <a class="code" href="ucos__ii_8h.html#a9f78cd8777e54038d5a4a2b8dde11d31">OS_ASCII_NUL</a>) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        psrc++;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        len++;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    }</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">return</span> (len);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a97dc1f3c7f7c04d67c65bc58d015faaf_icgraph.png" border="0" usemap="#os__core_8c_a97dc1f3c7f7c04d67c65bc58d015faaf_icgraph" alt=""/></div>
<map name="os__core_8c_a97dc1f3c7f7c04d67c65bc58d015faaf_icgraph" id="os__core_8c_a97dc1f3c7f7c04d67c65bc58d015faaf_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a51ca66834bb18cd2120c0c468fde0383" title="OSEventNameGet" alt="" coords="141,5,269,32"/><area shape="rect" id="node3" href="ucos__ii_8h.html#af96f2dfc1631dfde2e2f6520f614aa01" title="OSFlagNameGet" alt="" coords="145,56,266,83"/><area shape="rect" id="node4" href="ucos__ii_8h.html#a1cf9009904c5d6835a30af6130b08863" title="OSMemNameGet" alt="" coords="143,107,268,133"/><area shape="rect" id="node5" href="ucos__ii_8h.html#a597d0c2b6a838c8edd98a3f8bc9290c2" title="OSTaskNameGet" alt="" coords="143,157,267,184"/><area shape="rect" id="node6" href="ucos__ii_8h.html#a9faa1cf432d6d16c221ce115d35412f2" title="OSTmrNameGet" alt="" coords="146,208,265,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a73a3a478f8472462ac3b70b789f29409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_TaskIdle </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_arg</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01731">1731</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00753">OSIdleCtr</a> , 以及 <a class="el" href="os__cpu__c_8c_source.html#l00151">OSTaskIdleHook()</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l01378">OS_InitTaskIdle()</a>.</p>
<div class="fragment"><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;{</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                     </span><span class="comment">/* Allocate storage for CPU status register           */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    (void)p_arg;                                 <span class="comment">/* Prevent compiler warning for not using &#39;p_arg&#39;     */</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <a class="code" href="ucos__ii_8h.html#aea768d9ba3c7b41f9495c0e9bc33033e">OSIdleCtr</a>++;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <a class="code" href="os__cpu__c_8c.html#a7819c02d33415b093052de6416d9889f">OSTaskIdleHook</a>();                        <span class="comment">/* Call user definable HOOK                           */</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a73a3a478f8472462ac3b70b789f29409_cgraph.png" border="0" usemap="#os__core_8c_a73a3a478f8472462ac3b70b789f29409_cgraph" alt=""/></div>
<map name="os__core_8c_a73a3a478f8472462ac3b70b789f29409_cgraph" id="os__core_8c_a73a3a478f8472462ac3b70b789f29409_cgraph">
<area shape="rect" id="node2" href="os__cpu__c_8c.html#a7819c02d33415b093052de6416d9889f" title="OSTaskIdleHook" alt="" coords="150,5,269,32"/><area shape="rect" id="node3" href="os__app__hooks_8c.html#a7a1d89e16105fcdb5e555b4ae6cc7468" title="App_TaskIdleHook" alt="" coords="317,5,448,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a73a3a478f8472462ac3b70b789f29409_icgraph.png" border="0" usemap="#os__core_8c_a73a3a478f8472462ac3b70b789f29409_icgraph" alt=""/></div>
<map name="os__core_8c_a73a3a478f8472462ac3b70b789f29409_icgraph" id="os__core_8c_a73a3a478f8472462ac3b70b789f29409_icgraph">
<area shape="rect" id="node2" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="150,5,263,32"/><area shape="rect" id="node3" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="312,5,371,32"/><area shape="rect" id="node4" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="419,5,469,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a827236210af1492f347cebe245caeda1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_TaskStat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_arg</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01773">1773</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00063">OS_FALSE</a>, <a class="el" href="ucos__ii_8h_source.html#l00072">OS_PRIO_SELF</a>, <a class="el" href="os__core_8c_source.html#l01824">OS_TaskStatStkChk()</a>, <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00051">OS_TICKS_PER_SEC</a>, <a class="el" href="ucos__ii_8h_source.html#l00727">OSCPUUsage</a>, <a class="el" href="ucos__ii_8h_source.html#l00753">OSIdleCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00728">OSIdleCtrMax</a>, <a class="el" href="ucos__ii_8h_source.html#l00729">OSIdleCtrRun</a>, <a class="el" href="ucos__ii_8h_source.html#l00730">OSStatRdy</a>, <a class="el" href="os__cpu__c_8c_source.html#l00195">OSTaskStatHook()</a>, <a class="el" href="os__task_8c_source.html#l00938">OSTaskSuspend()</a> , 以及 <a class="el" href="os__time_8c_source.html#l00044">OSTimeDly()</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l01440">OS_InitTaskStat()</a>.</p>
<div class="fragment"><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;{</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                     </span><span class="comment">/* Allocate storage for CPU status register           */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    (void)p_arg;                                 <span class="comment">/* Prevent compiler warning for not using &#39;p_arg&#39;     */</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="ucos__ii_8h.html#abe8dd86730be5673b531e5470c59b992">OSStatRdy</a> == <a class="code" href="ucos__ii_8h.html#a5e0edee36263795a0a1f30658d4c8a3f">OS_FALSE</a>) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <a class="code" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba">OSTimeDly</a>(2u * <a class="code" href="_a_p_p_2os__cfg_8h.html#a673d8c27b9b599a483cb83d8a52e8e05">OS_TICKS_PER_SEC</a> / 10u);  <span class="comment">/* Wait until statistic task is ready                 */</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    }</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="ucos__ii_8h.html#a846a2a0ffe3c7e4271b14104ab283d7c">OSIdleCtrMax</a> /= 100L;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a846a2a0ffe3c7e4271b14104ab283d7c">OSIdleCtrMax</a> == 0L) {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <a class="code" href="ucos__ii_8h.html#a685b2274b2907823a306e22bc122b396">OSCPUUsage</a> = 0u;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="preprocessor">#if OS_TASK_SUSPEND_EN &gt; 0u</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="preprocessor"></span>        (void)<a class="code" href="os__task_8c.html#aaed544c4c5e2e3d2677175284a703b5c">OSTaskSuspend</a>(<a class="code" href="ucos__ii_8h.html#ad77e86d6abfd07de6cf9555e6c97874e">OS_PRIO_SELF</a>);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <a class="code" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba">OSTimeDly</a>(<a class="code" href="_a_p_p_2os__cfg_8h.html#a673d8c27b9b599a483cb83d8a52e8e05">OS_TICKS_PER_SEC</a>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <a class="code" href="ucos__ii_8h.html#adb6da987e1db9fc28189585d0aa785fe">OSIdleCtrRun</a> = <a class="code" href="ucos__ii_8h.html#aea768d9ba3c7b41f9495c0e9bc33033e">OSIdleCtr</a>;                <span class="comment">/* Obtain the of the idle counter for the past second */</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <a class="code" href="ucos__ii_8h.html#aea768d9ba3c7b41f9495c0e9bc33033e">OSIdleCtr</a>    = 0L;                       <span class="comment">/* Reset the idle counter for the next second         */</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <a class="code" href="ucos__ii_8h.html#a685b2274b2907823a306e22bc122b396">OSCPUUsage</a>   = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)(100L - <a class="code" href="ucos__ii_8h.html#adb6da987e1db9fc28189585d0aa785fe">OSIdleCtrRun</a> / <a class="code" href="ucos__ii_8h.html#a846a2a0ffe3c7e4271b14104ab283d7c">OSIdleCtrMax</a>);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <a class="code" href="os__cpu__c_8c.html#a18eed81d1c43665ae8cf9242a188db7f">OSTaskStatHook</a>();                        <span class="comment">/* Invoke user definable hook                         */</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="preprocessor">#if (OS_TASK_STAT_STK_CHK_EN &gt; 0u) &amp;&amp; (OS_TASK_CREATE_EXT_EN &gt; 0u)</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="preprocessor"></span>        <a class="code" href="os__core_8c.html#a504e6d3c536501abee75502199349c8b">OS_TaskStatStkChk</a>();                     <span class="comment">/* Check the stacks for each task                     */</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="preprocessor"></span>        <a class="code" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba">OSTimeDly</a>(<a class="code" href="_a_p_p_2os__cfg_8h.html#a673d8c27b9b599a483cb83d8a52e8e05">OS_TICKS_PER_SEC</a> / 10u);       <span class="comment">/* Accumulate OSIdleCtr for the next 1/10 second      */</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a827236210af1492f347cebe245caeda1_cgraph.png" border="0" usemap="#os__core_8c_a827236210af1492f347cebe245caeda1_cgraph" alt=""/></div>
<map name="os__core_8c_a827236210af1492f347cebe245caeda1_cgraph" id="os__core_8c_a827236210af1492f347cebe245caeda1_cgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a504e6d3c536501abee75502199349c8b" title="OS_TaskStatStkChk" alt="" coords="155,5,298,32"/><area shape="rect" id="node4" href="os__cpu__c_8c.html#a18eed81d1c43665ae8cf9242a188db7f" title="OSTaskStatHook" alt="" coords="165,56,288,83"/><area shape="rect" id="node6" href="os__task_8c.html#aaed544c4c5e2e3d2677175284a703b5c" title="OSTaskSuspend" alt="" coords="167,107,287,133"/><area shape="rect" id="node9" href="os__time_8c.html#a79fa80d326d321b4823c6d518db941ba" title="OSTimeDly" alt="" coords="183,157,271,184"/><area shape="rect" id="node3" href="os__task_8c.html#ad2f10ed07769ebbd7d96e149af5a989c" title="OSTaskStkChk" alt="" coords="359,5,471,32"/><area shape="rect" id="node5" href="os__app__hooks_8c.html#a095fa8f0fdcb792dc4522a781b63c08a" title="App_TaskStatHook" alt="" coords="347,56,482,83"/><area shape="rect" id="node7" href="os__core_8c.html#a5d641c1c441f4be4896745deafd66292" title="OS_Sched" alt="" coords="372,132,457,159"/><area shape="rect" id="node8" href="os__core_8c.html#a4c012d2e7a886885bd6f80ca15b295b8" title="OS_SchedNew" alt="" coords="531,132,642,159"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a827236210af1492f347cebe245caeda1_icgraph.png" border="0" usemap="#os__core_8c_a827236210af1492f347cebe245caeda1_icgraph" alt=""/></div>
<map name="os__core_8c_a827236210af1492f347cebe245caeda1_icgraph" id="os__core_8c_a827236210af1492f347cebe245caeda1_icgraph">
<area shape="rect" id="node2" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="155,5,272,32"/><area shape="rect" id="node3" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="320,5,379,32"/><area shape="rect" id="node4" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="427,5,477,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a504e6d3c536501abee75502199349c8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OS_TaskStatStkChk </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01824">1824</a> 行定义.</p>

<p>参考 <a class="el" href="ucos__ii_8h_source.html#l00246">OS_ERR_NONE</a>, <a class="el" href="ucos__ii_8h_source.html#l00081">OS_TASK_IDLE_PRIO</a>, <a class="el" href="ucos__ii_8h_source.html#l00097">OS_TCB_RESERVED</a>, <a class="el" href="os__task_8c_source.html#l00853">OSTaskStkChk()</a>, <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00655">OS_TCB::OSTCBStkBase</a>, <a class="el" href="ucos__ii_8h_source.html#l00604">OS_TCB::OSTCBStkBottom</a>, <a class="el" href="ucos__ii_8h_source.html#l00605">OS_TCB::OSTCBStkSize</a>, <a class="el" href="ucos__ii_8h_source.html#l00656">OS_TCB::OSTCBStkUsed</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00588">OS_STK_DATA::OSUsed</a>.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l01773">OS_TaskStat()</a>.</p>
<div class="fragment"><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;{</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a>      *ptcb;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___s_t_k___d_a_t_a">OS_STK_DATA</a>  stk_data;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>        err;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>        prio;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">for</span> (prio = 0u; prio &lt;= <a class="code" href="ucos__ii_8h.html#ae9c4083f27bd9e4cab14f19e6d56b972">OS_TASK_IDLE_PRIO</a>; prio++) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        err = <a class="code" href="os__task_8c.html#ad2f10ed07769ebbd7d96e149af5a989c">OSTaskStkChk</a>(prio, &amp;stk_data);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>) {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            ptcb = <a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[prio];</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="keywordflow">if</span> (ptcb != (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0) {                               <span class="comment">/* Make sure task &#39;ptcb&#39; is ...   */</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                <span class="keywordflow">if</span> (ptcb != <a class="code" href="ucos__ii_8h.html#a32b7458213ea979d03adba5077dca920">OS_TCB_RESERVED</a>) {                       <span class="comment">/* ... still valid.               */</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="preprocessor">#if OS_TASK_PROFILE_EN &gt; 0u</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="preprocessor"></span><span class="preprocessor">                    #if OS_STK_GROWTH == 1u</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="preprocessor"></span>                    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#af80b767ee5f0c0daf2b0deb7fc408fb8">OSTCBStkBase</a> = ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2a2658ad43c4363b33581d212cde48f6">OSTCBStkBottom</a> + ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a9deb07e43231ff1c7950e6bb14346faa">OSTCBStkSize</a>;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="preprocessor">                    #else</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="preprocessor"></span>                    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#af80b767ee5f0c0daf2b0deb7fc408fb8">OSTCBStkBase</a> = ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2a2658ad43c4363b33581d212cde48f6">OSTCBStkBottom</a> - ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a9deb07e43231ff1c7950e6bb14346faa">OSTCBStkSize</a>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="preprocessor">                    #endif</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="preprocessor"></span>                    ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a23aef4a458c497486e72f63f3a2c4805">OSTCBStkUsed</a> = stk_data.<a class="code" href="ucos__ii_8h.html#a4fb3f759d3ed0f534601094bdf5faf6c">OSUsed</a>;            <span class="comment">/* Store the number of bytes used */</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="preprocessor"></span>                }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a504e6d3c536501abee75502199349c8b_cgraph.png" border="0" usemap="#os__core_8c_a504e6d3c536501abee75502199349c8b_cgraph" alt=""/></div>
<map name="os__core_8c_a504e6d3c536501abee75502199349c8b_cgraph" id="os__core_8c_a504e6d3c536501abee75502199349c8b_cgraph">
<area shape="rect" id="node2" href="os__task_8c.html#ad2f10ed07769ebbd7d96e149af5a989c" title="OSTaskStkChk" alt="" coords="197,5,309,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a504e6d3c536501abee75502199349c8b_icgraph.png" border="0" usemap="#os__core_8c_a504e6d3c536501abee75502199349c8b_icgraph" alt=""/></div>
<map name="os__core_8c_a504e6d3c536501abee75502199349c8b_icgraph" id="os__core_8c_a504e6d3c536501abee75502199349c8b_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a827236210af1492f347cebe245caeda1" title="OS_TaskStat" alt="" coords="198,5,298,32"/><area shape="rect" id="node3" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="347,5,464,32"/><area shape="rect" id="node4" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="512,5,571,32"/><area shape="rect" id="node5" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="619,5,669,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95e9bc6f0d0dfe29f860cd5a5480fea4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> OS_TCBInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#a1f60e2713aaa63efc8c5fafdcdeaa8a2">OS_STK</a> *&#160;</td>
          <td class="paramname"><em>ptos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#a1f60e2713aaa63efc8c5fafdcdeaa8a2">OS_STK</a> *&#160;</td>
          <td class="paramname"><em>pbos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#a3954a3ec775325f557f0b4942a964f91">INT32U</a>&#160;</td>
          <td class="paramname"><em>stk_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l01896">1896</a> 行定义.</p>

<p>参考 <a class="el" href="os__cpu_8h_source.html#l00078">OS_ENTER_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00246">OS_ERR_NONE</a>, <a class="el" href="ucos__ii_8h_source.html#l00285">OS_ERR_TASK_NO_MORE_TCB</a>, <a class="el" href="os__cpu_8h_source.html#l00079">OS_EXIT_CRITICAL</a>, <a class="el" href="ucos__ii_8h_source.html#l00121">OS_STAT_PEND_OK</a>, <a class="el" href="ucos__ii_8h_source.html#l00105">OS_STAT_RDY</a>, <a class="el" href="_a_p_p_2os__cfg_8h_source.html#l00077">OS_TASK_REG_TBL_SIZE</a>, <a class="el" href="ucos__ii_8h_source.html#l00742">OSRdyGrp</a>, <a class="el" href="ucos__ii_8h_source.html#l00743">OSRdyTbl</a>, <a class="el" href="os__cpu__c_8c_source.html#l00105">OSTaskCreateHook()</a>, <a class="el" href="ucos__ii_8h_source.html#l00751">OSTaskCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00640">OS_TCB::OSTCBBitX</a>, <a class="el" href="ucos__ii_8h_source.html#l00641">OS_TCB::OSTCBBitY</a>, <a class="el" href="ucos__ii_8h_source.html#l00652">OS_TCB::OSTCBCtxSwCtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00654">OS_TCB::OSTCBCyclesStart</a>, <a class="el" href="ucos__ii_8h_source.html#l00653">OS_TCB::OSTCBCyclesTot</a>, <a class="el" href="ucos__ii_8h_source.html#l00648">OS_TCB::OSTCBDelReq</a>, <a class="el" href="ucos__ii_8h_source.html#l00632">OS_TCB::OSTCBDly</a>, <a class="el" href="ucos__ii_8h_source.html#l00618">OS_TCB::OSTCBEventMultiPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00614">OS_TCB::OSTCBEventPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00603">OS_TCB::OSTCBExtPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00627">OS_TCB::OSTCBFlagNode</a>, <a class="el" href="ucos__ii_8h_source.html#l00759">OSTCBFreeList</a>, <a class="el" href="ucos__ii_8h_source.html#l00607">OS_TCB::OSTCBId</a>, <a class="el" href="os__cpu__c_8c_source.html#l00299">OSTCBInitHook()</a>, <a class="el" href="ucos__ii_8h_source.html#l00761">OSTCBList</a>, <a class="el" href="ucos__ii_8h_source.html#l00622">OS_TCB::OSTCBMsg</a>, <a class="el" href="ucos__ii_8h_source.html#l00610">OS_TCB::OSTCBNext</a>, <a class="el" href="ucos__ii_8h_source.html#l00606">OS_TCB::OSTCBOpt</a>, <a class="el" href="ucos__ii_8h_source.html#l00611">OS_TCB::OSTCBPrev</a>, <a class="el" href="ucos__ii_8h_source.html#l00635">OS_TCB::OSTCBPrio</a>, <a class="el" href="ucos__ii_8h_source.html#l00762">OSTCBPrioTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00664">OS_TCB::OSTCBRegTbl</a>, <a class="el" href="ucos__ii_8h_source.html#l00633">OS_TCB::OSTCBStat</a>, <a class="el" href="ucos__ii_8h_source.html#l00634">OS_TCB::OSTCBStatPend</a>, <a class="el" href="ucos__ii_8h_source.html#l00655">OS_TCB::OSTCBStkBase</a>, <a class="el" href="ucos__ii_8h_source.html#l00604">OS_TCB::OSTCBStkBottom</a>, <a class="el" href="ucos__ii_8h_source.html#l00600">OS_TCB::OSTCBStkPtr</a>, <a class="el" href="ucos__ii_8h_source.html#l00605">OS_TCB::OSTCBStkSize</a>, <a class="el" href="ucos__ii_8h_source.html#l00656">OS_TCB::OSTCBStkUsed</a>, <a class="el" href="ucos__ii_8h_source.html#l00660">OS_TCB::OSTCBTaskName</a>, <a class="el" href="ucos__ii_8h_source.html#l00637">OS_TCB::OSTCBX</a> , 以及 <a class="el" href="ucos__ii_8h_source.html#l00638">OS_TCB::OSTCBY</a>.</p>

<p>参考自 <a class="el" href="os__task_8c_source.html#l00216">OSTaskCreate()</a> , 以及 <a class="el" href="os__task_8c_source.html#l00332">OSTaskCreateExt()</a>.</p>
<div class="fragment"><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;{</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a>    *ptcb;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="preprocessor">#if OS_CRITICAL_METHOD == 3u                               </span><span class="comment">/* Allocate storage for CPU status register */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#a5205c42256d1cca93aaa0171a20bae61">OS_CPU_SR</a>  cpu_sr = 0u;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if OS_TASK_REG_TBL_SIZE &gt; 0u</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="preprocessor"></span>    <a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>      i;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    ptcb = <a class="code" href="ucos__ii_8h.html#ad8b3475d8a0a3be8452e4fc9ee400dfb">OSTCBFreeList</a>;                                  <span class="comment">/* Get a free TCB from the free TCB list    */</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (ptcb != (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <a class="code" href="ucos__ii_8h.html#ad8b3475d8a0a3be8452e4fc9ee400dfb">OSTCBFreeList</a>            = ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae57dda41d71bf31549db963f082c1c51">OSTCBNext</a>;        <span class="comment">/* Update pointer to free TCB list          */</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a6647e3805be76c9deb863a4f6f3f981b">OSTCBStkPtr</a>        = ptos;                   <span class="comment">/* Load Stack pointer in TCB                */</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2f59dddf7726049f910bfa7c61bf229a">OSTCBPrio</a>          = prio;                   <span class="comment">/* Load task priority into TCB              */</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ac3da2b8fcd7c5155a98cf31065fe9b80">OSTCBStat</a>          = <a class="code" href="ucos__ii_8h.html#a1450c52d6c151e1e6766fa3948af90dd">OS_STAT_RDY</a>;            <span class="comment">/* Task is ready to run                     */</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a85edcad3358d773d2a93e1afc813eedd">OSTCBStatPend</a>      = <a class="code" href="ucos__ii_8h.html#a1d25ef49f6325eea1e7bde408c96cbf9">OS_STAT_PEND_OK</a>;        <span class="comment">/* Clear pend status                        */</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#acce26ca7c92ec90b231e955e50a3ba87">OSTCBDly</a>           = 0u;                     <span class="comment">/* Task is not delayed                      */</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="preprocessor">#if OS_TASK_CREATE_EXT_EN &gt; 0u</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a862720890c99c49f360fd299770e29c4">OSTCBExtPtr</a>        = pext;                   <span class="comment">/* Store pointer to TCB extension           */</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a9deb07e43231ff1c7950e6bb14346faa">OSTCBStkSize</a>       = stk_size;               <span class="comment">/* Store stack size                         */</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2a2658ad43c4363b33581d212cde48f6">OSTCBStkBottom</a>     = pbos;                   <span class="comment">/* Store pointer to bottom of stack         */</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#abad506c79c1b30e0139a09821b0f32c4">OSTCBOpt</a>           = opt;                    <span class="comment">/* Store task options                       */</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#aa48fb843e14bfdf48863234d1f59e8ea">OSTCBId</a>            = id;                     <span class="comment">/* Store task ID                            */</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="preprocessor"></span>        pext                     = pext;                   <span class="comment">/* Prevent compiler warning if not used     */</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        stk_size                 = stk_size;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        pbos                     = pbos;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        opt                      = opt;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        <span class="keywordtype">id</span>                       = id;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="preprocessor">#if OS_TASK_DEL_EN &gt; 0u</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#adb9a6bc4e790b11c8d8e0363b8375c71">OSTCBDelReq</a>        = <a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="preprocessor">#if OS_LOWEST_PRIO &lt;= 63u</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>             = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)(prio &gt;&gt; 3u);           <span class="comment">/* Pre-compute X, Y, BitX and BitY   */</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae7d6d7cd89c481d042dda72712d2cb1a">OSTCBX</a>             = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)(prio &amp; 0x07u);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>          = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)(1u &lt;&lt; ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>);</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>          = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)(1u &lt;&lt; ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae7d6d7cd89c481d042dda72712d2cb1a">OSTCBX</a>);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>             = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>)((prio &gt;&gt; 4u) &amp; 0xFFu); <span class="comment">/* Pre-compute X, Y, BitX and BitY   */</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae7d6d7cd89c481d042dda72712d2cb1a">OSTCBX</a>             = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a>) (prio &amp; 0x0F);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>          = (<a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>)(1u &lt;&lt; ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>          = (<a class="code" href="os__cpu_8h.html#af4d9da7eb3e345e431a0949058541c14">INT16U</a>)(1u &lt;&lt; ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae7d6d7cd89c481d042dda72712d2cb1a">OSTCBX</a>);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="preprocessor">#if (OS_EVENT_EN)</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a02a04fc053c735cfe2b76bb6d755ad3f">OSTCBEventPtr</a>      = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a>  *)0;         <span class="comment">/* Task is not pending on an  event         */</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="preprocessor">#if (OS_EVENT_MULTI_EN &gt; 0u)</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#aa94fe149dd4e4ba49e354230aed4a430">OSTCBEventMultiPtr</a> = (<a class="code" href="ucos__ii_8h.html#struct_o_s___e_v_e_n_t">OS_EVENT</a> **)0;         <span class="comment">/* Task is not pending on any events        */</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="preprocessor">#if (OS_FLAG_EN &gt; 0u) &amp;&amp; (OS_MAX_FLAGS &gt; 0u) &amp;&amp; (OS_TASK_DEL_EN &gt; 0u)</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a1dc0121dfa9b16799b8098eb36e7a899">OSTCBFlagNode</a>  = (<a class="code" href="ucos__ii_8h.html#struct_o_s___f_l_a_g___n_o_d_e">OS_FLAG_NODE</a> *)0;          <span class="comment">/* Task is not pending on an event flag     */</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="preprocessor">#if (OS_MBOX_EN &gt; 0u) || ((OS_Q_EN &gt; 0u) &amp;&amp; (OS_MAX_QS &gt; 0u))</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#aee02770a7c553cadff50463ce35d0ad6">OSTCBMsg</a>       = (<span class="keywordtype">void</span> *)0;                  <span class="comment">/* No message received                      */</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="preprocessor">#if OS_TASK_PROFILE_EN &gt; 0u</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a53b2f729d79ca051d77582415f482945">OSTCBCtxSwCtr</a>    = 0L;                       <span class="comment">/* Initialize profiling variables           */</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#af3424a71d88a57ac31fb1584128f6050">OSTCBCyclesStart</a> = 0L;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7caaf2c826a49bbea18e540ee72b5063">OSTCBCyclesTot</a>   = 0L;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#af80b767ee5f0c0daf2b0deb7fc408fb8">OSTCBStkBase</a>     = (<a class="code" href="os__cpu_8h.html#a1f60e2713aaa63efc8c5fafdcdeaa8a2">OS_STK</a> *)0;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a23aef4a458c497486e72f63f3a2c4805">OSTCBStkUsed</a>     = 0L;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="preprocessor">#if OS_TASK_NAME_EN &gt; 0u</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="preprocessor"></span>        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a29f5f3f4825911aecef217532a499998">OSTCBTaskName</a>    = (<a class="code" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> *)<span class="stringliteral">&quot;?&quot;</span>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="preprocessor">#if OS_TASK_REG_TBL_SIZE &gt; 0u                              </span><span class="comment">/* Initialize the task variables            */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 0u; i &lt; <a class="code" href="_a_p_p_2os__cfg_8h.html#ae5a6cc574678830ff83806fa77e983ba">OS_TASK_REG_TBL_SIZE</a>; i++) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a866d921e9bbc2abd4813fdd39ed51ddf">OSTCBRegTbl</a>[i] = 0u;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        <a class="code" href="os__cpu__c_8c.html#ad175126f54000a30bf15a47ba68cffc4">OSTCBInitHook</a>(ptcb);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <a class="code" href="os__cpu__c_8c.html#ae1fb9d8cc4bd490553efd061f0a3f68e">OSTaskCreateHook</a>(ptcb);                            <span class="comment">/* Call user defined hook                   */</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <a class="code" href="os__cpu_8h.html#aac2779e293a9c4658daeaed6b68f5cd3">OS_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <a class="code" href="ucos__ii_8h.html#aa20debf0e8624401248604162af7d979">OSTCBPrioTbl</a>[prio] = ptcb;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae57dda41d71bf31549db963f082c1c51">OSTCBNext</a>    = <a class="code" href="ucos__ii_8h.html#a11bf1577c97ecba464c62e22fbec415b">OSTCBList</a>;                    <span class="comment">/* Link into TCB chain                      */</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a9b1235ce525b46b17d06bbc26e85e5dc">OSTCBPrev</a>    = (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ucos__ii_8h.html#a11bf1577c97ecba464c62e22fbec415b">OSTCBList</a> != (<a class="code" href="ucos__ii_8h.html#struct_o_s___t_c_b">OS_TCB</a> *)0) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            <a class="code" href="ucos__ii_8h.html#a11bf1577c97ecba464c62e22fbec415b">OSTCBList</a>-&gt;<a class="code" href="ucos__ii_8h.html#a9b1235ce525b46b17d06bbc26e85e5dc">OSTCBPrev</a> = ptcb;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <a class="code" href="ucos__ii_8h.html#a11bf1577c97ecba464c62e22fbec415b">OSTCBList</a>               = ptcb;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <a class="code" href="ucos__ii_8h.html#a49b2e2692e2945cda23029b01b2d4cd5">OSRdyGrp</a>               |= ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a7b439a8d6dd69e8474907883f9e4d95b">OSTCBBitY</a>;         <span class="comment">/* Make task ready to run                   */</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <a class="code" href="ucos__ii_8h.html#a558e37150e66695682e4b7e832558cbd">OSRdyTbl</a>[ptcb-&gt;<a class="code" href="ucos__ii_8h.html#a2e62e0d49b5a6ee716ff782d87d88ede">OSTCBY</a>] |= ptcb-&gt;<a class="code" href="ucos__ii_8h.html#ae4bbdf2bd93b6d5772c9f9cd4c539e4e">OSTCBBitX</a>;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <a class="code" href="ucos__ii_8h.html#a42d918dd2944ac659534f05d146d2e9a">OSTaskCtr</a>++;                                       <span class="comment">/* Increment the #tasks counter             */</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="ucos__ii_8h.html#aba4101401c70765d26505155bd42a2a5">OS_ERR_NONE</a>);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <a class="code" href="os__cpu_8h.html#a4118ef84c499db9b81e3f8586e21354f">OS_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="ucos__ii_8h.html#abdda6b8b739880eda778ad1120829358">OS_ERR_TASK_NO_MORE_TCB</a>);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_cgraph.png" border="0" usemap="#os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_cgraph" alt=""/></div>
<map name="os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_cgraph" id="os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_cgraph">
<area shape="rect" id="node2" href="os__cpu__c_8c.html#ae1fb9d8cc4bd490553efd061f0a3f68e" title="OSTaskCreateHook" alt="" coords="145,5,282,32"/><area shape="rect" id="node4" href="os__cpu__c_8c.html#ad175126f54000a30bf15a47ba68cffc4" title="OSTCBInitHook" alt="" coords="157,56,270,83"/><area shape="rect" id="node3" href="os__app__hooks_8c.html#a3fe26c8f7986e71fe528b5e682c3897d" title="App_TaskCreateHook" alt="" coords="331,5,479,32"/><area shape="rect" id="node5" href="os__app__hooks_8c.html#a3d5498f1cb00285147781e84ddc75a3d" title="App_TCBInitHook" alt="" coords="343,56,467,83"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_icgraph.png" border="0" usemap="#os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_icgraph" alt=""/></div>
<map name="os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_icgraph" id="os__core_8c_a95e9bc6f0d0dfe29f860cd5a5480fea4_icgraph">
<area shape="rect" id="node2" href="ucos__ii_8h.html#a9e37dfb9b69276c48b497c4c4ef12c3e" title="OSTaskCreate" alt="" coords="155,56,261,83"/><area shape="rect" id="node9" href="ucos__ii_8h.html#afc7f3dc9d4456c1be5e060da4d5c3afd" title="OSTaskCreateExt" alt="" coords="145,107,271,133"/><area shape="rect" id="node3" href="os__core_8c.html#af870ae7949072c168fd4f8c17d1ae9c6" title="OS_InitTaskIdle" alt="" coords="323,5,437,32"/><area shape="rect" id="node6" href="os__core_8c.html#a15a49b390887c036182d8c0b49553fca" title="OS_InitTaskStat" alt="" coords="321,56,439,83"/><area shape="rect" id="node7" href="os__tmr_8c.html#a181e1b8d9b27b125a9d81cb8e4cb503b" title="OSTmr_InitTask" alt="" coords="323,107,437,133"/><area shape="rect" id="node4" href="ucos__ii_8h.html#afefd47bb79544cf1414a3c6954d71258" title="OSInit" alt="" coords="649,81,708,108"/><area shape="rect" id="node5" href="app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="781,157,832,184"/><area shape="rect" id="node8" href="ucos__ii_8h.html#a4d136013298ac20faeadac229fb30c21" title="OSTmr_Init" alt="" coords="489,107,575,133"/><area shape="rect" id="node10" href="app_8c.html#a00ec7c6108f783a8dabbc5ccc6b3f64a" title="App_TaskCreate" alt="" coords="321,157,439,184"/><area shape="rect" id="node11" href="app_8c.html#a9d49987cbbcbda5c3e1ae2b6de3c68be" title="App_TaskStart" alt="" coords="625,157,733,184"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">变量说明</h2>
<a class="anchor" id="a0d700eca9c505adfea39e094d353b5c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__cpu_8h.html#aa6b4f0d7384ed9d5ed0dd95e92bc5a2c">INT8U</a> const OSUnMapTbl[256]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>初始值:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    6, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    7, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    6, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0,       </div>
<div class="line">    4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0        </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>在文件 <a class="el" href="os__core_8c_source.html">os_core.c</a> 第 <a class="el" href="os__core_8c_source.html#l00038">38</a> 行定义.</p>

<p>参考自 <a class="el" href="os__core_8c_source.html#l00995">OS_EventTaskRdy()</a> , 以及 <a class="el" href="os__core_8c_source.html#l01651">OS_SchedNew()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_202a4c092cd709115b5c50b70b6611fe.html">UCOS_TI_LM3S_Keil</a></li><li class="navelem"><a class="el" href="dir_71bcdadcecd7b5ff1becd3dd629fd845.html">uCOS-II</a></li><li class="navelem"><a class="el" href="dir_039f0bfb9474175ba2ca0fe1aa10ce74.html">Source</a></li><li class="navelem"><a class="el" href="os__core_8c.html">os_core.c</a></li>
    <li class="footer">生成于 2013年 十月 1日 星期二 12:18:44 , 为 UCOS_TI_LM3S_Keil使用 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
